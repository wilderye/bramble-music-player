var __webpack_modules__ = {
  "./src/musicplayer/index.ts": 
  /*!**********************************!*\
  !*** ./src/musicplayer/index.ts ***!
  \**********************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ZodPersistedState: () => (/* binding */ ZodPersistedState),\n/* harmony export */   ZodPlaylistConfig: () => (/* binding */ ZodPlaylistConfig),\n/* harmony export */   ZodQueueItemState: () => (/* binding */ ZodQueueItemState),\n/* harmony export */   ZodSingleCondition: () => (/* binding */ ZodSingleCondition),\n/* harmony export */   ZodTrackConfig: () => (/* binding */ ZodTrackConfig),\n/* harmony export */   ZodTriggerConfig: () => (/* binding */ ZodTriggerConfig),\n/* harmony export */   ZodWorldbookConfig: () => (/* binding */ ZodWorldbookConfig)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"zod\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(zod__WEBPACK_IMPORTED_MODULE_0__);\n// =================================================================\n// =================================================================\n// 0. 诊断工具 (Diagnostic Tools)\n// =================================================================\n\nconst SCRIPT_LOAD_TIME = performance.now();\nfunction logProbe(message, type = 'log') {\n    const timestamp = `(T+${(performance.now() - SCRIPT_LOAD_TIME).toFixed(0)}ms)`;\n    const finalMessage = `${timestamp} ${message}`;\n    switch (type) {\n        case 'warn':\n            console.warn(finalMessage);\n            break;\n        case 'error':\n            console.error(finalMessage);\n            break;\n        case 'group':\n            console.group(finalMessage);\n            break;\n        case 'groupCollapsed':\n            console.groupCollapsed(finalMessage);\n            break;\n        case 'groupEnd':\n            console.groupEnd();\n            break;\n        default:\n            console.log(finalMessage);\n    }\n}\n// =================================================================\n// 1.1. Zod 边界防御 Schemas (Zod Border Defense Schemas)\n// -----------------------------------------------------------------\n// 探针: 这些 schemas 不仅仅是类型，它们是主动的验证器，是我们系统的第一道防线。\n//       每一个 `required_error` 和 `message` 都是一个内置的探针，当外部数据\n//       不符合我们的“法律”时，它们会自动报告错误。\n// 原则: 单一事实来源 (SSoT) - 关于外部数据应该长什么样的“真相”，只由这里定义。\n// =================================================================\n// 世界书音轨配置 Schema\nconst ZodTrackConfig = zod__WEBPACK_IMPORTED_MODULE_0__.z\n    .object({\n    歌名: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n    歌手: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n    封面: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().url({ message: '封面URL格式无效' }).optional(),\n    url: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().url({ message: '音轨URL格式无效' }),\n})\n    .strict();\n// 定义一个“单一条件”\nconst ZodSingleCondition = zod__WEBPACK_IMPORTED_MODULE_0__.z\n    .object({\n    variable_path: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    greater_than: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().optional(),\n    greater_than_or_equal_to: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().optional(),\n    less_than: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().optional(),\n    less_than_or_equal_to: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().optional(),\n    value: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).optional(),\n    value_contains: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n    time_in_range: zod__WEBPACK_IMPORTED_MODULE_0__.z\n        .string()\n        .regex(/^\\d{2}:\\d{2}-\\d{2}:\\d{2}$/, {\n        message: '时间范围格式必须是 \"HH:MM-HH:MM\"',\n    })\n        .optional(),\n})\n    .strict();\n// 主触发器 Schema 引用“单一条件”的数组\nconst ZodTriggerConfig = zod__WEBPACK_IMPORTED_MODULE_0__.z\n    .object({\n    type: zod__WEBPACK_IMPORTED_MODULE_0__.z.literal('mvu_variable'),\n    playlist_id: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    priority: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().default(0),\n    conditions: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(ZodSingleCondition).nonempty({ message: '触发器必须至少包含一个条件' }),\n})\n    .strict();\n// 世界书歌单配置 Schema\nconst ZodPlaylistConfig = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    onFinishRule: zod__WEBPACK_IMPORTED_MODULE_0__.z.enum(['loop', 'pop'], { message: \"onFinishRule 必须是 'loop' 或 'pop'\" }).default('loop'),\n    tracks: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(ZodTrackConfig).nonempty({ message: \"歌单的 'tracks' 列表不能为空\" }),\n});\n// 世界书总配置 Schema (这是我们将使用的顶级验证器)\nconst ZodWorldbookConfig = zod__WEBPACK_IMPORTED_MODULE_0__.z\n    .object({\n    default_playlist_id: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n    playlists: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(ZodPlaylistConfig).optional(),\n    triggers: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(ZodTriggerConfig).optional(),\n})\n    .strict();\n// 持久化状态 - 队列项 Schema\nconst ZodQueueItemState = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    playlistId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    currentIndex: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().default(0),\n    playedIndices: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.number()).default([]),\n    wasEverPlayed: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().default(false),\n    triggerSource: ZodTriggerConfig.optional(),\n});\n// 持久化状态 - 总 Schema\nconst ZodPersistedState = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    active_queue: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(ZodQueueItemState),\n    mode: zod__WEBPACK_IMPORTED_MODULE_0__.z.enum(['list', 'single', 'random']).default('list'),\n    volume: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().min(0).max(1).default(0.5),\n    previousMvuState: zod__WEBPACK_IMPORTED_MODULE_0__.z.record(zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.any()).optional(),\n});\nconst STATE_KEY_MVU_HISTORY = '灰烬双星_MVU状态记忆';\n/**\n * [工具函数] 将多种格式的时间字符串解析为从午夜开始的分钟数。\n * 它的职责单一，且对输入格式有很强的容错能力。\n * @param timeStr - 例如 \"14:30\", \"8时5分\", \"22 : 00\"\n * @returns {number | null} 转换后的分钟数，或在无法解析时返回 null。\n */\nfunction _parseTimeToMinutes(timeStr) {\n    // 探针: 记录传入的原始值，便于调试\n    if (!timeStr || typeof timeStr !== 'string')\n        return null;\n    // 步骤1: 归一化输入，处理常见变体 (已修正 let -> const 和 replace 语法)\n    const cleanStr = timeStr.trim().replace('：', ':');\n    let match;\n    // 步骤2: 尝试匹配 \"HH:MM\" 格式 (最常见)\n    match = cleanStr.match(/^(\\d{1,2})\\s*:\\s*(\\d{1,2})$/);\n    if (match) {\n        const hours = parseInt(match[1], 10);\n        const minutes = parseInt(match[2], 10);\n        // 严格校验数值范围\n        if (hours >= 0 && hours < 24 && minutes >= 0 && minutes < 60) {\n            return hours * 60 + minutes;\n        }\n    }\n    // 步骤3: 尝试匹配 \"H时M分\" 格式\n    match = cleanStr.match(/^(\\d{1,2})\\s*时\\s*(\\d{1,2})\\s*分?$/);\n    if (match) {\n        const hours = parseInt(match[1], 10);\n        const minutes = parseInt(match[2], 10);\n        if (hours >= 0 && hours < 24 && minutes >= 0 && minutes < 60) {\n            return hours * 60 + minutes;\n        }\n    }\n    // 探针: 如果所有格式都匹配失败，记录下来\n    logProbe(`[TimeParser] 无法解析时间字符串: \"${timeStr}\"`, 'warn');\n    // [新增] 修复“缺少 return”的逻辑漏洞\n    return null;\n}\n// =================================================================\n// 2. MVU 管理器 (The MvuManager - \"The Analyst\")\n// =================================================================\nconst MvuManager = (() => {\n    logProbe('[MvuManager] 模块正在初始化...');\n    let _previousMvuState = {};\n    /**\n     * [核心算法 V2.1] 检查一个给定的 stat_data 是否满足一个触发器的所有条件。\n     * 新版已加固，支持多种匹配模式和 AND 条件组合，且代码风格已优化。\n     */\n    function _checkTriggerCondition(trigger, statData) {\n        if (!statData)\n            return false;\n        // 遍历所有 AND 条件。只要有一个不满足，整个触发器就失败。\n        for (const condition of trigger.conditions) {\n            const currentValue = _.get(statData, condition.variable_path);\n            let conditionMet = false; // 当前条件是否满足\n            let isHandled = false; // 当前条件是否被任何一个匹配模式处理过\n            // 使用 if / else if 链条，确保每个条件项只采用一种匹配模式\n            if (condition.value_contains !== undefined) {\n                isHandled = true;\n                // [安全加固] 必须检查 currentValue 是字符串，否则 .includes() 会导致崩溃\n                if (typeof currentValue === 'string' && currentValue.includes(condition.value_contains)) {\n                    conditionMet = true;\n                }\n            }\n            else if (condition.time_in_range !== undefined) {\n                isHandled = true;\n                // [安全加固] 同样检查类型\n                if (typeof currentValue === 'string') {\n                    const currentTimeInMinutes = _parseTimeToMinutes(currentValue);\n                    if (currentTimeInMinutes !== null) {\n                        const [startStr, endStr] = condition.time_in_range.split('-');\n                        const startMinutes = _parseTimeToMinutes(startStr);\n                        const endMinutes = _parseTimeToMinutes(endStr);\n                        if (startMinutes !== null && endMinutes !== null) {\n                            // [代码风格修正] 移除不必要的嵌套 if，使代码更简洁\n                            if (startMinutes <= endMinutes) {\n                                // 普通范围\n                                conditionMet = currentTimeInMinutes >= startMinutes && currentTimeInMinutes <= endMinutes;\n                            }\n                            else {\n                                // 跨天范围\n                                conditionMet = currentTimeInMinutes >= startMinutes || currentTimeInMinutes <= endMinutes;\n                            }\n                        }\n                    }\n                }\n            }\n            else if (condition.value !== undefined) {\n                isHandled = true;\n                if (currentValue === condition.value) {\n                    conditionMet = true;\n                }\n            }\n            else if (condition.greater_than !== undefined) {\n                isHandled = true;\n                if (typeof currentValue === 'number' && currentValue > condition.greater_than) {\n                    conditionMet = true;\n                }\n            }\n            else if (condition.greater_than_or_equal_to !== undefined) {\n                isHandled = true;\n                if (typeof currentValue === 'number' && currentValue >= condition.greater_than_or_equal_to) {\n                    conditionMet = true;\n                }\n            }\n            else if (condition.less_than !== undefined) {\n                isHandled = true;\n                if (typeof currentValue === 'number' && currentValue < condition.less_than) {\n                    conditionMet = true;\n                }\n            }\n            else if (condition.less_than_or_equal_to !== undefined) {\n                isHandled = true;\n                if (typeof currentValue === 'number' && currentValue <= condition.less_than_or_equal_to) {\n                    conditionMet = true;\n                }\n            }\n            // [最终裁决] 如果这是一个空条件 (isHandled=false)，或条件不满足，则立即失败\n            if (!isHandled || !conditionMet) {\n                return false;\n            }\n        }\n        // 如果循环正常结束，说明所有 AND 条件都满足\n        return true;\n    }\n    // --- 公共接口 ---\n    const publicAPI = {\n        checkTriggerCondition: _checkTriggerCondition,\n        /**\n         * [生命周期] 从酒馆变量中读取并恢复上一次的 MVU 状态。\n         */\n        initialize() {\n            logProbe('[MvuManager] (Lifecycle) 执行 initialize...');\n            try {\n                const savedState = getVariables({ type: 'chat' })[STATE_KEY_MVU_HISTORY];\n                if (savedState && typeof savedState === 'object') {\n                    _previousMvuState = savedState;\n                    logProbe('[MvuManager] 成功从存档中恢复了 MVU 历史状态。');\n                }\n                else {\n                    _previousMvuState = {};\n                    logProbe('[MvuManager] 未发现有效的 MVU 历史存档，已初始化为空状态。', 'warn');\n                }\n            }\n            catch (error) {\n                logProbe(`[MvuManager] 初始化时读取存档失败: ${error}`, 'error');\n                _previousMvuState = {};\n            }\n        },\n        resetState() {\n            logProbe('[MvuManager] (Lifecycle) 正在重置模块内部状态...');\n            _previousMvuState = {};\n            logProbe('[MvuManager] 模块状态已重置。');\n        },\n        /**\n         * [命令] 将当前的 MVU 状态持久化到酒馆变量中。\n         * @param currentStateData - 最新的 stat_data 对象。\n         */\n        async persistCurrentState(currentStateData) {\n            if (!isScriptActive) {\n                logProbe('[MvuManager] 持久化操作被阻止，因为脚本正在停机。', 'warn');\n                return;\n            }\n            logProbe('[MvuManager] (Command) 执行 persistCurrentState...');\n            _previousMvuState = _.cloneDeep(currentStateData);\n            try {\n                await updateVariablesWith(vars => {\n                    vars[STATE_KEY_MVU_HISTORY] = _previousMvuState;\n                    return vars;\n                }, { type: 'chat' });\n                logProbe('[MvuManager] 已成功将当前 MVU 状态持久化。');\n            }\n            catch (error) {\n                logProbe(`[MvuManager] 持久化 MVU 状态时发生严重错误: ${error}`, 'error');\n            }\n        },\n        /**\n         * [查询] 获取内存中存储的上一次的 MVU 状态。\n         */\n        getPreviousState: () => _.cloneDeep(_previousMvuState),\n        /**\n         * [核心查询] 计算新旧状态之间的“边沿变化”。\n         * @param previousStateData - 上一次的 stat_data。\n         * @param currentStateData - 最新的 stat_data。\n         * @param allTriggers - 从世界书解析出的所有有效触发器。\n         * @returns 报告对象，包含新激活和新失效的触发器列表。\n         */\n        calculateChangeReport(previousStateData, currentStateData, allTriggers) {\n            const report = { newlyActiveTriggers: [], newlyInactiveTriggers: [] };\n            logProbe('[MvuManager] (Query) 正在计算状态变化报告 (\"边沿检测\")...', 'group');\n            logProbe('[Probe] 正在审查用于对比的新旧状态数据:');\n            console.log('上一份历史记忆 (previousStateData):');\n            console.dir(_.cloneDeep(previousStateData));\n            console.log('当前权威状态 (currentStateData):');\n            console.dir(_.cloneDeep(currentStateData));\n            // =======================================================\n            for (const trigger of allTriggers) {\n                const wasMet = _checkTriggerCondition(trigger, previousStateData);\n                const isMet = _checkTriggerCondition(trigger, currentStateData);\n                if (!wasMet && isMet) {\n                    logProbe(`(探針) 新激活的触发器 -> playlist: \"${trigger.playlist_id}\"`);\n                    report.newlyActiveTriggers.push(trigger);\n                }\n                else if (wasMet && !isMet) {\n                    logProbe(`(探針) 新失效的触发器 -> playlist: \"${trigger.playlist_id}\"`);\n                    report.newlyInactiveTriggers.push(trigger);\n                }\n            }\n            logProbe(`报告生成完毕: ${report.newlyActiveTriggers.length} 个新激活, ${report.newlyInactiveTriggers.length} 个新失效。`);\n            logProbe('', 'groupEnd');\n            return report;\n        },\n    };\n    logProbe('[MvuManager] 模块初始化完成。');\n    return publicAPI;\n})();\n// =================================================================\n// 2. 状态管理器 (The State Manager) - [V2.0 重构版]\n// =================================================================\nconst StateManager = (() => {\n    logProbe('[StateManager] 模块正在初始化 (优先级队列内核)...');\n    // -------------------\n    // 2.1. 私有状态 (Private State)\n    // -------------------\n    // [重构] 核心数据结构变更为优先级队列\n    let _activePlaylistQueue = [];\n    let _playbackMode = 'list';\n    let _masterVolume = 0.5;\n    let _isPlaying = false;\n    let _isPerformingEffect = false;\n    // -------------------\n    // 2.2. 私有核心算法 (Private Core Algorithms)\n    // -------------------\n    function _applyDepartureIsHistoryPrinciple(item, departingIndex) {\n        if (typeof departingIndex !== 'number' || departingIndex < 0)\n            return;\n        item.playedIndices.add(departingIndex);\n    }\n    // -------------------\n    // 2.3. 公共接口 (Public API)\n    // -------------------\n    const publicAPI = {\n        // --- 基础状态查询 ---\n        getPlaybackMode: () => _playbackMode,\n        getVolume: () => _masterVolume,\n        isPlaying: () => _isPlaying,\n        isPerformingEffect: () => _isPerformingEffect,\n        // --- [重构] 队列核心查询 ---\n        /**\n         * 获取当前优先级最高的歌单项（队首）。\n         * 这是系统唯一的事实来源：当前应该播放什么。\n         */\n        getTopQueueItem: () => _.cloneDeep(_activePlaylistQueue[0]),\n        /**\n         * 获取整个队列的副本（用于调试或决策分析）。\n         */\n        getQueue: () => _.cloneDeep(_activePlaylistQueue),\n        // --- 状态快照 ---\n        getStateSnapshotForRuntime: () => {\n            return _.cloneDeep({\n                active_queue: _activePlaylistQueue,\n                mode: _playbackMode,\n                volume: _masterVolume,\n                isPlaying: _isPlaying,\n                isPerformingEffect: _isPerformingEffect,\n            });\n        },\n        getStateSnapshotForPersistence() {\n            const runtimeQueue = _.cloneDeep(_activePlaylistQueue);\n            const persistentQueue = runtimeQueue.map(item => {\n                const persistedItem = _.omit(item, ['playbackPlan', 'planIndex', 'playlistContent']);\n                return {\n                    ...persistedItem,\n                    // 将 Set 转换为 Array 以便 JSON 序列化\n                    playedIndices: Array.from(item.playedIndices),\n                };\n            });\n            return {\n                active_queue: persistentQueue,\n                mode: _playbackMode,\n                volume: _masterVolume,\n                // previousMvuState 由 MvuManager 单独管理，此处仅返回核心状态\n            };\n        },\n        // --- 生命周期管理 ---\n        resetState() {\n            logProbe('[StateManager] 正在硬性重置所有状态...', 'warn');\n            _activePlaylistQueue = [];\n            _playbackMode = 'list';\n            _masterVolume = 0.5;\n            _isPlaying = false;\n            _isPerformingEffect = false;\n        },\n        loadState(stateToLoad) {\n            logProbe('[StateManager] 正在加载状态...', 'group');\n            _playbackMode = stateToLoad.mode;\n            _masterVolume = stateToLoad.volume;\n            _activePlaylistQueue = stateToLoad.active_queue || [];\n            logProbe(`状态加载完成. 队列深度: ${_activePlaylistQueue.length}, 模式: ${_playbackMode}, 音量: ${_masterVolume}`);\n            logProbe('', 'groupEnd');\n        },\n        // --- 基础状态设置 ---\n        setPlaybackMode: (mode) => {\n            _playbackMode = mode;\n        },\n        setVolume: (volume) => {\n            _masterVolume = volume;\n        },\n        setPlaying: (playing) => {\n            _isPlaying = playing;\n        },\n        setPerformingEffect: (isPerforming) => {\n            _isPerformingEffect = isPerforming;\n        },\n        // --- [重构] 队列核心操作 ---\n        /**\n         * [核心] 更新整个队列。\n         * 此方法会自动按优先级降序排列队列，确保 _activePlaylistQueue[0] 永远是优先级最高的。\n         */\n        updateQueue(newQueue) {\n            logProbe(`[StateManager] (Command) updateQueue: 正在更新并重排序队列 (共 ${newQueue.length} 项)...`);\n            _activePlaylistQueue = _.cloneDeep(newQueue).sort((a, b) => b.priority - a.priority);\n            if (_activePlaylistQueue.length > 0) {\n                logProbe(`(探针) 新队首: \"${_activePlaylistQueue[0].playlistId}\" (优先级: ${_activePlaylistQueue[0].priority})`);\n            }\n            else {\n                logProbe(`(探针) 队列现已为空。`);\n            }\n        },\n        // --- 当前项操作 (作用于队首) ---\n        setCurrentIndex(index) {\n            const currentItem = _activePlaylistQueue[0];\n            if (currentItem) {\n                _applyDepartureIsHistoryPrinciple(currentItem, currentItem.currentIndex);\n                currentItem.currentIndex = index;\n            }\n        },\n        commitNavigationStep(newTrackIndex) {\n            const currentItem = _activePlaylistQueue[0];\n            if (!currentItem)\n                return;\n            _applyDepartureIsHistoryPrinciple(currentItem, currentItem.currentIndex);\n            if (_playbackMode === 'random' && currentItem.playbackPlan) {\n                const newPlanIndex = currentItem.playbackPlan.indexOf(newTrackIndex);\n                if (newPlanIndex !== -1) {\n                    currentItem.planIndex = newPlanIndex;\n                }\n            }\n            currentItem.currentIndex = newTrackIndex;\n        },\n        clearHistoryForCurrentItem() {\n            const currentItem = _activePlaylistQueue[0];\n            if (currentItem)\n                currentItem.playedIndices.clear();\n        },\n        resetCurrentItemForLoop() {\n            const currentItem = _activePlaylistQueue[0];\n            if (currentItem) {\n                currentItem.playedIndices.clear();\n                currentItem.currentIndex = 0;\n            }\n        },\n        commitGenesisState(newCurrentIndex, newPlaybackPlan, newPlanIndex) {\n            const currentItem = _activePlaylistQueue[0];\n            if (currentItem) {\n                currentItem.currentIndex = newCurrentIndex;\n                currentItem.playbackPlan = newPlaybackPlan;\n                currentItem.planIndex = newPlanIndex;\n            }\n        },\n        userInitiatedJump(trackIndex) {\n            const currentItem = _activePlaylistQueue[0];\n            if (!currentItem || trackIndex === currentItem.currentIndex)\n                return;\n            _applyDepartureIsHistoryPrinciple(currentItem, currentItem.currentIndex);\n            currentItem.currentIndex = trackIndex;\n            if (this.getPlaybackMode() === 'random' && currentItem.playbackPlan) {\n                const newPlanIndex = currentItem.playbackPlan.indexOf(trackIndex);\n                if (newPlanIndex !== -1)\n                    currentItem.planIndex = newPlanIndex;\n            }\n        },\n        clearRandomModePlan() {\n            const currentItem = _activePlaylistQueue[0];\n            if (currentItem) {\n                currentItem.playbackPlan = undefined;\n                currentItem.planIndex = undefined;\n            }\n        },\n        applyNewPlaybackPlan(plan, planIndex) {\n            const currentItem = _activePlaylistQueue[0];\n            if (currentItem) {\n                currentItem.playbackPlan = plan;\n                currentItem.planIndex = planIndex;\n            }\n        },\n    };\n    logProbe('[StateManager] 模块初始化完成 (V2.0 内核)。');\n    return publicAPI;\n})();\n// =================================================================\n// 2.1. 播放引擎 (The Playback Engine)\n// =================================================================\nconst PlaybackEngine = (() => {\n    logProbe('[PlaybackEngine] 模块正在初始化...');\n    let _playerA = null;\n    let _playerB = null;\n    let _activePlayer = null;\n    let _standbyPlayer = null;\n    let _fadeInterval = null;\n    const FADE_DURATION = 400;\n    // --- 私有函数 ---\n    function _swapPlayers() {\n        [_activePlayer, _standbyPlayer] = [_standbyPlayer, _activePlayer];\n    }\n    function _fadeVolumeAsync(player, targetVolume, duration) {\n        return new Promise(resolve => {\n            if (_fadeInterval) {\n                clearInterval(_fadeInterval);\n                _fadeInterval = null;\n            }\n            if (!player)\n                return resolve();\n            const startVolume = player.volume;\n            const stepTime = 50;\n            const steps = duration / stepTime;\n            if (steps <= 0) {\n                player.volume = targetVolume;\n                return resolve();\n            }\n            const volumeStep = (targetVolume - startVolume) / steps;\n            let currentStep = 0;\n            _fadeInterval = window.setInterval(() => {\n                currentStep++;\n                if (currentStep >= steps) {\n                    if (_fadeInterval)\n                        clearInterval(_fadeInterval);\n                    _fadeInterval = null;\n                    player.volume = targetVolume;\n                    resolve();\n                }\n                else {\n                    player.volume += volumeStep;\n                }\n            }, stepTime);\n        });\n    }\n    // --- 公共接口 ---\n    const publicAPI = {\n        initialize() {\n            if (_playerA && _playerB)\n                return;\n            logProbe('[Engine] 正在创建和配置 HTML5 Audio 元素...');\n            const createPlayer = () => {\n                const audio = new Audio();\n                audio.preload = 'auto';\n                audio.crossOrigin = 'anonymous';\n                audio.addEventListener('ended', () => {\n                    if (audio === _activePlayer)\n                        void _handleTrackEnded();\n                });\n                audio.addEventListener('error', () => {\n                    /* 错误由 Promise reject 处理 */\n                });\n                audio.addEventListener('timeupdate', broadcastTimeUpdate);\n                return audio;\n            };\n            _playerA = createPlayer();\n            _playerB = createPlayer();\n            _activePlayer = _playerA;\n            _standbyPlayer = _playerB;\n            logProbe('[Engine] Audio 元素已就绪。');\n        },\n        getActivePlayer: () => _activePlayer,\n        getStandbyPlayer: () => _standbyPlayer,\n        async transitionToTrack(targetTrackUrl, targetVolume) {\n            logProbe(`[Engine] 收到过渡请求: URL=${targetTrackUrl.slice(0, 50)}...`, 'group');\n            if (!_standbyPlayer || !_activePlayer) {\n                logProbe('[Engine] 过渡中止：播放器实例尚未初始化。', 'error');\n                logProbe('', 'groupEnd');\n                throw new Error('播放器实例尚未初始化');\n            }\n            const standbyPlayer = _standbyPlayer;\n            const activePlayer = _activePlayer;\n            standbyPlayer.src = targetTrackUrl;\n            standbyPlayer.load();\n            try {\n                await new Promise((resolve, reject) => {\n                    const onCanPlay = () => {\n                        standbyPlayer.removeEventListener('canplaythrough', onCanPlay);\n                        standbyPlayer.removeEventListener('error', onError);\n                        logProbe('[Engine] 备用播放器加载成功 (canplaythrough)。', 'log');\n                        resolve();\n                    };\n                    const onError = (e) => {\n                        standbyPlayer.removeEventListener('canplaythrough', onCanPlay);\n                        standbyPlayer.removeEventListener('error', onError);\n                        logProbe(`[Engine] 备用播放器加载失败!`, 'error');\n                        const target = e.target;\n                        const error = target.error;\n                        reject(new Error(`音频加载失败: ${error?.message || '未知错误'}`));\n                    };\n                    standbyPlayer.addEventListener('canplaythrough', onCanPlay);\n                    standbyPlayer.addEventListener('error', onError);\n                });\n            }\n            catch (error) {\n                logProbe('[Engine] 过渡因加载失败而中止。', 'groupEnd');\n                throw error;\n            }\n            await _fadeVolumeAsync(activePlayer, 0, 500);\n            activePlayer.pause();\n            _swapPlayers();\n            const newActivePlayer = this.getActivePlayer();\n            if (!newActivePlayer)\n                throw new Error('播放器实例在交换后丢失');\n            const playPromise = newActivePlayer.play();\n            if (playPromise) {\n                await playPromise;\n            }\n            await _fadeVolumeAsync(newActivePlayer, targetVolume, 500);\n            logProbe('[Engine] 过渡成功完成。', 'groupEnd');\n        },\n        async fadeOutAndPause() {\n            logProbe('[Engine] 命令: FadeOutAndPause');\n            await _fadeVolumeAsync(_activePlayer, 0, FADE_DURATION);\n            _activePlayer?.pause();\n        },\n        async executeHardCut(targetTrackUrl, targetVolume) {\n            logProbe(`[Engine:HardCut] 收到“瞬击”请求: URL=${targetTrackUrl.slice(0, 50)}...`, 'group');\n            const activePlayer = this.getActivePlayer();\n            if (!activePlayer) {\n                logProbe('[Engine:HardCut] 致命错误：无可用播放器实例。', 'error');\n                logProbe('', 'groupEnd');\n                throw new Error('No active player available for hard cut.');\n            }\n            logProbe(`(探针) 切换前 src: ${activePlayer.src.slice(-50)}`);\n            activePlayer.pause();\n            activePlayer.src = targetTrackUrl;\n            activePlayer.volume = targetVolume;\n            logProbe(`(探针) 切换后 src: ${activePlayer.src.slice(-50)}`);\n            try {\n                const playPromise = activePlayer.play();\n                if (playPromise) {\n                    await playPromise;\n                }\n                StateManager.setPlaying(true);\n                logProbe('[Engine:HardCut] “瞬击”播放成功。');\n            }\n            catch (error) {\n                logProbe(`[Engine:HardCut] “瞬击”播放失败! 这通常是因为用户未与页面交互。`, 'error');\n                StateManager.setPlaying(false);\n                throw error;\n            }\n            finally {\n                logProbe('', 'groupEnd');\n            }\n        },\n        async resumeAndFadeIn(targetVolume) {\n            logProbe('[Engine] 命令: ResumeAndFadeIn');\n            const playPromise = _activePlayer?.play();\n            if (playPromise)\n                await playPromise;\n            await _fadeVolumeAsync(_activePlayer, targetVolume, FADE_DURATION);\n        },\n    };\n    logProbe('[PlaybackEngine] 模块初始化完成。');\n    return publicAPI;\n})();\n// =================================================================\n// 2.2. 播放策略实现 (Playback Strategies)\n// =================================================================\nclass ListStrategy {\n    onQueueChanged(_currentItem) { }\n    advance(currentItem, direction) {\n        logProbe(`[Strategy:List] 收到 advance 请求. 方向: ${direction}, 当前: { playlistId: \"${currentItem.playlistId}\", index: ${currentItem.currentIndex}, rule: \"${currentItem.onFinishRule}\" }`);\n        if (direction === 'next') {\n            logProbe('[Strategy:List] 决策: advance(next) -> 委托给 onTrackEnd');\n            return this.onTrackEnd(currentItem);\n        }\n        const { currentIndex, onFinishRule, playlistContent } = currentItem;\n        const totalTracks = playlistContent.length;\n        if (currentIndex > 0) {\n            const nextIndex = currentIndex - 1;\n            logProbe(`[Strategy:List] 决策: advance(prev) -> GoTo (index: ${nextIndex})`);\n            return { action: 'GoTo', nextIndex };\n        }\n        else if (onFinishRule === 'loop') {\n            const lastIndex = totalTracks > 0 ? totalTracks - 1 : 0;\n            logProbe(`[Strategy:List] 决策: advance(prev) at start -> Loop to end (index: ${lastIndex})`);\n            return { action: 'GoTo', nextIndex: lastIndex };\n        }\n        else {\n            logProbe('[Strategy:List] 决策: advance(prev) at start -> Restart');\n            return { action: 'Restart' };\n        }\n    }\n    onTrackEnd(currentItem) {\n        logProbe(`[Strategy:List] 收到 onTrackEnd 请求. 当前: { playlistId: \"${currentItem.playlistId}\", index: ${currentItem.currentIndex}, rule: \"${currentItem.onFinishRule}\" }`);\n        const { currentIndex, onFinishRule, playlistContent, playedIndices } = currentItem;\n        const totalTracks = playlistContent.length;\n        const nextIndex = currentIndex + 1;\n        if (nextIndex < totalTracks) {\n            logProbe(`[Strategy:List] 决策: onTrackEnd -> GoTo (index: ${nextIndex})`);\n            return { action: 'GoTo', nextIndex };\n        }\n        else if (onFinishRule === 'pop') {\n            logProbe('[Strategy:List] 决策: onTrackEnd at end -> PopStack');\n            return { action: 'RemoveTopAndAdvance' };\n        }\n        else {\n            const totalValidTracks = playlistContent.length;\n            const historySizeAfterThisTrack = playedIndices.size + 1;\n            if (historySizeAfterThisTrack >= totalValidTracks) {\n                logProbe(`[Strategy:List] 决策: onTrackEnd at end -> LoopReset (一个完整的循环已结束)`, 'warn');\n                return { action: 'LoopReset' };\n            }\n            else {\n                logProbe(`[Strategy:List] 决策: onTrackEnd at end -> GoTo (普通循环，继续播放未听过的歌曲)`);\n                return { action: 'GoTo', nextIndex: 0 };\n            }\n        }\n    }\n    onPlaybackError(currentItem) {\n        logProbe(`[Strategy:List] 收到 onPlaybackError 请求。决策: 委托给 advance('next')`);\n        return this.advance(currentItem, 'next');\n    }\n}\n// 用这段代码替换\nclass SingleStrategy {\n    onQueueChanged(_currentItem) { }\n    advance(_currentItem, direction) {\n        logProbe(`[Strategy:Single] 收到 advance 请求. 方向: ${direction}. 决策: Restart`);\n        return { action: 'Restart' };\n    }\n    onTrackEnd(_currentItem) {\n        logProbe(`[Strategy:Single] 收到 onTrackEnd 请求. 决策: Restart`);\n        return { action: 'Restart' };\n    }\n    onPlaybackError(_currentItem) {\n        logProbe(`[Strategy:Single] 收到 onPlaybackError 请求。决策: Stop (单曲循环下无法自动前进)`);\n        return { action: 'Stop' };\n    }\n}\nclass RandomStrategy {\n    _generateIntelligentShuffle(allTrackIndices, playedIndices, currentIndex) {\n        logProbe(`[Strategy:Random] (Algo) _generateIntelligentShuffle 执行...`, 'groupCollapsed');\n        logProbe(`输入: allIndices.length=${allTrackIndices.length}, playedIndices.size=${playedIndices.size}, currentIndex=${currentIndex}`);\n        const sourceForShuffle = allTrackIndices.filter(i => !playedIndices.has(i) && i !== currentIndex);\n        logProbe(`计算待选池 (sourceForShuffle) 大小: ${sourceForShuffle.length}`);\n        for (let i = sourceForShuffle.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [sourceForShuffle[i], sourceForShuffle[j]] = [sourceForShuffle[j], sourceForShuffle[i]];\n        }\n        logProbe(`洗牌完成. 输出 shuffledIndices (纯粹的未来队列): [${sourceForShuffle.join(', ')}]`);\n        logProbe('', 'groupEnd');\n        return sourceForShuffle;\n    }\n    _generatePlaybackPlan(playedIndices, currentIndex, shuffledIndices) {\n        logProbe(`[Strategy:Random] (Algo) _generatePlaybackPlan 执行...`, 'groupCollapsed');\n        logProbe(`输入: playedIndices.size=${playedIndices.size}, currentIndex=${currentIndex}, shuffledIndices.length=${shuffledIndices.length}`);\n        const knownSequence = Array.from(new Set([...playedIndices, currentIndex]));\n        const planIndex = knownSequence.indexOf(currentIndex);\n        const playbackPlan = [...knownSequence, ...shuffledIndices];\n        logProbe(`(守护者探针) \"已知序列\" (unique history + current): [${knownSequence.join(', ')}]`);\n        logProbe(`生成导航地图 (playbackPlan): [${playbackPlan.join(', ')}]`);\n        logProbe(`定位导航指针 (planIndex): ${planIndex}`);\n        logProbe('', 'groupEnd');\n        return { playbackPlan, planIndex };\n    }\n    _handlePlanEnd(currentItem) {\n        logProbe(`[Strategy:Random] (Helper) _handlePlanEnd: 已到达计划终点，开始进行边界决策...`, 'groupCollapsed');\n        logProbe(`(探针) 待决策歌单: \"${currentItem.playlistId}\", 结束规则: \"${currentItem.onFinishRule}\"`);\n        if (currentItem.onFinishRule === 'pop') {\n            logProbe(`(边界决策) onFinishRule 为 'pop'，决策 -> PopStack`);\n            logProbe('', 'groupEnd');\n            return { action: 'RemoveTopAndAdvance' };\n        }\n        else {\n            logProbe(`(边界决策) onFinishRule 为 'loop'，决策 -> LoopReset`);\n            logProbe('', 'groupEnd');\n            return { action: 'LoopReset' };\n        }\n    }\n    onQueueChanged(currentItem) {\n        if (!currentItem) {\n            logProbe('[Strategy:Random] onQueueChanged 中止：无有效的当前项。');\n            return;\n        }\n        logProbe(`[Strategy:Random] onQueueChanged 已触发 (连续性恢复)，将为歌单 \"${currentItem.playlistId}\" 生成播放计划...`);\n        const allIndices = currentItem.playlistContent.map((_, i) => i);\n        const shuffled = this._generateIntelligentShuffle(allIndices, currentItem.playedIndices, currentItem.currentIndex);\n        const { playbackPlan, planIndex } = this._generatePlaybackPlan(currentItem.playedIndices, currentItem.currentIndex, shuffled);\n        StateManager.applyNewPlaybackPlan(playbackPlan, planIndex);\n    }\n    prepareGenesis(currentItem) {\n        if (!currentItem || !currentItem.playlistContent) {\n            logProbe('[Strategy:Random] prepareGenesis 中止：传入的队列项无效。', 'error');\n            return null;\n        }\n        logProbe('[Strategy:Random] (Query) prepareGenesis: 收到“创世乐谱”谱写请求...', 'group');\n        const allIndices = currentItem.playlistContent.map((_, i) => i);\n        for (let i = allIndices.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [allIndices[i], allIndices[j]] = [allIndices[j], allIndices[i]];\n        }\n        const newPlaybackPlan = allIndices;\n        const newPlanIndex = 0;\n        const newCurrentIndex = newPlaybackPlan[newPlanIndex];\n        logProbe(`(乐谱) 谱写完成。New CurrentIndex: ${newCurrentIndex}, New PlanIndex: ${newPlanIndex}`);\n        logProbe('', 'groupEnd');\n        return { newCurrentIndex, newPlaybackPlan, newPlanIndex };\n    }\n    advance(currentItem, direction) {\n        logProbe(`[Strategy:Random] 收到 advance 请求. 方向: ${direction}`, 'groupCollapsed');\n        const { playbackPlan, planIndex } = currentItem;\n        if (!playbackPlan || planIndex === undefined) {\n            logProbe('[Strategy:Random] 决策中止：导航计划 (playbackPlan) 尚未初始化。', 'error');\n            logProbe('', 'groupEnd');\n            return { action: 'DoNothing' };\n        }\n        logProbe(`(探针) 当前导航指针 (planIndex): ${planIndex}`);\n        logProbe(`(探针) 导航地图 (playbackPlan): [${playbackPlan.join(', ')}]`);\n        if (direction === 'next') {\n            const nextPlanIndex = planIndex + 1;\n            if (nextPlanIndex < playbackPlan.length) {\n                const targetTrackIndex = playbackPlan[nextPlanIndex];\n                logProbe(`[Strategy:Random] 决策: advance(next) -> GoTo (新 planIndex: ${nextPlanIndex}, 目标 trackIndex: ${targetTrackIndex})`);\n                logProbe('', 'groupEnd');\n                return { action: 'GoTo', nextIndex: targetTrackIndex };\n            }\n            else {\n                logProbe('[Strategy:Random] advance(next) 已到达计划终点，委托给 _handlePlanEnd...');\n                logProbe('', 'groupEnd');\n                return this._handlePlanEnd(currentItem);\n            }\n        }\n        else {\n            // direction === 'prev'\n            const prevPlanIndex = planIndex - 1;\n            if (prevPlanIndex >= 0) {\n                const targetTrackIndex = playbackPlan[prevPlanIndex];\n                logProbe(`[Strategy:Random] 决策: advance(prev) -> GoTo (新 planIndex: ${prevPlanIndex}, 目标 trackIndex: ${targetTrackIndex})`);\n                logProbe('', 'groupEnd');\n                return { action: 'GoTo', nextIndex: targetTrackIndex };\n            }\n            else {\n                logProbe(`[Strategy:Random] 决策: advance(prev) 已在计划起点。返回 DoNothing。`);\n                logProbe('', 'groupEnd');\n                return { action: 'DoNothing' };\n            }\n        }\n    }\n    onTrackEnd(currentItem) {\n        logProbe(`[Strategy:Random] 收到 onTrackEnd 请求.`, 'groupCollapsed');\n        const { playbackPlan, planIndex } = currentItem;\n        if (!playbackPlan || planIndex === undefined) {\n            logProbe('[Strategy:Random] 决策中止：导航计划 (playbackPlan) 尚未初始化。返回 Stop 以策安全。', 'error');\n            logProbe('', 'groupEnd');\n            return { action: 'Stop' };\n        }\n        logProbe(`(探针) 当前导航指针 (planIndex): ${planIndex}`);\n        logProbe(`(探针) 导航地图 (playbackPlan): [${playbackPlan.join(', ')}]`);\n        const nextPlanIndex = planIndex + 1;\n        if (nextPlanIndex < playbackPlan.length) {\n            const targetTrackIndex = playbackPlan[nextPlanIndex];\n            logProbe(`[Strategy:Random] 决策: onTrackEnd -> GoTo (新 planIndex: ${nextPlanIndex}, 目标 trackIndex: ${targetTrackIndex})`);\n            logProbe('', 'groupEnd');\n            return { action: 'GoTo', nextIndex: targetTrackIndex };\n        }\n        else {\n            logProbe('[Strategy:Random] onTrackEnd 已到达计划终点，委托给 _handlePlanEnd...');\n            logProbe('', 'groupEnd');\n            return this._handlePlanEnd(currentItem);\n        }\n    }\n    onPlaybackError(currentItem) {\n        logProbe(`[Strategy:Random] 收到 onPlaybackError 请求。决策: 委托给 advance('next')`);\n        return this.advance(currentItem, 'next');\n    }\n}\n// =================================================================\n// 2.3. 策略管理器 (The StrategyManager - \"The Conductor\")\n// =================================================================\nconst StrategyManager = (() => {\n    logProbe('[StrategyManager] 模块正在初始化...');\n    const _strategies = {\n        list: new ListStrategy(),\n        single: new SingleStrategy(),\n        random: new RandomStrategy(),\n    };\n    let _currentStrategy = _strategies.list;\n    const publicAPI = {\n        /**\n         * [命令] 设置新的播放模式，并自动切换到对应的策略实例。\n         */\n        setMode(mode) {\n            logProbe(`[StrategyManager] (Command) setMode: 切换策略模式为 -> ${mode}`);\n            _currentStrategy = _strategies[mode];\n        },\n        /**\n         * [查询] 获取当前激活的策略实例。这是我们遵循CQS原则的体现。\n         */\n        getCurrentStrategy: () => _currentStrategy,\n        /**\n         * [命令] 通知当前策略：核心状态（如队列）已发生重大变化。\n         * 这是修复BUG的核心，它为策略提供了一个统一的生命周期钩子。\n         */\n        notifyQueueChanged() {\n            logProbe(`[StrategyManager] (Command) notifyQueueChanged: 正在通知当前策略 (${_currentStrategy.constructor.name}) 队列已变更...`, 'groupCollapsed');\n            const currentItem = StateManager.getTopQueueItem();\n            _currentStrategy.onQueueChanged(currentItem);\n            logProbe('[StrategyManager] 通知完成。', 'groupEnd');\n        },\n    };\n    logProbe('[StrategyManager] 模块初始化完成。');\n    return publicAPI;\n})();\n// =================================================================\n// 3. 全局变量与常量 (Global Variables & Constants)\n// =================================================================\nconst STATE_KEY = '余烬双星_播放器状态';\nlet isInitializedForThisChat = false;\nlet isReconciling = false;\nlet _initializationPromiseControls = null;\nlet _initializationPromise = null;\nlet isScriptActive = true;\nlet allPlaylists = {};\nlet triggers = [];\nlet defaultPlaylistId = '';\nlet isMvuIntegrationActive = false;\nlet isCorePlayerInitialized = false;\nlet _currentChatId = null;\nconst fullStateUpdateCallbacks = [];\nconst timeUpdateCallbacks = [];\n/**\n * [V9.0 统一校准官] 新架构的“运行时大脑”。\n * 它的单一职责是：响应“运行时”的增量事件，通过“边沿检测”模型，\n * 精确地、最小化地修改当前队列，并决策是否需要变更播放。\n * @param eventPayload - 可选的、来自 MVU 事件的最新状态数据。\n */\nasync function _reconcilePlaylistQueue(eventPayload, options) {\n    // --- 1. 【前置检查】: 防止并发的事件风暴 ---\n    if (isReconciling) {\n        logProbe('[Reconciler] 请求被合并：前一个校准任务仍在进行中。', 'warn');\n        return;\n    }\n    isReconciling = true;\n    logProbe('=== [Reconciler] “统一校准官”已接管运行时事件 ===', 'group');\n    try {\n        StateManager.setPerformingEffect(true);\n        logProbe('[Reconciler] (事务) 已上效果锁并广播“过渡中”状态，UI应进入等待。');\n        broadcastFullState();\n        // --- 核心逻辑 (原有的 try...finally 块) ---\n        try {\n            const oldTopItem = StateManager.getTopQueueItem();\n            // --- 2. 【获取事实】: 遵循“时序悖论”定律 ---\n            const currentStateData = eventPayload?.stat_data\n                ? eventPayload.stat_data\n                : ((await _findLatestAuthoritativeMvuState())?.mvuData?.stat_data ?? {});\n            logProbe(`[Reconciler] (探针) 已确定本次校准的权威 MVU 状态 (来源: ${eventPayload ? '事件载荷' : '主动查询'})。`);\n            // --- 3. 【生成报告】: 委托 MvuManager 进行边沿检测 ---\n            const previousStateData = MvuManager.getPreviousState();\n            const changeReport = MvuManager.calculateChangeReport(previousStateData, currentStateData, triggers);\n            // --- 4. 【执行队列的增量修改】: 先减后加 ---\n            const newQueue = StateManager.getQueue();\n            if (changeReport.newlyInactiveTriggers.length > 0) {\n                _.remove(newQueue, item => changeReport.newlyInactiveTriggers.some(inactiveTrigger => areTriggersFunctionallyEqual(item.triggerSource, inactiveTrigger)));\n                logProbe(`[Reconciler] (修改) 根据报告移除了 ${changeReport.newlyInactiveTriggers.length} 个失效项。`);\n            }\n            if (changeReport.newlyActiveTriggers.length > 0) {\n                for (const activeTrigger of changeReport.newlyActiveTriggers) {\n                    if (newQueue.some(item => item.triggerSource && areTriggersFunctionallyEqual(item.triggerSource, activeTrigger))) {\n                        logProbe(`[Reconciler] (防御) 拒绝添加重复的激活项: \"${activeTrigger.playlist_id}\"`, 'warn');\n                        continue;\n                    }\n                    const newItem = createQueueItem({\n                        type: 'mvu',\n                        playlistId: activeTrigger.playlist_id,\n                        trigger: activeTrigger,\n                    });\n                    if (newItem) {\n                        newQueue.push(newItem);\n                        logProbe(`[Reconciler] (修改) 根据报告添加了新激活项: \"${newItem.playlistId}\"`);\n                    }\n                }\n            }\n            StateManager.updateQueue(newQueue);\n            // --- 5. 【决策与执行】: 对比新旧队首 ---\n            const newTopItem = StateManager.getTopQueueItem();\n            if (newTopItem?.playlistId !== oldTopItem?.playlistId) {\n                logProbe(`[Reconciler] (决策) 队首发生变更！ 从 \"${oldTopItem?.playlistId ?? '无'}\" 变为 \"${newTopItem?.playlistId ?? '无'}\"。`);\n                if (newTopItem) {\n                    logProbe('[Reconciler] (握手) 正在通知 StrategyManager 队列已变更...');\n                    StrategyManager.notifyQueueChanged();\n                    newTopItem.wasEverPlayed = true;\n                    const targetIndex = newTopItem.wasEverPlayed ? newTopItem.currentIndex : 0;\n                    if (StateManager.isPlaying()) {\n                        logProbe('[Reconciler] (效果) 用户正在播放，将执行过渡效果...');\n                        if (options?.transitionEffect === 'hard') {\n                            await PlaybackEngine.executeHardCut(newTopItem.playlistContent[targetIndex].url, StateManager.getVolume());\n                        }\n                        else {\n                            await _executeTransition(targetIndex);\n                        }\n                    }\n                    else {\n                        logProbe('[Reconciler] (效果) 用户已暂停，仅在后台静默更新轨道，不播放。');\n                        const track = newTopItem.playlistContent[targetIndex];\n                        const activePlayer = PlaybackEngine.getActivePlayer();\n                        if (track && activePlayer) {\n                            activePlayer.src = track.url;\n                        }\n                    }\n                }\n            }\n            else {\n                logProbe('[Reconciler] (决策) 队首未发生变更，保持当前播放稳定。');\n            }\n            // --- 6. 【更新记忆】: 为下一次边沿检测做准备 ---\n            await MvuManager.persistCurrentState(currentStateData);\n        }\n        catch (error) {\n            logProbe(`[Reconciler] 核心逻辑执行期间发生严重错误: ${error}`, 'error');\n            console.error(error);\n        }\n        finally {\n            await writeState('reconciliation');\n        }\n    }\n    finally {\n        isReconciling = false;\n        await _releaseEffectLock();\n        logProbe('=== [Reconciler] “统一校准官”任务完成 (锁已通过调度器释放) ===', 'groupEnd');\n    }\n}\n// =================================================================\n// 4. 核心工具与广播系统 (Core Utilities & Broadcast System)\n// =================================================================\nfunction broadcastFullState() {\n    const currentItem = StateManager.getTopQueueItem();\n    const currentPlaylist = currentItem?.playlistContent ?? [];\n    const currentIndex = currentItem?.currentIndex ?? 0;\n    const payload = {\n        currentItem: currentPlaylist[currentIndex]\n            ? {\n                title: currentPlaylist[currentIndex].歌名,\n                artist: currentPlaylist[currentIndex].歌手,\n                cover: currentPlaylist[currentIndex].封面,\n            }\n            : null,\n        isPlaying: StateManager.isPlaying(),\n        playbackMode: StateManager.getPlaybackMode(),\n        masterVolume: StateManager.getVolume(),\n        playlist: currentPlaylist.map(item => ({ title: item.歌名, artist: item.歌手, cover: item.封面 })),\n        isTransitioning: StateManager.isPerformingEffect(),\n    };\n    logProbe(`[Broadcast] 正在广播完整状态... isPlaying: ${payload.isPlaying}, mode: ${payload.playbackMode}, currentItem: ${payload.currentItem?.title ?? '无'}`, 'groupCollapsed');\n    logProbe(`详细: isTransitioning=${payload.isTransitioning}`);\n    logProbe('', 'groupEnd');\n    fullStateUpdateCallbacks.forEach(callback => {\n        try {\n            callback(payload);\n        }\n        catch (e) {\n            console.error('[音乐脚本] 完整状态回调执行出错:', e);\n        }\n    });\n}\nfunction broadcastTimeUpdate() {\n    const activePlayer = PlaybackEngine.getActivePlayer();\n    if (!StateManager.isPlaying() || !activePlayer)\n        return;\n    const payload = {\n        currentTime: activePlayer.currentTime,\n        duration: activePlayer.duration || 0,\n    };\n    timeUpdateCallbacks.forEach(callback => callback(payload));\n}\nfunction prepareNextTrack() {\n    const currentItem = StateManager.getTopQueueItem();\n    const standbyPlayer = PlaybackEngine.getStandbyPlayer();\n    if (!standbyPlayer || !currentItem)\n        return;\n    const nextIndex = currentItem.currentIndex + 1;\n    if (nextIndex < currentItem.playlistContent.length) {\n        const nextTrack = currentItem.playlistContent[nextIndex];\n        if (nextTrack && standbyPlayer.src !== nextTrack.url) {\n            standbyPlayer.src = nextTrack.url;\n            standbyPlayer.load();\n        }\n    }\n}\n// =================================================================\n// 5. 状态管理 (State Management)\n// =================================================================\nfunction readState() {\n    logProbe('[StateReader] 正在尝试从酒馆变量读取持久化状态...');\n    const savedData = getVariables({ type: 'chat' })[STATE_KEY];\n    if (!savedData || typeof savedData !== 'object') {\n        logProbe('[StateReader] 未发现有效存档。');\n        return null;\n    }\n    logProbe('[StateReader] 发现原始状态数据，正在提交给 Zod 进行安全验证...');\n    const validationResult = ZodPersistedState.safeParse(savedData);\n    if (validationResult.success) {\n        logProbe('[StateReader] Zod 验证成功，状态数据安全。');\n        return validationResult.data;\n    }\n    else {\n        console.warn('[StateReader] 持久化状态验证失败:', validationResult.error);\n        return null;\n    }\n}\nasync function writeState(source) {\n    if (!isScriptActive) {\n        logProbe(`[State] 写入操作被阻止，因为脚本正在停机。(来源: ${source})`, 'warn');\n        return;\n    }\n    try {\n        logProbe(`[State] 由 \"${source}\" 触发状态写入...`);\n        const dataToSave = StateManager.getStateSnapshotForPersistence();\n        await updateVariablesWith(vars => {\n            vars[STATE_KEY] = dataToSave;\n            return vars;\n        }, { type: 'chat' });\n        logProbe(`[State] 状态已成功写入酒馆变量`);\n    }\n    catch (e) {\n        logProbe(`[State] 写入状态时发生严重错误: ${e}`, 'error');\n    }\n}\n// =================================================================\n// 6. 世界书配置解析与队列操作 (Worldbook Parsing & Stack Operations)\n// =================================================================\n/**\n * @description 格式化 Zod 验证错误，以便在 toastr 中为角色卡作者显示清晰、可操作的反馈。\n */\nfunction _formatZodErrorForToastr(error) {\n    const issue = error.issues[0];\n    const path = issue.path.join(' -> ');\n    const message = issue.message;\n    const toastrTitle = `[MusicConfig] 内容错误`;\n    const toastrMessage = `路径: ${path} | 问题: ${message}`;\n    const fullLogMessage = `[MusicConfig] 内容错误:\\n路径: ${path}\\n问题: ${message}`;\n    logProbe(`[ZodValidator] 世界书配置验证失败: ${fullLogMessage}`, 'error');\n    toastr.error(toastrMessage, toastrTitle, { timeOut: 15000 });\n}\n// =================================================================\n// 核心算法 V9.5 (Core Algorithms for \"Concerto\")\n// 原则: 这些函数都必须是纯粹的查询 (CQS)，严禁产生任何副作用。\n// =================================================================\n/**\n * [核心算法] 判断两个触发器对象是否代表同一个“功能身份”。\n * @param a - 第一个触发器对象。\n * @param b - 第二个触发器对象。\n * @returns {boolean} 如果功能上相等，则返回 true。\n */\nfunction areTriggersFunctionallyEqual(a, b) {\n    if (!a || !b)\n        return a === b;\n    if (a.playlist_id !== b.playlist_id)\n        return false;\n    const getCanonicalString = (condition) => {\n        return Object.keys(condition)\n            .sort()\n            .map(key => `${key}:${String(condition[key])}`) // 使用 String() 来确保所有值都能被正确处理\n            .join(',');\n    };\n    const conditionsA = a.conditions.map(getCanonicalString).sort();\n    const conditionsB = b.conditions.map(getCanonicalString).sort();\n    return conditionsA.length === conditionsB.length && conditionsA.every((val, index) => val === conditionsB[index]);\n}\n/**\n * @description [V9.7 核心强化] 查找权威MVU状态。现在能够识别“创世”和“运行时”两种数据结构。\n * @param context - 可选的上下文，用于指导查找方式。\n * @returns {Promise<{ mvuData: any, messageId: number } | null>} 权威状态或 null。\n */\nasync function _findLatestAuthoritativeMvuState(context) {\n    // --- 模式一: 精确制导 (通常用于开场白) ---\n    if (context && context.messageId === 0 && typeof context.swipeId === 'number') {\n        logProbe(`[StateFinder] (精确制导模式) 目标: message_id=${context.messageId}, swipe_id=${context.swipeId}`, 'groupCollapsed');\n        try {\n            const mvuDataContainer = await Mvu.getMvuData({ type: 'message', message_id: 0 });\n            const swipeSpecificData = mvuDataContainer?.swipes_data?.[context.swipeId];\n            if (swipeSpecificData?.stat_data) {\n                // 成功在 \"创世\" 结构中找到特定 swipe 的数据\n                logProbe('[StateFinder] (探针) 检测到“创世”结构 (swipes_data)，成功命中！');\n                logProbe('', 'groupEnd');\n                return { mvuData: swipeSpecificData, messageId: 0 };\n            }\n            else if (mvuDataContainer?.stat_data) {\n                // 在顶层找到了 \"运行时\" 结构的数据 (可能只有一个开场白)\n                logProbe('[StateFinder] (探针) 检测到“运行时”结构 (顶层 stat_data)，直接采用。');\n                logProbe('', 'groupEnd');\n                return { mvuData: mvuDataContainer, messageId: 0 };\n            }\n            else {\n                logProbe('[StateFinder] (精确制导模式) 查找失败：在两种已知结构中均未找到 stat_data。', 'warn');\n            }\n        }\n        catch (error) {\n            logProbe(`[StateFinder] (精确制导模式) 查询时出错: ${error}`, 'error');\n        }\n        finally {\n            logProbe('', 'groupEnd');\n        }\n    }\n    // --- 模式二: 回溯扫描 (找不到精确目标时的标准流程) ---\n    logProbe('[StateFinder] (回溯扫描模式) 开始执行...', 'groupCollapsed');\n    try {\n        const allMessages = getChatMessages(-1, { include_swipes: true });\n        for (let i = allMessages.length - 1; i >= 0; i--) {\n            const message = allMessages[i];\n            // [V9.7 核心修正] 修复致命拼写错误：message.id -> message.message_id\n            const currentMessageId = message.message_id;\n            // 防御性编程：如果 message_id 无效，直接跳过，防止意外\n            if (typeof currentMessageId !== 'number') {\n                logProbe(`(探针) 跳过无效楼层 (索引 ${i})，因其 message_id 为 ${currentMessageId}。`, 'warn');\n                continue;\n            }\n            try {\n                logProbe(`(探针) 正在查询 message_id: ${currentMessageId}...`);\n                const mvuData = await Mvu.getMvuData({ type: 'message', message_id: currentMessageId });\n                if (mvuData?.stat_data) {\n                    logProbe(`[StateFinder] 查找成功！在 message_id: ${currentMessageId} 处找到权威状态。`);\n                    logProbe('', 'groupEnd');\n                    return { mvuData, messageId: currentMessageId };\n                }\n            }\n            catch (error) {\n                logProbe(`(探针) 查询 message_id: ${currentMessageId} 时接口失败，将继续向前查找。错误: ${error}`, 'warn');\n            }\n        }\n        logProbe('[StateFinder] 查找失败：遍历完所有消息楼层，均未找到有效的 stat_data。', 'warn');\n        return null;\n    }\n    catch (error) {\n        logProbe(`[StateFinder] 在获取聊天记录时发生严重错误: ${error}`, 'error');\n        return null;\n    }\n    finally {\n        logProbe('', 'groupEnd');\n    }\n}\n/**\n * @description [职责单一] 找到、解析、验证并准备好【可供运行时直接使用】的音乐配置。\n * @returns {Promise<{ playlists: Record<string, PlaylistConfig>, defaultId: string, triggers: Trigger[] } | null>}\n *          一个包含了【 playlists 映射 】的、完全准备就绪的配置对象，或在失败时返回 null。\n */\nasync function parseWorldbookConfig() {\n    logProbe('[WorldbookParser V3-聚合模式] 开始解析...', 'group');\n    const aggregatedConfig = {\n        playlists: [],\n        triggers: [],\n        defaultPlaylistId: undefined,\n        _defaultPlaylistIdSourceFile: null,\n    };\n    try {\n        const worldbookNames = getCharWorldbookNames('current');\n        const searchOrder = [worldbookNames.primary, ...worldbookNames.additional].filter(Boolean);\n        let foundAnyConfig = false;\n        for (const bookName of searchOrder) {\n            if (!bookName)\n                continue;\n            const entries = await getWorldbook(bookName);\n            // [新] 查找所有名字包含 `[MusicConfig]` 的条目，而非精确匹配\n            const configEntries = entries.filter(e => e.name.includes('[MusicConfig]'));\n            if (configEntries.length > 0)\n                foundAnyConfig = true;\n            for (const entry of configEntries) {\n                logProbe(`[Parser V3] 发现并处理配置文件: \"${entry.name}\"`);\n                try {\n                    const rawConfig = YAML.parse(entry.content);\n                    const validationResult = ZodWorldbookConfig.safeParse(rawConfig);\n                    if (!validationResult.success) {\n                        logProbe(`[Parser V3] 条目 \"${entry.name}\" Zod验证失败，已跳过。`, 'error');\n                        _formatZodErrorForToastr(validationResult.error);\n                        continue; // 跳过这个错误的文件，继续处理下一个\n                    }\n                    const data = validationResult.data;\n                    // --- 合并策略执行 ---\n                    // [新] 为每个歌单和触发器附加来源信息，用于后续的精确错误报告\n                    if (data.playlists) {\n                        aggregatedConfig.playlists.push(...data.playlists.map(p => ({ ...p, _sourceFile: entry.name })));\n                    }\n                    if (data.triggers) {\n                        aggregatedConfig.triggers.push(...data.triggers.map(t => ({ ...t, _sourceFile: entry.name })));\n                    }\n                    // [新] 执行“覆盖并警告”策略\n                    if (data.default_playlist_id) {\n                        if (aggregatedConfig.defaultPlaylistId && aggregatedConfig.defaultPlaylistId !== data.default_playlist_id) {\n                            const warningMsg = `在文件 \"${entry.name}\" 中发现的 default_playlist_id (\"${data.default_playlist_id}\") 覆盖了来自文件 \"${aggregatedConfig._defaultPlaylistIdSourceFile ?? '未知'}\" 的定义 (\"${aggregatedConfig.defaultPlaylistId}\")。为确保行为可预测，建议只保留一个定义。`;\n                            logProbe(`[Parser V3] ${warningMsg}`, 'warn');\n                            toastr.warning(warningMsg, '配置警告', { timeOut: 20000, closeButton: true });\n                        }\n                        aggregatedConfig.defaultPlaylistId = data.default_playlist_id;\n                        aggregatedConfig._defaultPlaylistIdSourceFile = entry.name;\n                    }\n                }\n                catch (e) {\n                    logProbe(`[Parser V3] 解析条目 \"${entry.name}\" 时发生YAML语法错误: ${e.message}`, 'error');\n                    toastr.error(`[MusicConfig] 文件 \"${entry.name}\" 格式错误：YAML 语法不正确。`, '配置错误', {\n                        timeOut: 10000,\n                    });\n                }\n            }\n        }\n        if (!foundAnyConfig) {\n            logProbe('[Parser V3] 未在任何世界书中找到 [MusicConfig] 条目。', 'warn');\n            logProbe('', 'groupEnd');\n            return null; // 正常结束，只是没有配置\n        }\n        // --- [新] 最终的、全局的健全性检查 ---\n        logProbe('[Parser V3] 所有文件聚合完毕，开始执行全局健全性检查...', 'groupCollapsed');\n        let isGloballyValid = true;\n        // 1. 全局歌单ID唯一性检查\n        const playlistsById = _.groupBy(aggregatedConfig.playlists, 'id');\n        for (const id in playlistsById) {\n            if (playlistsById[id].length > 1) {\n                const sources = playlistsById[id].map(p => p._sourceFile).join(', ');\n                const errorMsg = `[MusicConfig] 致命错误: 歌单 ID \"${id}\" 在多个文件中重复定义。来源: ${sources}。ID 必须是唯一的。`;\n                logProbe(errorMsg, 'error');\n                toastr.error(errorMsg, '配置冲突', { timeOut: 15000 });\n                isGloballyValid = false;\n            }\n        }\n        const allPlaylistIds = new Set(aggregatedConfig.playlists.map(p => p.id));\n        // 2. 全局 default_playlist_id 有效性检查\n        if (aggregatedConfig.defaultPlaylistId && !allPlaylistIds.has(aggregatedConfig.defaultPlaylistId)) {\n            const errorMsg = `[MusicConfig] 配置错误: 最终的 default_playlist_id (\"${aggregatedConfig.defaultPlaylistId}\", 来自文件 \"${aggregatedConfig._defaultPlaylistIdSourceFile ?? '未知'}\") 指向了一个不存在的歌单。`;\n            logProbe(errorMsg, 'error');\n            toastr.error(errorMsg, '配置错误', { timeOut: 15000 });\n            aggregatedConfig.defaultPlaylistId = undefined; // 优雅降级\n        }\n        // 3. 全局触发器目标有效性检查\n        const finalTriggers = aggregatedConfig.triggers.filter(trigger => {\n            if (allPlaylistIds.has(trigger.playlist_id)) {\n                return true;\n            }\n            const errorMsg = `[MusicConfig] 校验失败: 来自文件 \"${trigger._sourceFile}\" 的触发器指向了不存在的歌单ID \"${trigger.playlist_id}\"。该触发器将被忽略。`;\n            logProbe(errorMsg, 'error');\n            toastr.error(errorMsg, '配置错误', { timeOut: 10000 });\n            return false;\n        });\n        if (!isGloballyValid) {\n            logProbe('[Parser V3] 全局健全性检查失败，配置被拒绝。', 'error');\n            logProbe('', 'groupEnd');\n            logProbe('', 'groupEnd');\n            return null;\n        }\n        logProbe('[Parser V3] 全局健全性检查通过。');\n        logProbe('', 'groupEnd');\n        if (aggregatedConfig.playlists.length === 0) {\n            const errorMsg = `[MusicConfig] 致命错误: 所有配置文件中都未能找到任何有效的歌单 (playlists)。播放器无法加载。`;\n            logProbe(errorMsg, 'error');\n            toastr.error(errorMsg, '配置错误', { timeOut: 15000 });\n            logProbe('', 'groupEnd');\n            return null;\n        }\n        // --- 数据归一化并返回 ---\n        const playlistsAsMap = {};\n        for (const pl of aggregatedConfig.playlists) {\n            const normalizedTracks = pl.tracks.map(track => ({\n                url: track.url,\n                歌名: track.歌名 && track.歌名.trim() !== ''\n                    ? track.歌名\n                    : decodeURIComponent(track.url.split('/').pop()?.split('?')[0] || '未知歌曲'),\n                歌手: track.歌手,\n                封面: track.封面,\n            }));\n            playlistsAsMap[pl.id] = { ..._.omit(pl, '_sourceFile'), tracks: normalizedTracks };\n        }\n        const finalConfig = {\n            playlists: playlistsAsMap,\n            defaultId: aggregatedConfig.defaultPlaylistId,\n            triggers: finalTriggers.map(t => _.omit(t, '_sourceFile')),\n        };\n        logProbe('[Parser V3] 数据归一化完成，运行时配置已就绪。', 'log');\n        logProbe('', 'groupEnd');\n        return finalConfig;\n    }\n    catch (error) {\n        logProbe(`[Parser V3] 解析过程中发生意外顶层错误: ${error}`, 'error');\n        toastr.error('音乐配置加载时发生未知错误，请检查控制台日志。');\n        logProbe('', 'groupEnd');\n        return null;\n    }\n}\n/**\n * [工厂 V3.0] 从持久化对象重建一个完整的、可供运行时使用的 QueueItem。\n * @param persistedItem - 从酒馆变量读取的、经过 Zod 验证的item。\n * @param playlistConfig - 从当前世界书解析出的对应歌单配置。\n * @returns {QueueItem} 一个完整的运行时 QueueItem。\n */\nfunction reconstituteQueueItem(persistedItem, playlistConfig) {\n    return {\n        playlistId: persistedItem.playlistId,\n        priority: persistedItem.triggerSource?.priority ?? -Infinity,\n        playlistContent: _.cloneDeep(playlistConfig.tracks),\n        onFinishRule: playlistConfig.onFinishRule,\n        currentIndex: persistedItem.currentIndex,\n        playedIndices: new Set(persistedItem.playedIndices),\n        wasEverPlayed: persistedItem.wasEverPlayed,\n        triggeredBy: persistedItem.triggerSource ? 'mvu' : 'base',\n        triggerSource: persistedItem.triggerSource,\n    };\n}\n/**\n * [工厂 V3.0] 创建一个全新的、状态初始化的 QueueItem。\n * @param config - 一个包含所有必要信息的配置对象。\n * @returns {QueueItem | null} 一个完整的队列项，或在失败时返回 null。\n */\nfunction createQueueItem(config) {\n    const { playlistId } = config;\n    if (!playlistId || !allPlaylists[playlistId]) {\n        logProbe(`[Factory] 创建队列项失败：请求的歌单ID \"${playlistId}\" 不存在。`, 'error');\n        return null;\n    }\n    const playlistConfig = allPlaylists[playlistId];\n    const baseItem = {\n        playlistId: playlistId,\n        playlistContent: _.cloneDeep(playlistConfig.tracks),\n        currentIndex: 0,\n        playedIndices: new Set(),\n        wasEverPlayed: false,\n    };\n    if (config.type === 'base') {\n        return {\n            ...baseItem,\n            priority: -Infinity,\n            triggeredBy: 'base',\n            onFinishRule: 'loop',\n        };\n    }\n    else {\n        return {\n            ...baseItem,\n            priority: config.trigger.priority,\n            triggeredBy: 'mvu',\n            onFinishRule: playlistConfig.onFinishRule,\n            triggerSource: config.trigger,\n        };\n    }\n}\n// =================================================================\n// 7. 运行时初始化与播放器控制 (Runtime & Player Controls)\n// =================================================================\nasync function initializePlayerForChat(config, authoritativeState, options) {\n    logProbe('=== 开始执行【核心·自愈式初始化】 V9.0 ===', 'group');\n    try {\n        // --- 【准备阶段】 清理与重置 ---\n        isCorePlayerInitialized = true;\n        StateManager.resetState();\n        MvuManager.resetState();\n        MvuManager.initialize();\n        const activePlayer = PlaybackEngine.getActivePlayer();\n        if (activePlayer)\n            activePlayer.pause();\n        triggers = [];\n        allPlaylists = {};\n        defaultPlaylistId = '';\n        if (!config) {\n            logProbe('[Initializer] 配置无效，初始化中止。', 'error');\n            broadcastFullState();\n            // [新增] 如果配置在解析阶段就失败了，我们必须在这里抛出错误以通知前端\n            throw new Error('世界书音乐配置解析失败，请检查配置。');\n        }\n        allPlaylists = config.playlists;\n        defaultPlaylistId = config.defaultId;\n        triggers = config.triggers;\n        const savedState = readState();\n        const currentStatData = authoritativeState?.mvuData?.stat_data ?? null;\n        const authoritativeMessageId = authoritativeState?.messageId;\n        let finalQueue = [];\n        // --- 【第一步】 确定并验证权威的基础歌单 ID ---\n        let correctBasePlaylistId = defaultPlaylistId;\n        const msgZero = getChatMessages(0, { include_swipes: true })[0];\n        if (msgZero) {\n            const currentGreeting = msgZero.swipes?.[msgZero.swipe_id];\n            const tagMatch = currentGreeting?.match(/<playlist:([^>]+)>/);\n            if (tagMatch && tagMatch[1]) {\n                const tagPlaylistId = tagMatch[1];\n                // [新增] 检查 3: 开场白标签中的歌单是否存在\n                if (allPlaylists[tagPlaylistId]) {\n                    logProbe(`[Initializer-Heal] (基准) 从开场白标签确定权威基础歌单: \"${tagPlaylistId}\"`);\n                    correctBasePlaylistId = tagPlaylistId;\n                }\n                else {\n                    const errorMsg = `[MusicConfig] 配置警告: 开场白标签 <playlist:${tagPlaylistId}> 指向了一个不存在的歌单ID。将回退至默认歌单。`;\n                    logProbe(errorMsg, 'warn');\n                    toastr.warning(errorMsg, '配置警告', { timeOut: 15000 });\n                    // 保持 correctBasePlaylistId 为 defaultPlaylistId\n                }\n            }\n            else {\n                logProbe(`[Initializer-Heal] (基准) 开场白无标签，使用世界书默认歌单: \"${defaultPlaylistId ?? '无'}\"`);\n            }\n        }\n        // [新增] 检查 4: 基础歌单与场景歌单冲突检查\n        if (correctBasePlaylistId) {\n            const scenePlaylistIds = new Set(triggers.map(t => t.playlist_id));\n            if (scenePlaylistIds.has(correctBasePlaylistId)) {\n                const fatalErrorMsg = `[MusicConfig] 致命配置错误: 歌单 \"${correctBasePlaylistId}\" 不能同时被用作基础歌单（在开场白或默认设置中）和场景歌单（被触发器关联）。请为它们使用不同的歌单。`;\n                logProbe(fatalErrorMsg, 'error');\n                toastr.error(fatalErrorMsg, '配置冲突', { timeOut: 20000, closeButton: true });\n                // 这是无法解决的逻辑冲突，必须中止初始化\n                throw new Error('基础歌单与场景歌单存在致命冲突。');\n            }\n        }\n        // --- 【第二步】 队列净化与重建 (Heal the Past) ---\n        if (savedState) {\n            logProbe('[Initializer-Heal] (净化) 开始审查存档...', 'groupCollapsed');\n            const healedQueue = [];\n            for (const persistedItem of savedState.active_queue) {\n                if (!Object.prototype.hasOwnProperty.call(allPlaylists, persistedItem.playlistId)) {\n                    logProbe(`(净化-丢弃) 存档歌单 \"${persistedItem.playlistId}\" 已不存在。`, 'warn');\n                    continue;\n                }\n                const playlistConfig = allPlaylists[persistedItem.playlistId];\n                const isBaseItem = !persistedItem.triggerSource;\n                if (isBaseItem) {\n                    if (persistedItem.playlistId === correctBasePlaylistId) {\n                        logProbe(`(净化-保留) 基础歌单 \"${persistedItem.playlistId}\" 仍然有效。`);\n                        healedQueue.push(reconstituteQueueItem(persistedItem, playlistConfig));\n                    }\n                    else {\n                        logProbe(`(净化-丢弃) 基础歌单 \"${persistedItem.playlistId}\" 已被新的权威歌单 \"${correctBasePlaylistId ?? '无'}\" 替代。`, 'warn');\n                    }\n                }\n                else {\n                    const currentTrigger = triggers.find(t => t.playlist_id === persistedItem.playlistId);\n                    logProbe(`(探针-净化) 正在审查存档的MVU歌单 \"${persistedItem.playlistId}\"...`);\n                    if (playlistConfig.onFinishRule === 'pop') {\n                        logProbe(`(净化-丢弃) 原因：规则为 'pop'。`);\n                        continue;\n                    }\n                    if (!currentTrigger) {\n                        logProbe(`(净化-丢弃) 原因：在最新的世界书配置中已找不到对应的触发器。`, 'warn');\n                        continue;\n                    }\n                    if (!MvuManager.checkTriggerCondition(currentTrigger, currentStatData)) {\n                        logProbe(`(净化-丢-弃) 原因：最新的触发器条件在当前状态下不满足。`);\n                        continue;\n                    }\n                    logProbe(`(净化-保留) 验证通过。`);\n                    healedQueue.push(reconstituteQueueItem(persistedItem, playlistConfig));\n                }\n            }\n            finalQueue = healedQueue;\n            logProbe('[Initializer-Heal] (净化) 审查完成。', 'groupEnd');\n        }\n        // --- 【第三步】 队列补充 ---\n        if (currentStatData && triggers.length > 0) {\n            logProbe('[Initializer-Heal] (补充) 正在检查是否有新激活的场景歌单...', 'groupCollapsed');\n            for (const trigger of triggers) {\n                const alreadyExists = finalQueue.some(item => item.triggerSource && areTriggersFunctionallyEqual(item.triggerSource, trigger));\n                if (!alreadyExists && MvuManager.checkTriggerCondition(trigger, currentStatData)) {\n                    const playlistConfig = allPlaylists[trigger.playlist_id];\n                    if (playlistConfig && playlistConfig.onFinishRule === 'pop') {\n                        if (authoritativeMessageId === 0) {\n                            logProbe(`(补充) 允许添加 'pop' 歌单 \"${trigger.playlist_id}\"，因为上下文是开场白。`);\n                            const newItem = createQueueItem({ type: 'mvu', playlistId: trigger.playlist_id, trigger: trigger });\n                            if (newItem)\n                                finalQueue.push(newItem);\n                        }\n                        else {\n                            logProbe(`(补充-阻止) 场景歌单 \"${trigger.playlist_id}\" 因规则为 'pop' 且上下文非开场白而被忽略。`, 'warn');\n                        }\n                    }\n                    else {\n                        const newItem = createQueueItem({ type: 'mvu', playlistId: trigger.playlist_id, trigger: trigger });\n                        if (newItem)\n                            finalQueue.push(newItem);\n                    }\n                }\n            }\n            logProbe('[Initializer-Heal] (补充) 检查完成。', 'groupEnd');\n        }\n        // --- 【第四步】 基础歌单最终注入 (Final Guarantee) ---\n        const basePlaylistExists = finalQueue.some(item => item.triggeredBy === 'base');\n        if (!basePlaylistExists && correctBasePlaylistId && allPlaylists[correctBasePlaylistId]) {\n            logProbe(`[Initializer-Heal] (注入) 最终注入权威基础歌单 \"${correctBasePlaylistId}\"。`);\n            const baseItem = createQueueItem({ type: 'base', playlistId: correctBasePlaylistId });\n            if (baseItem)\n                finalQueue.push(baseItem);\n        }\n        // --- 【第五步】 最终加载与后续设置 ---\n        logProbe('[Initializer-Finalize] 正在提交最终队列并完成设置...');\n        StateManager.updateQueue(finalQueue);\n        const mode = savedState?.mode ?? 'list';\n        StateManager.setPlaybackMode(mode);\n        StrategyManager.setMode(mode);\n        logProbe(`(探针) 策略模式已同步为: ${mode}`);\n        StrategyManager.notifyQueueChanged();\n        PlaybackEngine.initialize();\n        const volume = savedState?.volume ?? 0.5;\n        StateManager.setVolume(volume);\n        if (PlaybackEngine.getActivePlayer())\n            PlaybackEngine.getActivePlayer().volume = volume;\n        if (PlaybackEngine.getStandbyPlayer())\n            PlaybackEngine.getStandbyPlayer().volume = 0;\n        const initialTopItem = StateManager.getTopQueueItem();\n        if (initialTopItem) {\n            const track = initialTopItem.playlistContent[initialTopItem.currentIndex];\n            if (track && PlaybackEngine.getActivePlayer()) {\n                PlaybackEngine.getActivePlayer().src = track.url;\n            }\n        }\n        if (currentStatData) {\n            await MvuManager.persistCurrentState(currentStatData);\n            logProbe('[Initializer-Finalize]  已将本次创世的权威MVU状态持久化为历史基准。');\n        }\n        else {\n            await MvuManager.persistCurrentState({});\n            logProbe('[Initializer-Finalize] 当前无MVU状态，已将空状态持久化为历史基准。');\n        }\n        await writeState('initialization');\n        broadcastFullState();\n        if (options?.autoPlayIfWasPlaying) {\n            logProbe('[Initializer] (探针) 检测到来自开场白滑动的“自动播放”意图。', 'warn');\n            const currentItem = StateManager.getTopQueueItem();\n            if (currentItem) {\n                logProbe('[Initializer] 新的开场白已配置歌单，将执行“创世播放”...');\n                await _handleGenesisPlay();\n            }\n            else {\n                logProbe('[Initializer] 新的开场白未配置歌单，自动播放已取消。');\n            }\n        }\n    }\n    catch (error) {\n        logProbe(`[Initializer] 核心初始化过程中发生严重错误: ${error}`, 'error');\n        console.error(error);\n        // 将错误继续向上抛出，以便 tryInitialize 中的 catch 块可以捕获它并通知前端\n        throw error;\n    }\n    finally {\n        logProbe('=== 【核心·自愈式初始化】执行完毕 ===', 'groupEnd');\n    }\n}\n/**\n * @description 【V8.2 核心】播放执行器。\n *              它的单一职责是：接收一个目标索引，并尝试播放它。\n *              它会返回一个 Promise，成功时 resolve，失败时 reject，将错误冒泡给调用者处理。\n *              它自身不包含任何重试或自愈逻辑。\n */\nasync function _executeTransition(targetIndex) {\n    logProbe(`[Executor] 收到播放指令，目标索引: ${targetIndex}`, 'group');\n    const freshItem = StateManager.getTopQueueItem();\n    if (!freshItem) {\n        logProbe(`[Executor] 执行中止：无有效队列项`, 'warn');\n        logProbe('', 'groupEnd');\n        return Promise.resolve();\n    }\n    const targetTrack = freshItem.playlistContent[targetIndex];\n    if (!targetTrack?.url) {\n        logProbe(`[Executor] 执行失败：在索引 ${targetIndex} 处找不到音轨或音轨URL无效。`, 'error');\n        logProbe('', 'groupEnd');\n        throw new Error(`Invalid track at index ${targetIndex}`);\n    }\n    try {\n        await PlaybackEngine.transitionToTrack(targetTrack.url, StateManager.getVolume());\n        StateManager.setPlaying(true);\n        prepareNextTrack();\n        logProbe(`[Executor] 索引 ${targetIndex} 播放成功。`);\n    }\n    catch (error) {\n        logProbe(`[Executor] PlaybackEngine报告播放失败。原因: ${error}`, 'error');\n        throw error;\n    }\n    finally {\n        logProbe('', 'groupEnd');\n    }\n}\n/**\n * @description 【V8.2 核心】迭代式自愈循环。\n *              此最终版严格遵守 SRP 原则，将决策应用逻辑完全委托给 _applyNavigationDecision。\n */\nasync function _executeSelfHealingLoop() {\n    logProbe('[SelfHeal] 启动“迭代式自愈循环”... 播放器进入紧急自愈模式。', 'warn');\n    let consecutiveFailures = 1;\n    const currentItemForThreshold = StateManager.getTopQueueItem();\n    const threshold = currentItemForThreshold?.playlistContent.length ?? 0;\n    if (currentItemForThreshold) {\n        toastr.error(`歌曲《${currentItemForThreshold.playlistContent[currentItemForThreshold.currentIndex]?.歌名 ?? '未知歌曲'}》加载失败，正在尝试自动处理...`);\n    }\n    while (true) {\n        if (threshold > 0 && consecutiveFailures >= threshold) {\n            logProbe(`[SelfHeal] (熔断器) 连续失败 ${consecutiveFailures} 次，已达到或超过阈值 ${threshold}。自愈中止。`, 'error');\n            if (currentItemForThreshold) {\n                toastr.error(`歌单《${currentItemForThreshold.playlistId}》中所有歌曲均无法加载，播放已停止。`);\n            }\n            StateManager.setPlaying(false);\n            broadcastFullState();\n            return;\n        }\n        const currentItem = StateManager.getTopQueueItem();\n        if (!currentItem) {\n            logProbe('[SelfHeal] 自愈中止：中途队列变空。', 'warn');\n            StateManager.setPlaying(false);\n            broadcastFullState();\n            return;\n        }\n        const errorDecision = StrategyManager.getCurrentStrategy().onPlaybackError(currentItem);\n        logProbe(`[SelfHeal] 收到策略 (${StrategyManager.getCurrentStrategy().constructor.name}) 的错误决策: { action: '${errorDecision.action}' }`);\n        const directive = await _applyNavigationDecision(errorDecision);\n        if (!directive.needsAsyncEffect) {\n            logProbe('[SelfHeal] 决策应用后无需播放，自愈中止。');\n            // 注意：applyNavigationDecision 内部已经处理了 setPlaying(false) 和广播\n            return;\n        }\n        // 防御性编程：确保 targetIndex 存在\n        if (typeof directive.targetIndex !== 'number') {\n            logProbe('[SelfHeal] 决策应用后需要播放，但没有有效的 targetIndex。自愈中止。', 'error');\n            StateManager.setPlaying(false);\n            broadcastFullState();\n            return;\n        }\n        // 步骤 4: 再次尝试播放\n        try {\n            await _executeTransition(directive.targetIndex);\n            logProbe('[SelfHeal] 播放成功，自愈循环结束。', 'log');\n            broadcastFullState();\n            return;\n        }\n        catch (nextError) {\n            consecutiveFailures++;\n            const nextTopItem = StateManager.getTopQueueItem();\n            const nextTrackTitle = nextTopItem?.playlistContent[nextTopItem.currentIndex]?.歌名 ?? '未知歌曲';\n            logProbe(`[SelfHeal] 第 ${consecutiveFailures} 次播放失败:`, 'error');\n            console.error(nextError);\n            toastr.error(`下一首《${nextTrackTitle}》加载失败...`);\n        }\n    }\n}\nasync function _applyNavigationDecision(decision) {\n    logProbe(`[CentralCommand] 正在应用策略决策: { action: '${decision.action}', nextIndex: ${decision.nextIndex ?? 'N/A'} }`, 'group');\n    let needsAsyncEffect = false;\n    let targetIndex;\n    const currentItem = StateManager.getTopQueueItem();\n    switch (decision.action) {\n        case 'GoTo': {\n            if (typeof decision.nextIndex === 'number') {\n                logProbe('[CentralCommand] 指令: GoTo。提交导航步骤...');\n                StateManager.commitNavigationStep(decision.nextIndex);\n                needsAsyncEffect = true;\n                targetIndex = decision.nextIndex;\n            }\n            else {\n                logProbe('[CentralCommand] 致命逻辑错误: GoTo 指令缺少 nextIndex！这是一个策略模块的BUG。', 'error');\n                console.error('探针捕获：错误的决策对象:', decision);\n                console.error('探针捕获：发生错误时的播放器状态:', StateManager.getStateSnapshotForRuntime());\n                needsAsyncEffect = false;\n            }\n            break;\n        }\n        case 'Restart': {\n            logProbe('[CentralCommand] 指令: Restart。请求从头重播当前轨道。');\n            if (currentItem) {\n                logProbe('[CentralCommand] (探针) 此决策不改变状态索引，仅生成一个效果指令。');\n                needsAsyncEffect = true;\n                targetIndex = currentItem.currentIndex;\n            }\n            break;\n        }\n        case 'RemoveTopAndAdvance': {\n            logProbe('[CentralCommand] 指令: RemoveTopAndAdvance。正在执行【自洽式】队列修改与过渡...'); // [修改] 日志内容\n            const currentQueue = StateManager.getQueue();\n            const poppedItem = currentQueue.shift();\n            logProbe(`(探针) 已从队列中移除: \"${poppedItem?.playlistId}\"`);\n            StateManager.updateQueue(currentQueue);\n            logProbe('[CentralCommand] (握手) 正在通知 StrategyManager 队列已变更...');\n            StrategyManager.notifyQueueChanged();\n            const newTopItem = StateManager.getTopQueueItem();\n            if (newTopItem) {\n                logProbe(`(决策) 新队首为 \"${newTopItem.playlistId}\"，准备过渡到其当前索引: ${newTopItem.currentIndex}`);\n                needsAsyncEffect = true;\n                targetIndex = newTopItem.currentIndex;\n            }\n            else {\n                logProbe('(决策) 队列已空，停止播放。');\n                StateManager.setPlaying(false);\n                needsAsyncEffect = false;\n            }\n            break;\n        }\n        case 'LoopReset': {\n            logProbe('[CentralCommand] 指令: LoopReset。执行“指挥家模型”...', 'warn');\n            StateManager.resetCurrentItemForLoop();\n            const currentMode = StateManager.getPlaybackMode();\n            if (currentMode === 'random') {\n                logProbe('(指挥) 检测到随机模式，向作曲家索要新乐谱...');\n                const genesisPlan = StrategyManager.getCurrentStrategy().prepareGenesis(StateManager.getTopQueueItem());\n                if (genesisPlan) {\n                    StateManager.commitGenesisState(genesisPlan.newCurrentIndex, genesisPlan.newPlaybackPlan, genesisPlan.newPlanIndex);\n                }\n            }\n            const finalStartIndex = StateManager.getTopQueueItem()?.currentIndex ?? 0;\n            logProbe(`(指挥) 流程完成。最终确定的新起始索引为: ${finalStartIndex}`);\n            needsAsyncEffect = true;\n            targetIndex = finalStartIndex;\n            break;\n        }\n        case 'Stop': {\n            logProbe('[CentralCommand] 指令: Stop。停止播放。');\n            StateManager.setPlaying(false);\n            break;\n        }\n        case 'DoNothing':\n        default:\n            logProbe(`[CentralCommand] 指令: DoNothing。无状态变更。`);\n            break;\n    }\n    if (decision.action !== 'RemoveTopAndAdvance') {\n        broadcastFullState();\n    }\n    const directive = { needsAsyncEffect, targetIndex };\n    logProbe(`[CentralCommand] 决策应用完成。返回指令: { needsAsyncEffect: ${directive.needsAsyncEffect}, targetIndex: ${directive.targetIndex ?? 'N/A'} }`);\n    logProbe('', 'groupEnd');\n    return directive;\n}\n/**\n * @description [V9.6 净化] 释放效果锁并广播最终状态。\n *              这是所有异步控制器 finally 块中的标准“谢幕”程序。\n */\nasync function _releaseEffectLock() {\n    // 探针: 记录锁释放的动作，这对于调试UI卡死问题至关重要\n    logProbe('[LockManager] 正在释放效果锁并广播最终状态...');\n    StateManager.setPerformingEffect(false);\n    broadcastFullState();\n}\nasync function _handleTrackEnded() {\n    logProbe('[Controller:TrackEnd] === 开始处理轨道自然结束事件 ===', 'group');\n    if (StateManager.isPerformingEffect()) {\n        logProbe('[Controller:TrackEnd] 请求被拒绝，因为效果正在执行。', 'warn');\n        logProbe('', 'groupEnd');\n        return;\n    }\n    const currentItem = StateManager.getTopQueueItem();\n    if (!currentItem) {\n        logProbe('[Controller:TrackEnd] 请求中止：队列为空。');\n        logProbe('', 'groupEnd');\n        return;\n    }\n    try {\n        StateManager.setPerformingEffect(true);\n        broadcastFullState();\n        const decision = StrategyManager.getCurrentStrategy().onTrackEnd(currentItem);\n        const directive = await _applyNavigationDecision(decision);\n        if (directive.needsAsyncEffect && typeof directive.targetIndex === 'number') {\n            await _executeTransition(directive.targetIndex);\n        }\n    }\n    catch (error) {\n        logProbe(`[Controller:TrackEnd] 在执行效果时捕获到错误，将启动自愈循环...`, 'error');\n        console.error(error);\n        await _executeSelfHealingLoop();\n    }\n    finally {\n        await _releaseEffectLock();\n        await writeState('trackEnded');\n        logProbe('[Controller:TrackEnd] === 轨道结束事件处理完毕 (锁已通过调度器释放) ===', 'groupEnd');\n    }\n}\n// =================================================================\n// 8. 全局API与事件系统 (Global API & Event System)\n// =================================================================\nasync function _handleNavigation(direction) {\n    logProbe(`[Controller:Nav] === 开始处理用户导航事件 (方向: ${direction}) ===`, 'group');\n    if (StateManager.isPerformingEffect()) {\n        logProbe(`[Controller:Nav] 请求被拒绝，因为效果正在执行。`, 'warn');\n        logProbe('', 'groupEnd');\n        return;\n    }\n    const currentItem = StateManager.getTopQueueItem();\n    if (!currentItem) {\n        logProbe(`[Controller:Nav] 请求中止：队列为空。`);\n        logProbe('', 'groupEnd');\n        return;\n    }\n    try {\n        StateManager.setPerformingEffect(true);\n        broadcastFullState();\n        const decision = StrategyManager.getCurrentStrategy().advance(currentItem, direction);\n        const directive = await _applyNavigationDecision(decision);\n        logProbe(`[Controller:Nav] (探针) 原始决策: ${decision.action}, 处理指令: needsAsyncEffect=${directive.needsAsyncEffect}`);\n        if (decision.action === 'Restart') {\n            logProbe(`[Controller:Nav] 检测到 Restart 决策，执行 seek(0) 效果。`);\n            const activePlayer = PlaybackEngine.getActivePlayer();\n            if (activePlayer)\n                activePlayer.currentTime = 0;\n            if (StateManager.getPlaybackMode() !== 'single') {\n                toastr.info('已是第一首');\n            }\n        }\n        else if (directive.needsAsyncEffect && typeof directive.targetIndex === 'number') {\n            await _executeTransition(directive.targetIndex);\n        }\n        else if (decision.action === 'DoNothing') {\n            toastr.info(direction === 'next' ? '已是歌单最后一首。' : '已是歌单第一首。');\n        }\n    }\n    catch (error) {\n        logProbe(`[Controller:Nav] 在执行效果时捕获到错误，将启动自愈循环...`, 'error');\n        console.error(error);\n        await _executeSelfHealingLoop();\n    }\n    finally {\n        await _releaseEffectLock();\n        await writeState('navigation');\n        logProbe(`[Controller:Nav] === 用户导航事件处理完毕 (锁已通过调度器释放) ===`, 'groupEnd');\n    }\n}\nasync function _handleGenesisPlay() {\n    if (StateManager.isPerformingEffect()) {\n        logProbe('[Controller:Genesis] 请求被拒绝，因为效果正在执行。', 'warn');\n        return;\n    }\n    const currentItem = StateManager.getTopQueueItem();\n    if (!currentItem) {\n        logProbe('[Controller:Genesis] 请求中止：播放列表为空。');\n        return;\n    }\n    try {\n        StateManager.setPerformingEffect(true);\n        logProbe(`[Controller:Genesis] === “创世播放”效果开始 (目标索引: ${currentItem.currentIndex}) ===`, 'group');\n        StateManager.setPlaying(true);\n        broadcastFullState();\n        await _executeTransition(currentItem.currentIndex);\n    }\n    catch (error) {\n        logProbe(`[Controller:Genesis] “创世播放”效果执行时发生意外顶层错误: ${error}`, 'error');\n        StateManager.setPlaying(false);\n        broadcastFullState();\n    }\n    finally {\n        await _releaseEffectLock();\n        await writeState('genesisPlay');\n        logProbe(`[Controller:Genesis] === “创世播放”效果结束 (锁已通过调度器释放) ===`, 'groupEnd');\n    }\n}\nasync function _handlePlayIndex(index) {\n    logProbe(`[Controller:PlayIndex] === 开始处理索引播放事件 (目标: ${index}) ===`, 'group');\n    if (StateManager.isPerformingEffect()) {\n        logProbe(`[Controller:PlayIndex] 请求被拒绝，因为效果正在执行。`, 'warn');\n        logProbe('', 'groupEnd');\n        return;\n    }\n    try {\n        StateManager.setPerformingEffect(true);\n        broadcastFullState();\n        const currentItem = StateManager.getTopQueueItem();\n        const currentMode = StateManager.getPlaybackMode();\n        if (currentItem && index === currentItem.currentIndex) {\n            logProbe(`[Controller:PlayIndex] (决策) 用户点击了当前歌曲，将从头重播。`);\n            const activePlayer = PlaybackEngine.getActivePlayer();\n            if (activePlayer)\n                activePlayer.currentTime = 0;\n        }\n        else if (currentMode === 'list' || currentMode === 'single') {\n            logProbe(`[Controller:PlayIndex] (决策) ${currentMode} 模式，执行标准跳转...`);\n            StateManager.setCurrentIndex(index);\n            await _executeTransition(index);\n        }\n        else if (currentMode === 'random') {\n            logProbe(`[Controller:PlayIndex] (决策) random 模式，执行“用户跳转”高级逻辑...`);\n            StateManager.userInitiatedJump(index);\n            await _executeTransition(index);\n        }\n    }\n    catch (error) {\n        logProbe(`[Controller:PlayIndex] 在执行效果时捕获到错误，将启动自愈循环...`, 'error');\n        console.error(error);\n        await _executeSelfHealingLoop();\n    }\n    finally {\n        await _releaseEffectLock();\n        await writeState('playIndex');\n        logProbe(`[Controller:PlayIndex] === 索引播放事件处理完毕 (锁已通过调度器释放) ===`, 'groupEnd');\n    }\n}\nasync function togglePlayPause() {\n    logProbe('[Controller:Toggle] === 开始处理播放/暂停切换事件 ===', 'group');\n    if (StateManager.isPerformingEffect()) {\n        logProbe('[Controller:Toggle] 请求被拒绝，因为效果正在执行。', 'warn');\n        logProbe('', 'groupEnd');\n        return;\n    }\n    const currentItem = StateManager.getTopQueueItem();\n    if (!currentItem) {\n        logProbe('[Controller:Toggle] 请求中止：播放列表为空。');\n        toastr.info('播放列表为空');\n        logProbe('', 'groupEnd');\n        return;\n    }\n    try {\n        StateManager.setPerformingEffect(true);\n        broadcastFullState();\n        let decision;\n        const activePlayer = PlaybackEngine.getActivePlayer();\n        const logicalIndex = currentItem.currentIndex;\n        const physicalSrc = activePlayer?.src;\n        const logicalSrc = currentItem.playlistContent[logicalIndex]?.url;\n        if (StateManager.isPlaying()) {\n            decision = { action: 'pause' };\n        }\n        else if (activePlayer && physicalSrc === logicalSrc && activePlayer.currentTime > 0) {\n            decision = { action: 'resume' };\n        }\n        else {\n            decision = { action: 'playNew', targetIndex: logicalIndex };\n        }\n        if (decision.action !== 'pause')\n            StateManager.setPlaying(true);\n        else\n            StateManager.setPlaying(false);\n        broadcastFullState();\n        switch (decision.action) {\n            case 'pause':\n                await PlaybackEngine.fadeOutAndPause();\n                break;\n            case 'resume':\n                await PlaybackEngine.resumeAndFadeIn(StateManager.getVolume());\n                break;\n            case 'playNew':\n                if (typeof decision.targetIndex === 'number') {\n                    await _executeTransition(decision.targetIndex);\n                }\n                break;\n        }\n    }\n    catch (error) {\n        logProbe(`[Controller:Toggle] 在执行效果时捕获到错误，将启动自愈循环...`, 'error');\n        console.error(error);\n        await _executeSelfHealingLoop();\n    }\n    finally {\n        await _releaseEffectLock();\n        await writeState('togglePlayPause');\n        logProbe('[Controller:Toggle] === 播放/暂停切换事件处理完毕 (锁已通过调度器释放) ===', 'groupEnd');\n    }\n}\nfunction playNext() {\n    void _handleNavigation('next');\n}\nfunction playPrev() {\n    void _handleNavigation('prev');\n}\nfunction setupGlobalAPI() {\n    window.musicPlayerAPI = {\n        requestInitialization: () => {\n            if (isInitializedForThisChat) {\n                logProbe('[API] requestInitialization (已完成): 一个迟到的界面发来请求，立即返回成功契约。');\n                broadcastFullState();\n                return Promise.resolve();\n            }\n            if (!_initializationPromise) {\n                logProbe('[API] requestInitialization (首次): 第一个界面请求到达，正在创建【共享的】Promise契约...');\n                _initializationPromise = new Promise((resolve, reject) => {\n                    _initializationPromiseControls = { resolve, reject };\n                });\n            }\n            else {\n                logProbe('[API] requestInitialization (后续): 又一个界面请求到达，返回【已存在的】共享契约。');\n            }\n            return _initializationPromise;\n        },\n        togglePlayPause: () => togglePlayPause(),\n        playNext: () => playNext(),\n        playPrev: () => playPrev(),\n        playIndex: (index) => {\n            const currentItem = StateManager.getTopQueueItem();\n            if (currentItem && index >= 0 && index < currentItem.playlistContent.length) {\n                void _handlePlayIndex(index);\n            }\n        },\n        persistVolumeAndBroadcast: (volume) => {\n            const finalVolume = Math.max(0, Math.min(1, volume));\n            const activePlayer = PlaybackEngine.getActivePlayer();\n            StateManager.setVolume(finalVolume);\n            if (activePlayer && !StateManager.isPerformingEffect())\n                activePlayer.volume = finalVolume;\n            void writeState('persistVolume');\n            broadcastFullState();\n        },\n        setLiveVolume: (volume) => {\n            const activePlayer = PlaybackEngine.getActivePlayer();\n            if (activePlayer && !StateManager.isPerformingEffect())\n                activePlayer.volume = Math.max(0, Math.min(1, volume));\n        },\n        setPlaybackMode: (mode) => {\n            logProbe(`=== 开始执行【模式切换】事务 (请求: ${mode}) ===`, 'group');\n            const oldMode = StateManager.getPlaybackMode();\n            if (mode === oldMode) {\n                logProbe(`[ModeSwitch] 模式未变更 (仍为 ${mode})，事务提前中止。`);\n                logProbe('', 'groupEnd');\n                return;\n            }\n            StateManager.setPlaybackMode(mode);\n            StrategyManager.setMode(mode);\n            logProbe(`[ModeSwitch] 策略已切换为: ${StrategyManager.getCurrentStrategy().constructor.name}`);\n            if (oldMode === 'random') {\n                logProbe('[ModeSwitch] 正在为旧模式 \"random\" 执行“离开”生命周期钩子...');\n                StateManager.clearRandomModePlan();\n            }\n            if (mode === 'random') {\n                logProbe('[ModeSwitch] 正在为新模式 \"random\" 执行“进入”生命周期钩子...');\n                StrategyManager.notifyQueueChanged();\n            }\n            void writeState('setPlaybackMode');\n            broadcastFullState();\n            logProbe('=== 【模式切换】事务执行完毕 ===', 'groupEnd');\n        },\n        seekTo: (percentage) => {\n            const activePlayer = PlaybackEngine.getActivePlayer();\n            if (activePlayer?.duration)\n                activePlayer.currentTime = activePlayer.duration * percentage;\n        },\n        getCurrentState: () => {\n            const i = StateManager.getTopQueueItem();\n            const c = i?.playlistContent ?? [];\n            const x = i?.currentIndex ?? 0;\n            const stateToReturn = {\n                currentItem: c[x] ? { title: c[x].歌名, artist: c[x].歌手, cover: c[x].封面 } : null,\n                isPlaying: StateManager.isPlaying(),\n                playbackMode: StateManager.getPlaybackMode(),\n                masterVolume: StateManager.getVolume(),\n                playlist: c.map(t => ({ title: t.歌名, artist: t.歌手, cover: t.封面 })),\n                isTransitioning: StateManager.isPerformingEffect(),\n            };\n            logProbe('[探针 B] 前端主动调用 getCurrentState 获取初始状态，后台返回的数据如下:', 'warn');\n            console.dir(stateToReturn);\n            return stateToReturn;\n        },\n        onFullStateUpdate: (c) => {\n            if (typeof c === 'function')\n                fullStateUpdateCallbacks.push(c);\n        },\n        onTimeUpdate: (c) => {\n            if (typeof c === 'function')\n                timeUpdateCallbacks.push(c);\n        },\n    };\n    initializeGlobal('musicPlayerAPI', window.musicPlayerAPI);\n}\n// =================================================================\n// 9. 酒馆集成与主执行区 (Tavern Integration & Main Execution)\n// =================================================================\nfunction executeHardReset() {\n    logProbe('[HardReset] “优雅停机”协议启动...', 'warn');\n    isScriptActive = false;\n    PlaybackEngine.getActivePlayer()?.pause();\n    logProbe('[HardReset] 音频已暂停。');\n    logProbe('[HardReset] 即将调用 reloadIframe()。');\n    reloadIframe();\n}\nasync function tryInitialize() {\n    if (isInitializedForThisChat)\n        return;\n    const currentChatId = SillyTavern.getCurrentChatId ? SillyTavern.getCurrentChatId() : null;\n    if (SillyTavern.chat.length > 0 && currentChatId !== null) {\n        // [原则: SRP] isInitializedForThisChat 标志现在是这个函数的“守卫”，确保初始化只执行一次。\n        isInitializedForThisChat = true;\n        _currentChatId = currentChatId;\n        logProbe(`【初始化指挥官 V9.8】锁定ID: ${_currentChatId}，开始执行“分流-等待-执行”协议...`, 'group');\n        try {\n            // --- 步骤一：检测 (Detect) ---\n            // [原则: SSoT] 初始化流程的第一个动作，就是获取“世界书”这个唯一事实来源。\n            const config = await parseWorldbookConfig();\n            if (!config) {\n                throw new Error('无法解析世界书配置，初始化中止。');\n            }\n            const isMvuCard = config.triggers && Array.isArray(config.triggers) && config.triggers.length > 0;\n            logProbe(`(探针-决策) 作者意图判断 -> 是MVU卡吗? ${isMvuCard}`);\n            // --- 步骤二：分流 (Branch) & 等待 (Wait) ---\n            if (isMvuCard) {\n                logProbe('【指挥官】(路径选择) 检测到MVU卡，进入“安全路径”，开始等待MVU就绪...');\n                // [原则: CQS] _waitForMvuGenesis 是一个“查询”，它询问外部环境状态，直到满足条件。\n                const mvuIsReady = await _waitForMvuGenesis();\n                if (!mvuIsReady) {\n                    throw new Error('MVU集成初始化失败或超时，部分功能将不可用。');\n                }\n                logProbe('【指挥官】MVU已完全就绪，可以安全继续。');\n            }\n            else {\n                logProbe('【指挥官】(路径选择) 检测到纯文字卡，进入“快速路径”。');\n            }\n            // --- 步骤三：执行 (Execute) ---\n            logProbe('【指挥官】所有前置条件满足，开始执行播放器核心初始化...');\n            let authoritativeState = null;\n            if (isMvuCard) {\n                logProbe('【指挥官】(查询) 正在为MVU卡查找权威状态...');\n                authoritativeState = await _findLatestAuthoritativeMvuState();\n            }\n            else {\n                logProbe('【指挥官】(跳过) 纯文字卡，无需查找MVU状态。');\n            }\n            await initializePlayerForChat(config, authoritativeState);\n            _registerContextualEventListeners();\n            if (_initializationPromiseControls) {\n                logProbe('【指挥官】(探针) 后台初始化成功，兑现 Promise 契约，唤醒前端。');\n                _initializationPromiseControls.resolve();\n            }\n        }\n        catch (error) {\n            logProbe(`【指挥官】在初始化主流程中发生严重错误: ${error}`, 'error');\n            // 如果发生任何错误，都要通知前端，让它显示错误信息\n            if (_initializationPromiseControls) {\n                const errorMessage = error instanceof Error ? error.message : String(error);\n                _initializationPromiseControls.reject(errorMessage);\n            }\n        }\n        finally {\n            _initializationPromiseControls = null;\n            logProbe('【初始化指挥官 V9.8】协议执行完毕。', 'groupEnd');\n        }\n    }\n}\nfunction _registerMvuEventListeners() {\n    logProbe('[EventDispatcher] 正在注册【运行时】MVU 事件监听器...');\n    const createReconcileHandler = (eventName) => {\n        return (eventPayload) => {\n            if (!isMvuIntegrationActive || !isCorePlayerInitialized) {\n                logProbe(`[Gatekeeper] 捕获到MVU事件 (${eventName})，但系统未就绪，已忽略。`, 'warn');\n                return;\n            }\n            logProbe(`[Event] 捕获到MVU事件: ${eventName}，即将唤醒校准官...`);\n            // (SSoT原则) 将事件载荷这个“事实”直接传递给校准官\n            void _reconcilePlaylistQueue(eventPayload);\n        };\n    };\n    eventOn(Mvu.events.VARIABLE_UPDATE_ENDED, createReconcileHandler('VARIABLE_UPDATE_ENDED'));\n    eventOn(tavern_events.MESSAGE_DELETED, createReconcileHandler('MESSAGE_DELETED'));\n    logProbe('[EventDispatcher] MVU监听器部署完毕。');\n}\n/**\n * [V9.1 核心处理器] 统一处理所有导致“运行时历史”变更的事件。\n * 职责：重新查找权威状态，然后调用校准官进行状态同步。\n * @param eventName - 触发此处理器的事件名，用于日志记录。\n */\nasync function _handleHistoryChangeEvent(eventName, options) {\n    logProbe(`[HistoryChange] 检测到历史变更事件: ${eventName}。`);\n    if (!isCorePlayerInitialized)\n        return;\n    logProbe(`[HistoryChange-Probe] 正在查询最新的权威MVU状态...`);\n    const authoritativeState = await _findLatestAuthoritativeMvuState();\n    if (!authoritativeState?.mvuData) {\n        logProbe('[HistoryChange] (守门员) 未找到有效的权威状态。这在AI重新生成期间是正常现象。', 'warn');\n        logProbe('[HistoryChange] (守门员) 采取“静默等待”策略，本次校准已跳过。');\n        return;\n    }\n    console.log(`[HistoryChange-Probe] 查询完毕，这是找到的权威状态数据，请您审查：`);\n    console.dir(_.cloneDeep(authoritativeState?.mvuData));\n    await _reconcilePlaylistQueue(authoritativeState?.mvuData, options);\n}\n/**\n * [V9.9 核心修正] 处理新AI消息渲染事件的专用处理器。\n * 它的职责是检查并立即注入 <playmusic/> 标签，以修复刷新竞态条件BUG。\n * (SRP: Single Responsibility Principle)\n * @param messageId - 由事件传来的消息ID。\n */\nasync function _handleNewAssistantMessage(messageId) {\n    logProbe(`[Injector] 捕获到 CHARACTER_MESSAGE_RENDERED 事件，message_id: ${messageId}`);\n    if (messageId === 0) {\n        logProbe(`[Injector] (探针) 操作中止：message_id 为 0 (开场白)，无需注入。`);\n        return;\n    }\n    try {\n        const message = getChatMessages(messageId)?.[0];\n        if (message?.role === 'assistant' && !message.message.includes('<playmusic/>')) {\n            logProbe(`[Injector] (探针) 条件满足，立即为 message_id: ${messageId} 执行注入...`);\n            await setChatMessages([{ message_id: messageId, message: `${message.message}\\n<playmusic/>` }]);\n            logProbe(`[Injector] (探针) 注入成功。`);\n        }\n        else {\n            logProbe(`[Injector] (探针) 操作跳过：消息不满足注入条件 (可能不是AI消息，或已包含标签)。`);\n        }\n    }\n    catch (error) {\n        logProbe(`[Injector] 为 message_id: ${messageId} 注入标签时发生严重错误:`, 'error');\n        console.error(error);\n    }\n}\n/**\n * [V9.0 核心] 执行一次“软重置”。\n * 这将在不刷新整个页面的情况下，重新执行完整的初始化流程。\n * 用于响应“开场白滑动”等根本性的上下文变更。\n */\nasync function _executeSoftReset(options) {\n    logProbe('[SoftReset] 检测到根本性上下文变更，启动“软重置”协议...', 'warn');\n    try {\n        const config = await parseWorldbookConfig();\n        logProbe('[SoftReset] 正在为新的开场白查找权威MVU状态...');\n        const authoritativeState = await _findLatestAuthoritativeMvuState();\n        await initializePlayerForChat(config, authoritativeState, options);\n    }\n    catch (error) {\n        logProbe('[SoftReset] 软重置过程中发生严重错误。', 'error');\n        console.error(error);\n    }\n}\nfunction _registerContextualEventListeners() {\n    logProbe('[EventDispatcher] 正在注册“上下文专属”事件监听器...');\n    eventOn(tavern_events.CHARACTER_MESSAGE_RENDERED, (id) => {\n        void _handleNewAssistantMessage(id);\n    });\n    eventOn(tavern_events.MESSAGE_SWIPED, (id) => {\n        logProbe(`[Event] 捕获到滑动事件 (message_id: ${id})。`);\n        if (!isCorePlayerInitialized)\n            return;\n        if (id === 0) {\n            logProbe('[Event-Swipe] 判断为开场白滑动，执行软重置...');\n            const wasPlaying = StateManager.isPlaying();\n            logProbe(`[Event-Swipe] (探针) 软重置前的播放状态: ${wasPlaying}`);\n            void _executeSoftReset({ autoPlayIfWasPlaying: wasPlaying });\n        }\n        else {\n            logProbe('[Event-Swipe] 判断为历史消息滑动，执行历史变更处理...');\n            void _handleHistoryChangeEvent('MESSAGE_SWIPED', { transitionEffect: 'hard' });\n        }\n    });\n    logProbe('[EventDispatcher] “上下文专属”事件监听器注册完毕。');\n}\n/**\n * [原则: SRP] 这个函数的单一职责是：作为一个返回 Promise 的“观察哨”，\n * 它只负责“等待MVU创世完成”这一件事。成功则 resolve(true)，失败或超时则 resolve(false)。\n * 所有后续操作（如注册事件）都作为成功后的“副作用”在内部执行。\n */\nasync function _waitForMvuGenesis() {\n    logProbe('【安全观察哨】已上岗，开始执行MVU就绪检查...', 'group');\n    try {\n        // [探针] 阶段一：等待 MVU 框架本身出现\n        await waitGlobalInitialized('Mvu');\n        logProbe('【观察哨】(探针) 阶段一成功：MVU 框架已加载。');\n    }\n    catch (e) {\n        logProbe(`【观察哨】(探针) 阶段一失败: ${e}。`, 'warn');\n        logProbe('【安全观察哨】任务失败。', 'groupEnd');\n        return false;\n    }\n    // [探针] 阶段二：轮询观察，等待 MVU 将初始数据写入消息楼层\n    const WATCHER_TIMEOUT = 10000;\n    const WATCHER_INTERVAL = 250;\n    const startTime = Date.now();\n    let isGenesisComplete = false;\n    logProbe('【观察哨】(探针) 阶段二开始：正在严密监视 message_id: 0 的创世数据...');\n    while (Date.now() - startTime < WATCHER_TIMEOUT) {\n        try {\n            const mvuData = await Mvu.getMvuData({ type: 'message', message_id: 0 });\n            if (mvuData && (mvuData.swipes_data || mvuData.stat_data)) {\n                logProbe('【观察哨】(探针) 阶段二成功：在消息楼层中确认到创世数据！');\n                isGenesisComplete = true;\n                break;\n            }\n        }\n        catch (error) {\n            /* 在MVU启动初期，查询失败是正常现象，静默处理 */\n        }\n        await new Promise(resolve => setTimeout(resolve, WATCHER_INTERVAL));\n    }\n    if (!isGenesisComplete) {\n        logProbe('【观察哨】(探针) 阶段二失败：观察超时！', 'error');\n        logProbe('【安全观察哨】任务失败。', 'groupEnd');\n        return false;\n    }\n    // [探针] 阶段三：所有条件满足，执行激活序列\n    logProbe('【观察哨】(探针) 阶段三开始：执行MVU集成激活序列...');\n    try {\n        _registerMvuEventListeners();\n        isMvuIntegrationActive = true;\n        logProbe('【观察哨】(探针) 阶段三成功：MVU集成已完全激活。');\n        logProbe('【安全观察哨】任务成功完成！', 'groupEnd');\n        return true;\n    }\n    catch (error) {\n        logProbe(`【观察哨】(探针) 阶段三失败：激活序列发生意外崩溃: ${error}`, 'error');\n        isMvuIntegrationActive = false;\n        logProbe('【安全观察哨】任务失败。', 'groupEnd');\n        return false;\n    }\n}\n$(() => {\n    logProbe('音乐播放器脚本 V8.4 “上下文感知” 启动');\n    PlaybackEngine.initialize();\n    setupGlobalAPI();\n    eventOn(tavern_events.CHAT_CHANGED, () => {\n        logProbe(`[硬重置] CHAT_CHANGED 事件触发，检测到聊天上下文变更。即将执行“优雅停机”协议。`, 'warn');\n        executeHardReset();\n    });\n    const observerInterval = setInterval(() => {\n        void tryInitialize();\n        if (isInitializedForThisChat) {\n            clearInterval(observerInterval);\n            logProbe('【观察者模型】初始化成功，观察者已销毁。');\n        }\n    }, 250);\n    setTimeout(() => {\n        if (!isInitializedForThisChat) {\n            clearInterval(observerInterval);\n            logProbe('【观察者模型】初始化超时！', 'error');\n            if (_initializationPromiseControls) {\n                _initializationPromiseControls.reject('Initialization timed out after 5 seconds.');\n                _initializationPromiseControls = null;\n            }\n        }\n    }, 5000);\n    $(window).on('pagehide', () => {\n        logProbe('PAGEHIDE 事件触发！', 'warn');\n        PlaybackEngine.getActivePlayer()?.pause();\n        logProbe('音频已暂停。');\n    });\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsQ0FBQztJQUVULENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLEdBQUcsRUFBRTtRQUM1QixRQUFRLENBQUMsZ0JBQWdCLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFFbkMsY0FBYyxDQUFDLGVBQWUsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDO1FBQzFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNyQixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy9tdXNpY3BsYXllci9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gMC4g6K+K5pat5bel5YW3IChEaWFnbm9zdGljIFRvb2xzKVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmltcG9ydCB7IHosIFpvZEVycm9yIH0gZnJvbSAnem9kJztcbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgbXVzaWNQbGF5ZXJBUEk6IGFueTtcbiAgfVxufVxuY29uc3QgU0NSSVBUX0xPQURfVElNRSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG5mdW5jdGlvbiBsb2dQcm9iZShtZXNzYWdlOiBzdHJpbmcsIHR5cGU6ICdsb2cnIHwgJ3dhcm4nIHwgJ2Vycm9yJyB8ICdncm91cCcgfCAnZ3JvdXBDb2xsYXBzZWQnIHwgJ2dyb3VwRW5kJyA9ICdsb2cnKSB7XG4gIGNvbnN0IHRpbWVzdGFtcCA9IGAoVCskeyhwZXJmb3JtYW5jZS5ub3coKSAtIFNDUklQVF9MT0FEX1RJTUUpLnRvRml4ZWQoMCl9bXMpYDtcbiAgY29uc3QgZmluYWxNZXNzYWdlID0gYCR7dGltZXN0YW1wfSAke21lc3NhZ2V9YDtcblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd3YXJuJzpcbiAgICAgIGNvbnNvbGUud2FybihmaW5hbE1lc3NhZ2UpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZXJyb3InOlxuICAgICAgY29uc29sZS5lcnJvcihmaW5hbE1lc3NhZ2UpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgY29uc29sZS5ncm91cChmaW5hbE1lc3NhZ2UpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZ3JvdXBDb2xsYXBzZWQnOlxuICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZChmaW5hbE1lc3NhZ2UpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZ3JvdXBFbmQnOlxuICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnNvbGUubG9nKGZpbmFsTWVzc2FnZSk7XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIDEuIOexu+Wei+WumuS5iSAoVHlwZSBEZWZpbml0aW9ucylcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbnR5cGUgUGxheWxpc3RJdGVtID0ge1xuICB1cmw6IHN0cmluZztcbiAg5q2M5ZCNOiBzdHJpbmc7XG4gIOatjOaJiz86IHN0cmluZztcbiAg5bCB6Z2iPzogc3RyaW5nO1xufTtcblxudHlwZSBQbGF5bGlzdENvbmZpZyA9IHtcbiAgaWQ6IHN0cmluZztcbiAgdHJhY2tzOiBQbGF5bGlzdEl0ZW1bXTtcbiAgb25GaW5pc2hSdWxlOiAnbG9vcCcgfCAncG9wJztcbn07XG5cbnR5cGUgUXVldWVJdGVtID0ge1xuICAvLyAtLS0g5qC45b+D5qCH6K+G5LiO5o6S5bqP5L6d5o2uIC0tLVxuICBwbGF5bGlzdElkOiBzdHJpbmc7XG4gIHByaW9yaXR5OiBudW1iZXI7XG5cbiAgLy8gLS0tIOWGheWuueS4juinhOWImSAtLS1cbiAgcGxheWxpc3RDb250ZW50OiBQbGF5bGlzdEl0ZW1bXTtcbiAgb25GaW5pc2hSdWxlOiAnbG9vcCcgfCAncG9wJztcblxuICAvLyAtLS0g54q25oCB6K6w5b+GIC0tLVxuICBjdXJyZW50SW5kZXg6IG51bWJlcjtcbiAgcGxheWVkSW5kaWNlczogU2V0PG51bWJlcj47XG4gIHBsYXliYWNrUGxhbj86IG51bWJlcltdO1xuICBwbGFuSW5kZXg/OiBudW1iZXI7XG4gIHdhc0V2ZXJQbGF5ZWQ6IGJvb2xlYW47XG5cbiAgLy8gLS0tIOa6r+a6kOS/oeaBryAtLS1cbiAgdHJpZ2dlcmVkQnk6ICdiYXNlJyB8ICdtdnUnO1xuICB0cmlnZ2VyU291cmNlPzogei5pbmZlcjx0eXBlb2YgWm9kVHJpZ2dlckNvbmZpZz47XG59O1xuXG50eXBlIFBsYXliYWNrTW9kZSA9ICdsaXN0JyB8ICdzaW5nbGUnIHwgJ3JhbmRvbSc7XG5cbnR5cGUgRnVsbFN0YXRlUGF5bG9hZCA9IHtcbiAgY3VycmVudEl0ZW06IHsgdGl0bGU6IHN0cmluZzsgYXJ0aXN0Pzogc3RyaW5nOyBjb3Zlcj86IHN0cmluZyB9IHwgbnVsbDtcbiAgaXNQbGF5aW5nOiBib29sZWFuO1xuICBwbGF5YmFja01vZGU6IFBsYXliYWNrTW9kZTtcbiAgbWFzdGVyVm9sdW1lOiBudW1iZXI7XG4gIHBsYXlsaXN0OiB7IHRpdGxlOiBzdHJpbmc7IGFydGlzdD86IHN0cmluZzsgY292ZXI/OiBzdHJpbmcgfVtdO1xuICBpc1RyYW5zaXRpb25pbmc6IGJvb2xlYW47XG59O1xuXG50eXBlIFRpbWVVcGRhdGVQYXlsb2FkID0ge1xuICBjdXJyZW50VGltZTogbnVtYmVyO1xuICBkdXJhdGlvbjogbnVtYmVyO1xufTtcblxudHlwZSBTdHJhdGVneURlY2lzaW9uID0ge1xuICBhY3Rpb246ICdHb1RvJyB8ICdSZW1vdmVUb3BBbmRBZHZhbmNlJyB8ICdSZXN0YXJ0JyB8ICdEb05vdGhpbmcnIHwgJ0xvb3BSZXNldCcgfCAnU3RvcCc7XG4gIG5leHRJbmRleD86IG51bWJlcjtcbn07XG5cbmludGVyZmFjZSBJUGxheWJhY2tTdHJhdGVneSB7XG4gIG9uUXVldWVDaGFuZ2VkKGN1cnJlbnRJdGVtOiBRdWV1ZUl0ZW0gfCB1bmRlZmluZWQpOiB2b2lkO1xuICBhZHZhbmNlKGN1cnJlbnRJdGVtOiBRdWV1ZUl0ZW0sIGRpcmVjdGlvbjogJ25leHQnIHwgJ3ByZXYnKTogU3RyYXRlZ3lEZWNpc2lvbjtcbiAgb25UcmFja0VuZChjdXJyZW50SXRlbTogUXVldWVJdGVtKTogU3RyYXRlZ3lEZWNpc2lvbjtcbiAgb25QbGF5YmFja0Vycm9yKGN1cnJlbnRJdGVtOiBRdWV1ZUl0ZW0pOiBTdHJhdGVneURlY2lzaW9uO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gMS4xLiBab2Qg6L6555WM6Ziy5b6hIFNjaGVtYXMgKFpvZCBCb3JkZXIgRGVmZW5zZSBTY2hlbWFzKVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIOaOoumSiDog6L+Z5LqbIHNjaGVtYXMg5LiN5LuF5LuF5piv57G75Z6L77yM5a6D5Lus5piv5Li75Yqo55qE6aqM6K+B5Zmo77yM5piv5oiR5Lus57O757uf55qE56ys5LiA6YGT6Ziy57q/44CCXG4vLyAgICAgICDmr4/kuIDkuKogYHJlcXVpcmVkX2Vycm9yYCDlkowgYG1lc3NhZ2VgIOmDveaYr+S4gOS4quWGhee9rueahOaOoumSiO+8jOW9k+WklumDqOaVsOaNrlxuLy8gICAgICAg5LiN56ym5ZCI5oiR5Lus55qE4oCc5rOV5b6L4oCd5pe277yM5a6D5Lus5Lya6Ieq5Yqo5oql5ZGK6ZSZ6K+v44CCXG4vLyDljp/liJk6IOWNleS4gOS6i+Wunuadpea6kCAoU1NvVCkgLSDlhbPkuo7lpJbpg6jmlbDmja7lupTor6Xplb/ku4DkuYjmoLfnmoTigJznnJ/nm7jigJ3vvIzlj6rnlLHov5nph4zlrprkuYnjgIJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8vIOS4lueVjOS5pumfs+i9qOmFjee9riBTY2hlbWFcbmV4cG9ydCBjb25zdCBab2RUcmFja0NvbmZpZyA9IHpcbiAgLm9iamVjdCh7XG4gICAg5q2M5ZCNOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAg5q2M5omLOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAg5bCB6Z2iOiB6LnN0cmluZygpLnVybCh7IG1lc3NhZ2U6ICflsIHpnaJVUkzmoLzlvI/ml6DmlYgnIH0pLm9wdGlvbmFsKCksXG4gICAgdXJsOiB6LnN0cmluZygpLnVybCh7IG1lc3NhZ2U6ICfpn7PovahVUkzmoLzlvI/ml6DmlYgnIH0pLFxuICB9KVxuICAuc3RyaWN0KCk7XG5cbi8vIOWumuS5ieS4gOS4quKAnOWNleS4gOadoeS7tuKAnVxuZXhwb3J0IGNvbnN0IFpvZFNpbmdsZUNvbmRpdGlvbiA9IHpcbiAgLm9iamVjdCh7XG4gICAgdmFyaWFibGVfcGF0aDogei5zdHJpbmcoKSxcbiAgICBncmVhdGVyX3RoYW46IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICBncmVhdGVyX3RoYW5fb3JfZXF1YWxfdG86IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICBsZXNzX3RoYW46IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICBsZXNzX3RoYW5fb3JfZXF1YWxfdG86IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICB2YWx1ZTogei51bmlvbihbei5zdHJpbmcoKSwgei5udW1iZXIoKSwgei5ib29sZWFuKCldKS5vcHRpb25hbCgpLFxuICAgIHZhbHVlX2NvbnRhaW5zOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgdGltZV9pbl9yYW5nZTogelxuICAgICAgLnN0cmluZygpXG4gICAgICAucmVnZXgoL15cXGR7Mn06XFxkezJ9LVxcZHsyfTpcXGR7Mn0kLywge1xuICAgICAgICBtZXNzYWdlOiAn5pe26Ze06IyD5Zu05qC85byP5b+F6aG75pivIFwiSEg6TU0tSEg6TU1cIicsXG4gICAgICB9KVxuICAgICAgLm9wdGlvbmFsKCksXG4gIH0pXG4gIC5zdHJpY3QoKTtcblxuLy8g5Li76Kem5Y+R5ZmoIFNjaGVtYSDlvJXnlKjigJzljZXkuIDmnaHku7bigJ3nmoTmlbDnu4RcbmV4cG9ydCBjb25zdCBab2RUcmlnZ2VyQ29uZmlnID0gelxuICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ212dV92YXJpYWJsZScpLFxuICAgIHBsYXlsaXN0X2lkOiB6LnN0cmluZygpLFxuICAgIHByaW9yaXR5OiB6Lm51bWJlcigpLmRlZmF1bHQoMCksXG4gICAgY29uZGl0aW9uczogei5hcnJheShab2RTaW5nbGVDb25kaXRpb24pLm5vbmVtcHR5KHsgbWVzc2FnZTogJ+inpuWPkeWZqOW/hemhu+iHs+WwkeWMheWQq+S4gOS4quadoeS7ticgfSksXG4gIH0pXG4gIC5zdHJpY3QoKTtcblxuLy8g5LiW55WM5Lmm5q2M5Y2V6YWN572uIFNjaGVtYVxuZXhwb3J0IGNvbnN0IFpvZFBsYXlsaXN0Q29uZmlnID0gei5vYmplY3Qoe1xuICBpZDogei5zdHJpbmcoKSxcbiAgb25GaW5pc2hSdWxlOiB6LmVudW0oWydsb29wJywgJ3BvcCddLCB7IG1lc3NhZ2U6IFwib25GaW5pc2hSdWxlIOW/hemhu+aYryAnbG9vcCcg5oiWICdwb3AnXCIgfSkuZGVmYXVsdCgnbG9vcCcpLFxuICB0cmFja3M6IHouYXJyYXkoWm9kVHJhY2tDb25maWcpLm5vbmVtcHR5KHsgbWVzc2FnZTogXCLmrYzljZXnmoQgJ3RyYWNrcycg5YiX6KGo5LiN6IO95Li656m6XCIgfSksXG59KTtcblxuLy8g5LiW55WM5Lmm5oC76YWN572uIFNjaGVtYSAo6L+Z5piv5oiR5Lus5bCG5L2/55So55qE6aG257qn6aqM6K+B5ZmoKVxuZXhwb3J0IGNvbnN0IFpvZFdvcmxkYm9va0NvbmZpZyA9IHpcbiAgLm9iamVjdCh7XG4gICAgZGVmYXVsdF9wbGF5bGlzdF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHBsYXlsaXN0czogei5hcnJheShab2RQbGF5bGlzdENvbmZpZykub3B0aW9uYWwoKSxcbiAgICB0cmlnZ2Vyczogei5hcnJheShab2RUcmlnZ2VyQ29uZmlnKS5vcHRpb25hbCgpLFxuICB9KVxuICAuc3RyaWN0KCk7XG5cbi8vIOaMgeS5heWMlueKtuaAgSAtIOmYn+WIl+mhuSBTY2hlbWFcbmV4cG9ydCBjb25zdCBab2RRdWV1ZUl0ZW1TdGF0ZSA9IHoub2JqZWN0KHtcbiAgcGxheWxpc3RJZDogei5zdHJpbmcoKSxcbiAgY3VycmVudEluZGV4OiB6Lm51bWJlcigpLmRlZmF1bHQoMCksXG4gIHBsYXllZEluZGljZXM6IHouYXJyYXkoei5udW1iZXIoKSkuZGVmYXVsdChbXSksXG4gIHdhc0V2ZXJQbGF5ZWQ6IHouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLFxuICB0cmlnZ2VyU291cmNlOiBab2RUcmlnZ2VyQ29uZmlnLm9wdGlvbmFsKCksXG59KTtcblxuLy8g5oyB5LmF5YyW54q25oCBIC0g5oC7IFNjaGVtYVxuZXhwb3J0IGNvbnN0IFpvZFBlcnNpc3RlZFN0YXRlID0gei5vYmplY3Qoe1xuICBhY3RpdmVfcXVldWU6IHouYXJyYXkoWm9kUXVldWVJdGVtU3RhdGUpLFxuICBtb2RlOiB6LmVudW0oWydsaXN0JywgJ3NpbmdsZScsICdyYW5kb20nXSkuZGVmYXVsdCgnbGlzdCcpLFxuICB2b2x1bWU6IHoubnVtYmVyKCkubWluKDApLm1heCgxKS5kZWZhdWx0KDAuNSksXG4gIHByZXZpb3VzTXZ1U3RhdGU6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLm9wdGlvbmFsKCksXG59KTtcblxuY29uc3QgU1RBVEVfS0VZX01WVV9ISVNUT1JZID0gJ+eBsOeDrOWPjOaYn19NVlXnirbmgIHorrDlv4YnO1xuXG4vKipcbiAqIFvlt6Xlhbflh73mlbBdIOWwhuWkmuenjeagvOW8j+eahOaXtumXtOWtl+espuS4suino+aekOS4uuS7juWNiOWknOW8gOWni+eahOWIhumSn+aVsOOAglxuICog5a6D55qE6IGM6LSj5Y2V5LiA77yM5LiU5a+56L6T5YWl5qC85byP5pyJ5b6I5by655qE5a656ZSZ6IO95Yqb44CCXG4gKiBAcGFyYW0gdGltZVN0ciAtIOS+i+WmgiBcIjE0OjMwXCIsIFwiOOaXtjXliIZcIiwgXCIyMiA6IDAwXCJcbiAqIEByZXR1cm5zIHtudW1iZXIgfCBudWxsfSDovazmjaLlkI7nmoTliIbpkp/mlbDvvIzmiJblnKjml6Dms5Xop6PmnpDml7bov5Tlm54gbnVsbOOAglxuICovXG5mdW5jdGlvbiBfcGFyc2VUaW1lVG9NaW51dGVzKHRpbWVTdHI6IHN0cmluZyk6IG51bWJlciB8IG51bGwge1xuICAvLyDmjqLpkog6IOiusOW9leS8oOWFpeeahOWOn+Wni+WAvO+8jOS+v+S6juiwg+ivlVxuICBpZiAoIXRpbWVTdHIgfHwgdHlwZW9mIHRpbWVTdHIgIT09ICdzdHJpbmcnKSByZXR1cm4gbnVsbDtcblxuICAvLyDmraXpqqQxOiDlvZLkuIDljJbovpPlhaXvvIzlpITnkIbluLjop4Hlj5jkvZMgKOW3suS/ruatoyBsZXQgLT4gY29uc3Qg5ZKMIHJlcGxhY2Ug6K+t5rOVKVxuICBjb25zdCBjbGVhblN0cjogc3RyaW5nID0gdGltZVN0ci50cmltKCkucmVwbGFjZSgn77yaJywgJzonKTtcblxuICBsZXQgbWF0Y2g7XG5cbiAgLy8g5q2l6aqkMjog5bCd6K+V5Yy56YWNIFwiSEg6TU1cIiDmoLzlvI8gKOacgOW4uOingSlcbiAgbWF0Y2ggPSBjbGVhblN0ci5tYXRjaCgvXihcXGR7MSwyfSlcXHMqOlxccyooXFxkezEsMn0pJC8pO1xuICBpZiAobWF0Y2gpIHtcbiAgICBjb25zdCBob3VycyA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG4gICAgY29uc3QgbWludXRlcyA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG4gICAgLy8g5Lil5qC85qCh6aqM5pWw5YC86IyD5Zu0XG4gICAgaWYgKGhvdXJzID49IDAgJiYgaG91cnMgPCAyNCAmJiBtaW51dGVzID49IDAgJiYgbWludXRlcyA8IDYwKSB7XG4gICAgICByZXR1cm4gaG91cnMgKiA2MCArIG1pbnV0ZXM7XG4gICAgfVxuICB9XG5cbiAgLy8g5q2l6aqkMzog5bCd6K+V5Yy56YWNIFwiSOaXtk3liIZcIiDmoLzlvI9cbiAgbWF0Y2ggPSBjbGVhblN0ci5tYXRjaCgvXihcXGR7MSwyfSlcXHMq5pe2XFxzKihcXGR7MSwyfSlcXHMq5YiGPyQvKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgY29uc3QgaG91cnMgPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBwYXJzZUludChtYXRjaFsyXSwgMTApO1xuICAgIGlmIChob3VycyA+PSAwICYmIGhvdXJzIDwgMjQgJiYgbWludXRlcyA+PSAwICYmIG1pbnV0ZXMgPCA2MCkge1xuICAgICAgcmV0dXJuIGhvdXJzICogNjAgKyBtaW51dGVzO1xuICAgIH1cbiAgfVxuXG4gIC8vIOaOoumSiDog5aaC5p6c5omA5pyJ5qC85byP6YO95Yy56YWN5aSx6LSl77yM6K6w5b2V5LiL5p2lXG4gIGxvZ1Byb2JlKGBbVGltZVBhcnNlcl0g5peg5rOV6Kej5p6Q5pe26Ze05a2X56ym5LiyOiBcIiR7dGltZVN0cn1cImAsICd3YXJuJyk7XG5cbiAgLy8gW+aWsOWinl0g5L+u5aSN4oCc57y65bCRIHJldHVybuKAneeahOmAu+i+kea8j+a0nlxuICByZXR1cm4gbnVsbDtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIDIuIE1WVSDnrqHnkIblmaggKFRoZSBNdnVNYW5hZ2VyIC0gXCJUaGUgQW5hbHlzdFwiKVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNvbnN0IE12dU1hbmFnZXIgPSAoKCkgPT4ge1xuICBsb2dQcm9iZSgnW012dU1hbmFnZXJdIOaooeWdl+ato+WcqOWIneWni+WMli4uLicpO1xuXG4gIGxldCBfcHJldmlvdXNNdnVTdGF0ZTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gIC8qKlxuICAgKiBb5qC45b+D566X5rOVIFYyLjFdIOajgOafpeS4gOS4que7meWumueahCBzdGF0X2RhdGEg5piv5ZCm5ruh6Laz5LiA5Liq6Kem5Y+R5Zmo55qE5omA5pyJ5p2h5Lu244CCXG4gICAqIOaWsOeJiOW3suWKoOWbuu+8jOaUr+aMgeWkmuenjeWMuemFjeaooeW8j+WSjCBBTkQg5p2h5Lu257uE5ZCI77yM5LiU5Luj56CB6aOO5qC85bey5LyY5YyW44CCXG4gICAqL1xuICBmdW5jdGlvbiBfY2hlY2tUcmlnZ2VyQ29uZGl0aW9uKFxuICAgIHRyaWdnZXI6IHouaW5mZXI8dHlwZW9mIFpvZFRyaWdnZXJDb25maWc+LFxuICAgIHN0YXREYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgbnVsbCxcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKCFzdGF0RGF0YSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8g6YGN5Y6G5omA5pyJIEFORCDmnaHku7bjgILlj6ropoHmnInkuIDkuKrkuI3mu6HotrPvvIzmlbTkuKrop6blj5HlmajlsLHlpLHotKXjgIJcbiAgICBmb3IgKGNvbnN0IGNvbmRpdGlvbiBvZiB0cmlnZ2VyLmNvbmRpdGlvbnMpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IF8uZ2V0KHN0YXREYXRhLCBjb25kaXRpb24udmFyaWFibGVfcGF0aCk7XG5cbiAgICAgIGxldCBjb25kaXRpb25NZXQgPSBmYWxzZTsgLy8g5b2T5YmN5p2h5Lu25piv5ZCm5ruh6LazXG4gICAgICBsZXQgaXNIYW5kbGVkID0gZmFsc2U7IC8vIOW9k+WJjeadoeS7tuaYr+WQpuiiq+S7u+S9leS4gOS4quWMuemFjeaooeW8j+WkhOeQhui/h1xuXG4gICAgICAvLyDkvb/nlKggaWYgLyBlbHNlIGlmIOmTvuadoe+8jOehruS/neavj+S4quadoeS7tumhueWPqumHh+eUqOS4gOenjeWMuemFjeaooeW8j1xuICAgICAgaWYgKGNvbmRpdGlvbi52YWx1ZV9jb250YWlucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlzSGFuZGxlZCA9IHRydWU7XG4gICAgICAgIC8vIFvlronlhajliqDlm7pdIOW/hemhu+ajgOafpSBjdXJyZW50VmFsdWUg5piv5a2X56ym5Liy77yM5ZCm5YiZIC5pbmNsdWRlcygpIOS8muWvvOiHtOW0qea6g1xuICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnRWYWx1ZSA9PT0gJ3N0cmluZycgJiYgY3VycmVudFZhbHVlLmluY2x1ZGVzKGNvbmRpdGlvbi52YWx1ZV9jb250YWlucykpIHtcbiAgICAgICAgICBjb25kaXRpb25NZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNvbmRpdGlvbi50aW1lX2luX3JhbmdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaXNIYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgLy8gW+WuieWFqOWKoOWbul0g5ZCM5qC35qOA5p+l57G75Z6LXG4gICAgICAgIGlmICh0eXBlb2YgY3VycmVudFZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lSW5NaW51dGVzID0gX3BhcnNlVGltZVRvTWludXRlcyhjdXJyZW50VmFsdWUpO1xuXG4gICAgICAgICAgaWYgKGN1cnJlbnRUaW1lSW5NaW51dGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBbc3RhcnRTdHIsIGVuZFN0cl0gPSBjb25kaXRpb24udGltZV9pbl9yYW5nZS5zcGxpdCgnLScpO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRNaW51dGVzID0gX3BhcnNlVGltZVRvTWludXRlcyhzdGFydFN0cik7XG4gICAgICAgICAgICBjb25zdCBlbmRNaW51dGVzID0gX3BhcnNlVGltZVRvTWludXRlcyhlbmRTdHIpO1xuXG4gICAgICAgICAgICBpZiAoc3RhcnRNaW51dGVzICE9PSBudWxsICYmIGVuZE1pbnV0ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gW+S7o+eggemjjuagvOS/ruato10g56e76Zmk5LiN5b+F6KaB55qE5bWM5aWXIGlm77yM5L2/5Luj56CB5pu0566A5rSBXG4gICAgICAgICAgICAgIGlmIChzdGFydE1pbnV0ZXMgPD0gZW5kTWludXRlcykge1xuICAgICAgICAgICAgICAgIC8vIOaZrumAmuiMg+WbtFxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbk1ldCA9IGN1cnJlbnRUaW1lSW5NaW51dGVzID49IHN0YXJ0TWludXRlcyAmJiBjdXJyZW50VGltZUluTWludXRlcyA8PSBlbmRNaW51dGVzO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIOi3qOWkqeiMg+WbtFxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbk1ldCA9IGN1cnJlbnRUaW1lSW5NaW51dGVzID49IHN0YXJ0TWludXRlcyB8fCBjdXJyZW50VGltZUluTWludXRlcyA8PSBlbmRNaW51dGVzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNvbmRpdGlvbi52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlzSGFuZGxlZCA9IHRydWU7XG4gICAgICAgIGlmIChjdXJyZW50VmFsdWUgPT09IGNvbmRpdGlvbi52YWx1ZSkge1xuICAgICAgICAgIGNvbmRpdGlvbk1ldCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY29uZGl0aW9uLmdyZWF0ZXJfdGhhbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlzSGFuZGxlZCA9IHRydWU7XG4gICAgICAgIGlmICh0eXBlb2YgY3VycmVudFZhbHVlID09PSAnbnVtYmVyJyAmJiBjdXJyZW50VmFsdWUgPiBjb25kaXRpb24uZ3JlYXRlcl90aGFuKSB7XG4gICAgICAgICAgY29uZGl0aW9uTWV0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjb25kaXRpb24uZ3JlYXRlcl90aGFuX29yX2VxdWFsX3RvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaXNIYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50VmFsdWUgPT09ICdudW1iZXInICYmIGN1cnJlbnRWYWx1ZSA+PSBjb25kaXRpb24uZ3JlYXRlcl90aGFuX29yX2VxdWFsX3RvKSB7XG4gICAgICAgICAgY29uZGl0aW9uTWV0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjb25kaXRpb24ubGVzc190aGFuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaXNIYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50VmFsdWUgPT09ICdudW1iZXInICYmIGN1cnJlbnRWYWx1ZSA8IGNvbmRpdGlvbi5sZXNzX3RoYW4pIHtcbiAgICAgICAgICBjb25kaXRpb25NZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNvbmRpdGlvbi5sZXNzX3RoYW5fb3JfZXF1YWxfdG8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpc0hhbmRsZWQgPSB0cnVlO1xuICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnRWYWx1ZSA9PT0gJ251bWJlcicgJiYgY3VycmVudFZhbHVlIDw9IGNvbmRpdGlvbi5sZXNzX3RoYW5fb3JfZXF1YWxfdG8pIHtcbiAgICAgICAgICBjb25kaXRpb25NZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFvmnIDnu4joo4HlhrNdIOWmguaenOi/meaYr+S4gOS4quepuuadoeS7tiAoaXNIYW5kbGVkPWZhbHNlKe+8jOaIluadoeS7tuS4jea7oei2s++8jOWImeeri+WNs+Wksei0pVxuICAgICAgaWYgKCFpc0hhbmRsZWQgfHwgIWNvbmRpdGlvbk1ldCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8g5aaC5p6c5b6q546v5q2j5bi457uT5p2f77yM6K+05piO5omA5pyJIEFORCDmnaHku7bpg73mu6HotrNcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIC0tLSDlhazlhbHmjqXlj6MgLS0tXG4gIGNvbnN0IHB1YmxpY0FQSSA9IHtcbiAgICBjaGVja1RyaWdnZXJDb25kaXRpb246IF9jaGVja1RyaWdnZXJDb25kaXRpb24sXG5cbiAgICAvKipcbiAgICAgKiBb55Sf5ZG95ZGo5pyfXSDku47phZLppoblj5jph4/kuK3or7vlj5blubbmgaLlpI3kuIrkuIDmrKHnmoQgTVZVIOeKtuaAgeOAglxuICAgICAqL1xuICAgIGluaXRpYWxpemUoKSB7XG4gICAgICBsb2dQcm9iZSgnW012dU1hbmFnZXJdIChMaWZlY3ljbGUpIOaJp+ihjCBpbml0aWFsaXplLi4uJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzYXZlZFN0YXRlID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ2NoYXQnIH0pW1NUQVRFX0tFWV9NVlVfSElTVE9SWV07XG4gICAgICAgIGlmIChzYXZlZFN0YXRlICYmIHR5cGVvZiBzYXZlZFN0YXRlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIF9wcmV2aW91c012dVN0YXRlID0gc2F2ZWRTdGF0ZTtcbiAgICAgICAgICBsb2dQcm9iZSgnW012dU1hbmFnZXJdIOaIkOWKn+S7juWtmOaho+S4reaBouWkjeS6hiBNVlUg5Y6G5Y+y54q25oCB44CCJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3ByZXZpb3VzTXZ1U3RhdGUgPSB7fTtcbiAgICAgICAgICBsb2dQcm9iZSgnW012dU1hbmFnZXJdIOacquWPkeeOsOacieaViOeahCBNVlUg5Y6G5Y+y5a2Y5qGj77yM5bey5Yid5aeL5YyW5Li656m654q25oCB44CCJywgJ3dhcm4nKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nUHJvYmUoYFtNdnVNYW5hZ2VyXSDliJ3lp4vljJbml7bor7vlj5blrZjmoaPlpLHotKU6ICR7ZXJyb3J9YCwgJ2Vycm9yJyk7XG4gICAgICAgIF9wcmV2aW91c012dVN0YXRlID0ge307XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlc2V0U3RhdGUoKSB7XG4gICAgICBsb2dQcm9iZSgnW012dU1hbmFnZXJdIChMaWZlY3ljbGUpIOato+WcqOmHjee9ruaooeWdl+WGhemDqOeKtuaAgS4uLicpO1xuICAgICAgX3ByZXZpb3VzTXZ1U3RhdGUgPSB7fTtcbiAgICAgIGxvZ1Byb2JlKCdbTXZ1TWFuYWdlcl0g5qih5Z2X54q25oCB5bey6YeN572u44CCJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFvlkb3ku6RdIOWwhuW9k+WJjeeahCBNVlUg54q25oCB5oyB5LmF5YyW5Yiw6YWS6aaG5Y+Y6YeP5Lit44CCXG4gICAgICogQHBhcmFtIGN1cnJlbnRTdGF0ZURhdGEgLSDmnIDmlrDnmoQgc3RhdF9kYXRhIOWvueixoeOAglxuICAgICAqL1xuICAgIGFzeW5jIHBlcnNpc3RDdXJyZW50U3RhdGUoY3VycmVudFN0YXRlRGF0YTogUmVjb3JkPHN0cmluZywgYW55Pikge1xuICAgICAgaWYgKCFpc1NjcmlwdEFjdGl2ZSkge1xuICAgICAgICBsb2dQcm9iZSgnW012dU1hbmFnZXJdIOaMgeS5heWMluaTjeS9nOiiq+mYu+atou+8jOWboOS4uuiEmuacrOato+WcqOWBnOacuuOAgicsICd3YXJuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZ1Byb2JlKCdbTXZ1TWFuYWdlcl0gKENvbW1hbmQpIOaJp+ihjCBwZXJzaXN0Q3VycmVudFN0YXRlLi4uJyk7XG4gICAgICBfcHJldmlvdXNNdnVTdGF0ZSA9IF8uY2xvbmVEZWVwKGN1cnJlbnRTdGF0ZURhdGEpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdXBkYXRlVmFyaWFibGVzV2l0aChcbiAgICAgICAgICB2YXJzID0+IHtcbiAgICAgICAgICAgIHZhcnNbU1RBVEVfS0VZX01WVV9ISVNUT1JZXSA9IF9wcmV2aW91c012dVN0YXRlO1xuICAgICAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IHR5cGU6ICdjaGF0JyB9LFxuICAgICAgICApO1xuICAgICAgICBsb2dQcm9iZSgnW012dU1hbmFnZXJdIOW3suaIkOWKn+WwhuW9k+WJjSBNVlUg54q25oCB5oyB5LmF5YyW44CCJyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dQcm9iZShgW012dU1hbmFnZXJdIOaMgeS5heWMliBNVlUg54q25oCB5pe25Y+R55Sf5Lil6YeN6ZSZ6K+vOiAke2Vycm9yfWAsICdlcnJvcicpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBb5p+l6K+iXSDojrflj5blhoXlrZjkuK3lrZjlgqjnmoTkuIrkuIDmrKHnmoQgTVZVIOeKtuaAgeOAglxuICAgICAqL1xuICAgIGdldFByZXZpb3VzU3RhdGU6ICgpID0+IF8uY2xvbmVEZWVwKF9wcmV2aW91c012dVN0YXRlKSxcblxuICAgIC8qKlxuICAgICAqIFvmoLjlv4Pmn6Xor6JdIOiuoeeul+aWsOaXp+eKtuaAgeS5i+mXtOeahOKAnOi+ueayv+WPmOWMluKAneOAglxuICAgICAqIEBwYXJhbSBwcmV2aW91c1N0YXRlRGF0YSAtIOS4iuS4gOasoeeahCBzdGF0X2RhdGHjgIJcbiAgICAgKiBAcGFyYW0gY3VycmVudFN0YXRlRGF0YSAtIOacgOaWsOeahCBzdGF0X2RhdGHjgIJcbiAgICAgKiBAcGFyYW0gYWxsVHJpZ2dlcnMgLSDku47kuJbnlYzkuabop6PmnpDlh7rnmoTmiYDmnInmnInmlYjop6blj5HlmajjgIJcbiAgICAgKiBAcmV0dXJucyDmiqXlkYrlr7nosaHvvIzljIXlkKvmlrDmv4DmtLvlkozmlrDlpLHmlYjnmoTop6blj5HlmajliJfooajjgIJcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVDaGFuZ2VSZXBvcnQoXG4gICAgICBwcmV2aW91c1N0YXRlRGF0YTogUmVjb3JkPHN0cmluZywgYW55PixcbiAgICAgIGN1cnJlbnRTdGF0ZURhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgICBhbGxUcmlnZ2Vyczogei5pbmZlcjx0eXBlb2YgWm9kVHJpZ2dlckNvbmZpZz5bXSxcbiAgICApOiB7XG4gICAgICBuZXdseUFjdGl2ZVRyaWdnZXJzOiB6LmluZmVyPHR5cGVvZiBab2RUcmlnZ2VyQ29uZmlnPltdO1xuICAgICAgbmV3bHlJbmFjdGl2ZVRyaWdnZXJzOiB6LmluZmVyPHR5cGVvZiBab2RUcmlnZ2VyQ29uZmlnPltdO1xuICAgIH0ge1xuICAgICAgY29uc3QgcmVwb3J0OiB7XG4gICAgICAgIG5ld2x5QWN0aXZlVHJpZ2dlcnM6IHouaW5mZXI8dHlwZW9mIFpvZFRyaWdnZXJDb25maWc+W107XG4gICAgICAgIG5ld2x5SW5hY3RpdmVUcmlnZ2Vyczogei5pbmZlcjx0eXBlb2YgWm9kVHJpZ2dlckNvbmZpZz5bXTtcbiAgICAgIH0gPSB7IG5ld2x5QWN0aXZlVHJpZ2dlcnM6IFtdLCBuZXdseUluYWN0aXZlVHJpZ2dlcnM6IFtdIH07XG5cbiAgICAgIGxvZ1Byb2JlKCdbTXZ1TWFuYWdlcl0gKFF1ZXJ5KSDmraPlnKjorqHnrpfnirbmgIHlj5jljJbmiqXlkYogKFwi6L655rK/5qOA5rWLXCIpLi4uJywgJ2dyb3VwJyk7XG5cbiAgICAgIGxvZ1Byb2JlKCdbUHJvYmVdIOato+WcqOWuoeafpeeUqOS6juWvueavlOeahOaWsOaXp+eKtuaAgeaVsOaNrjonKTtcbiAgICAgIGNvbnNvbGUubG9nKCfkuIrkuIDku73ljoblj7LorrDlv4YgKHByZXZpb3VzU3RhdGVEYXRhKTonKTtcbiAgICAgIGNvbnNvbGUuZGlyKF8uY2xvbmVEZWVwKHByZXZpb3VzU3RhdGVEYXRhKSk7XG4gICAgICBjb25zb2xlLmxvZygn5b2T5YmN5p2D5aiB54q25oCBIChjdXJyZW50U3RhdGVEYXRhKTonKTtcbiAgICAgIGNvbnNvbGUuZGlyKF8uY2xvbmVEZWVwKGN1cnJlbnRTdGF0ZURhdGEpKTtcbiAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgICAgZm9yIChjb25zdCB0cmlnZ2VyIG9mIGFsbFRyaWdnZXJzKSB7XG4gICAgICAgIGNvbnN0IHdhc01ldCA9IF9jaGVja1RyaWdnZXJDb25kaXRpb24odHJpZ2dlciwgcHJldmlvdXNTdGF0ZURhdGEpO1xuICAgICAgICBjb25zdCBpc01ldCA9IF9jaGVja1RyaWdnZXJDb25kaXRpb24odHJpZ2dlciwgY3VycmVudFN0YXRlRGF0YSk7XG5cbiAgICAgICAgaWYgKCF3YXNNZXQgJiYgaXNNZXQpIHtcbiAgICAgICAgICBsb2dQcm9iZShgKOaOoumHnSkg5paw5r+A5rS755qE6Kem5Y+R5ZmoIC0+IHBsYXlsaXN0OiBcIiR7dHJpZ2dlci5wbGF5bGlzdF9pZH1cImApO1xuICAgICAgICAgIHJlcG9ydC5uZXdseUFjdGl2ZVRyaWdnZXJzLnB1c2godHJpZ2dlcik7XG4gICAgICAgIH0gZWxzZSBpZiAod2FzTWV0ICYmICFpc01ldCkge1xuICAgICAgICAgIGxvZ1Byb2JlKGAo5o6i6YedKSDmlrDlpLHmlYjnmoTop6blj5HlmaggLT4gcGxheWxpc3Q6IFwiJHt0cmlnZ2VyLnBsYXlsaXN0X2lkfVwiYCk7XG4gICAgICAgICAgcmVwb3J0Lm5ld2x5SW5hY3RpdmVUcmlnZ2Vycy5wdXNoKHRyaWdnZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsb2dQcm9iZShcbiAgICAgICAgYOaKpeWRiueUn+aIkOWujOavlTogJHtyZXBvcnQubmV3bHlBY3RpdmVUcmlnZ2Vycy5sZW5ndGh9IOS4quaWsOa/gOa0uywgJHtyZXBvcnQubmV3bHlJbmFjdGl2ZVRyaWdnZXJzLmxlbmd0aH0g5Liq5paw5aSx5pWI44CCYCxcbiAgICAgICk7XG4gICAgICBsb2dQcm9iZSgnJywgJ2dyb3VwRW5kJyk7XG4gICAgICByZXR1cm4gcmVwb3J0O1xuICAgIH0sXG4gIH07XG5cbiAgbG9nUHJvYmUoJ1tNdnVNYW5hZ2VyXSDmqKHlnZfliJ3lp4vljJblrozmiJDjgIInKTtcbiAgcmV0dXJuIHB1YmxpY0FQSTtcbn0pKCk7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAyLiDnirbmgIHnrqHnkIblmaggKFRoZSBTdGF0ZSBNYW5hZ2VyKSAtIFtWMi4wIOmHjeaehOeJiF1cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jb25zdCBTdGF0ZU1hbmFnZXIgPSAoKCkgPT4ge1xuICBsb2dQcm9iZSgnW1N0YXRlTWFuYWdlcl0g5qih5Z2X5q2j5Zyo5Yid5aeL5YyWICjkvJjlhYjnuqfpmJ/liJflhoXmoLgpLi4uJyk7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAyLjEuIOengeacieeKtuaAgSAoUHJpdmF0ZSBTdGF0ZSlcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBb6YeN5p6EXSDmoLjlv4PmlbDmja7nu5PmnoTlj5jmm7TkuLrkvJjlhYjnuqfpmJ/liJdcbiAgbGV0IF9hY3RpdmVQbGF5bGlzdFF1ZXVlOiBRdWV1ZUl0ZW1bXSA9IFtdO1xuXG4gIGxldCBfcGxheWJhY2tNb2RlOiBQbGF5YmFja01vZGUgPSAnbGlzdCc7XG4gIGxldCBfbWFzdGVyVm9sdW1lOiBudW1iZXIgPSAwLjU7XG4gIGxldCBfaXNQbGF5aW5nOiBib29sZWFuID0gZmFsc2U7XG4gIGxldCBfaXNQZXJmb3JtaW5nRWZmZWN0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAyLjIuIOengeacieaguOW/g+eul+azlSAoUHJpdmF0ZSBDb3JlIEFsZ29yaXRobXMpXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgZnVuY3Rpb24gX2FwcGx5RGVwYXJ0dXJlSXNIaXN0b3J5UHJpbmNpcGxlKGl0ZW06IFF1ZXVlSXRlbSwgZGVwYXJ0aW5nSW5kZXg6IG51bWJlcikge1xuICAgIGlmICh0eXBlb2YgZGVwYXJ0aW5nSW5kZXggIT09ICdudW1iZXInIHx8IGRlcGFydGluZ0luZGV4IDwgMCkgcmV0dXJuO1xuICAgIGl0ZW0ucGxheWVkSW5kaWNlcy5hZGQoZGVwYXJ0aW5nSW5kZXgpO1xuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAyLjMuIOWFrOWFseaOpeWPoyAoUHVibGljIEFQSSlcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBjb25zdCBwdWJsaWNBUEkgPSB7XG4gICAgLy8gLS0tIOWfuuehgOeKtuaAgeafpeivoiAtLS1cbiAgICBnZXRQbGF5YmFja01vZGU6ICgpID0+IF9wbGF5YmFja01vZGUsXG4gICAgZ2V0Vm9sdW1lOiAoKSA9PiBfbWFzdGVyVm9sdW1lLFxuICAgIGlzUGxheWluZzogKCkgPT4gX2lzUGxheWluZyxcbiAgICBpc1BlcmZvcm1pbmdFZmZlY3Q6ICgpID0+IF9pc1BlcmZvcm1pbmdFZmZlY3QsXG5cbiAgICAvLyAtLS0gW+mHjeaehF0g6Zif5YiX5qC45b+D5p+l6K+iIC0tLVxuICAgIC8qKlxuICAgICAqIOiOt+WPluW9k+WJjeS8mOWFiOe6p+acgOmrmOeahOatjOWNlemhue+8iOmYn+mmlu+8ieOAglxuICAgICAqIOi/meaYr+ezu+e7n+WUr+S4gOeahOS6i+Wunuadpea6kO+8muW9k+WJjeW6lOivpeaSreaUvuS7gOS5iOOAglxuICAgICAqL1xuICAgIGdldFRvcFF1ZXVlSXRlbTogKCk6IFF1ZXVlSXRlbSB8IHVuZGVmaW5lZCA9PiBfLmNsb25lRGVlcChfYWN0aXZlUGxheWxpc3RRdWV1ZVswXSksXG5cbiAgICAvKipcbiAgICAgKiDojrflj5bmlbTkuKrpmJ/liJfnmoTlia/mnKzvvIjnlKjkuo7osIPor5XmiJblhrPnrZbliIbmnpDvvInjgIJcbiAgICAgKi9cbiAgICBnZXRRdWV1ZTogKCk6IFF1ZXVlSXRlbVtdID0+IF8uY2xvbmVEZWVwKF9hY3RpdmVQbGF5bGlzdFF1ZXVlKSxcblxuICAgIC8vIC0tLSDnirbmgIHlv6vnhacgLS0tXG4gICAgZ2V0U3RhdGVTbmFwc2hvdEZvclJ1bnRpbWU6ICgpID0+IHtcbiAgICAgIHJldHVybiBfLmNsb25lRGVlcCh7XG4gICAgICAgIGFjdGl2ZV9xdWV1ZTogX2FjdGl2ZVBsYXlsaXN0UXVldWUsXG4gICAgICAgIG1vZGU6IF9wbGF5YmFja01vZGUsXG4gICAgICAgIHZvbHVtZTogX21hc3RlclZvbHVtZSxcbiAgICAgICAgaXNQbGF5aW5nOiBfaXNQbGF5aW5nLFxuICAgICAgICBpc1BlcmZvcm1pbmdFZmZlY3Q6IF9pc1BlcmZvcm1pbmdFZmZlY3QsXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgZ2V0U3RhdGVTbmFwc2hvdEZvclBlcnNpc3RlbmNlKCkge1xuICAgICAgY29uc3QgcnVudGltZVF1ZXVlID0gXy5jbG9uZURlZXAoX2FjdGl2ZVBsYXlsaXN0UXVldWUpO1xuXG4gICAgICBjb25zdCBwZXJzaXN0ZW50UXVldWUgPSBydW50aW1lUXVldWUubWFwKGl0ZW0gPT4ge1xuICAgICAgICBjb25zdCBwZXJzaXN0ZWRJdGVtID0gXy5vbWl0KGl0ZW0sIFsncGxheWJhY2tQbGFuJywgJ3BsYW5JbmRleCcsICdwbGF5bGlzdENvbnRlbnQnXSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5wZXJzaXN0ZWRJdGVtLFxuICAgICAgICAgIC8vIOWwhiBTZXQg6L2s5o2i5Li6IEFycmF5IOS7peS+vyBKU09OIOW6j+WIl+WMllxuICAgICAgICAgIHBsYXllZEluZGljZXM6IEFycmF5LmZyb20oaXRlbS5wbGF5ZWRJbmRpY2VzKSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBhY3RpdmVfcXVldWU6IHBlcnNpc3RlbnRRdWV1ZSxcbiAgICAgICAgbW9kZTogX3BsYXliYWNrTW9kZSxcbiAgICAgICAgdm9sdW1lOiBfbWFzdGVyVm9sdW1lLFxuICAgICAgICAvLyBwcmV2aW91c012dVN0YXRlIOeUsSBNdnVNYW5hZ2VyIOWNleeLrOeuoeeQhu+8jOatpOWkhOS7hei/lOWbnuaguOW/g+eKtuaAgVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLy8gLS0tIOeUn+WRveWRqOacn+euoeeQhiAtLS1cbiAgICByZXNldFN0YXRlKCkge1xuICAgICAgbG9nUHJvYmUoJ1tTdGF0ZU1hbmFnZXJdIOato+WcqOehrOaAp+mHjee9ruaJgOacieeKtuaAgS4uLicsICd3YXJuJyk7XG4gICAgICBfYWN0aXZlUGxheWxpc3RRdWV1ZSA9IFtdO1xuICAgICAgX3BsYXliYWNrTW9kZSA9ICdsaXN0JztcbiAgICAgIF9tYXN0ZXJWb2x1bWUgPSAwLjU7XG4gICAgICBfaXNQbGF5aW5nID0gZmFsc2U7XG4gICAgICBfaXNQZXJmb3JtaW5nRWZmZWN0ID0gZmFsc2U7XG4gICAgfSxcblxuICAgIGxvYWRTdGF0ZShzdGF0ZVRvTG9hZDogYW55KSB7XG4gICAgICBsb2dQcm9iZSgnW1N0YXRlTWFuYWdlcl0g5q2j5Zyo5Yqg6L2954q25oCBLi4uJywgJ2dyb3VwJyk7XG4gICAgICBfcGxheWJhY2tNb2RlID0gc3RhdGVUb0xvYWQubW9kZTtcbiAgICAgIF9tYXN0ZXJWb2x1bWUgPSBzdGF0ZVRvTG9hZC52b2x1bWU7XG4gICAgICBfYWN0aXZlUGxheWxpc3RRdWV1ZSA9IHN0YXRlVG9Mb2FkLmFjdGl2ZV9xdWV1ZSB8fCBbXTtcbiAgICAgIGxvZ1Byb2JlKFxuICAgICAgICBg54q25oCB5Yqg6L295a6M5oiQLiDpmJ/liJfmt7HluqY6ICR7X2FjdGl2ZVBsYXlsaXN0UXVldWUubGVuZ3RofSwg5qih5byPOiAke19wbGF5YmFja01vZGV9LCDpn7Pph486ICR7X21hc3RlclZvbHVtZX1gLFxuICAgICAgKTtcbiAgICAgIGxvZ1Byb2JlKCcnLCAnZ3JvdXBFbmQnKTtcbiAgICB9LFxuXG4gICAgLy8gLS0tIOWfuuehgOeKtuaAgeiuvue9riAtLS1cbiAgICBzZXRQbGF5YmFja01vZGU6IChtb2RlOiBQbGF5YmFja01vZGUpID0+IHtcbiAgICAgIF9wbGF5YmFja01vZGUgPSBtb2RlO1xuICAgIH0sXG4gICAgc2V0Vm9sdW1lOiAodm9sdW1lOiBudW1iZXIpID0+IHtcbiAgICAgIF9tYXN0ZXJWb2x1bWUgPSB2b2x1bWU7XG4gICAgfSxcbiAgICBzZXRQbGF5aW5nOiAocGxheWluZzogYm9vbGVhbikgPT4ge1xuICAgICAgX2lzUGxheWluZyA9IHBsYXlpbmc7XG4gICAgfSxcbiAgICBzZXRQZXJmb3JtaW5nRWZmZWN0OiAoaXNQZXJmb3JtaW5nOiBib29sZWFuKSA9PiB7XG4gICAgICBfaXNQZXJmb3JtaW5nRWZmZWN0ID0gaXNQZXJmb3JtaW5nO1xuICAgIH0sXG5cbiAgICAvLyAtLS0gW+mHjeaehF0g6Zif5YiX5qC45b+D5pON5L2cIC0tLVxuICAgIC8qKlxuICAgICAqIFvmoLjlv4NdIOabtOaWsOaVtOS4qumYn+WIl+OAglxuICAgICAqIOatpOaWueazleS8muiHquWKqOaMieS8mOWFiOe6p+mZjeW6j+aOkuWIl+mYn+WIl++8jOehruS/nSBfYWN0aXZlUGxheWxpc3RRdWV1ZVswXSDmsLjov5zmmK/kvJjlhYjnuqfmnIDpq5jnmoTjgIJcbiAgICAgKi9cbiAgICB1cGRhdGVRdWV1ZShuZXdRdWV1ZTogUXVldWVJdGVtW10pIHtcbiAgICAgIGxvZ1Byb2JlKGBbU3RhdGVNYW5hZ2VyXSAoQ29tbWFuZCkgdXBkYXRlUXVldWU6IOato+WcqOabtOaWsOW5tumHjeaOkuW6j+mYn+WIlyAo5YWxICR7bmV3UXVldWUubGVuZ3RofSDpobkpLi4uYCk7XG5cbiAgICAgIF9hY3RpdmVQbGF5bGlzdFF1ZXVlID0gXy5jbG9uZURlZXAobmV3UXVldWUpLnNvcnQoKGEsIGIpID0+IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5KTtcblxuICAgICAgaWYgKF9hY3RpdmVQbGF5bGlzdFF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbG9nUHJvYmUoXG4gICAgICAgICAgYCjmjqLpkogpIOaWsOmYn+mmljogXCIke19hY3RpdmVQbGF5bGlzdFF1ZXVlWzBdLnBsYXlsaXN0SWR9XCIgKOS8mOWFiOe6pzogJHtfYWN0aXZlUGxheWxpc3RRdWV1ZVswXS5wcmlvcml0eX0pYCxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ1Byb2JlKGAo5o6i6ZKIKSDpmJ/liJfnjrDlt7LkuLrnqbrjgIJgKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gLS0tIOW9k+WJjemhueaTjeS9nCAo5L2c55So5LqO6Zif6aaWKSAtLS1cbiAgICBzZXRDdXJyZW50SW5kZXgoaW5kZXg6IG51bWJlcikge1xuICAgICAgY29uc3QgY3VycmVudEl0ZW0gPSBfYWN0aXZlUGxheWxpc3RRdWV1ZVswXTtcbiAgICAgIGlmIChjdXJyZW50SXRlbSkge1xuICAgICAgICBfYXBwbHlEZXBhcnR1cmVJc0hpc3RvcnlQcmluY2lwbGUoY3VycmVudEl0ZW0sIGN1cnJlbnRJdGVtLmN1cnJlbnRJbmRleCk7XG4gICAgICAgIGN1cnJlbnRJdGVtLmN1cnJlbnRJbmRleCA9IGluZGV4O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBjb21taXROYXZpZ2F0aW9uU3RlcChuZXdUcmFja0luZGV4OiBudW1iZXIpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRJdGVtID0gX2FjdGl2ZVBsYXlsaXN0UXVldWVbMF07XG4gICAgICBpZiAoIWN1cnJlbnRJdGVtKSByZXR1cm47XG5cbiAgICAgIF9hcHBseURlcGFydHVyZUlzSGlzdG9yeVByaW5jaXBsZShjdXJyZW50SXRlbSwgY3VycmVudEl0ZW0uY3VycmVudEluZGV4KTtcblxuICAgICAgaWYgKF9wbGF5YmFja01vZGUgPT09ICdyYW5kb20nICYmIGN1cnJlbnRJdGVtLnBsYXliYWNrUGxhbikge1xuICAgICAgICBjb25zdCBuZXdQbGFuSW5kZXggPSBjdXJyZW50SXRlbS5wbGF5YmFja1BsYW4uaW5kZXhPZihuZXdUcmFja0luZGV4KTtcbiAgICAgICAgaWYgKG5ld1BsYW5JbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICBjdXJyZW50SXRlbS5wbGFuSW5kZXggPSBuZXdQbGFuSW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN1cnJlbnRJdGVtLmN1cnJlbnRJbmRleCA9IG5ld1RyYWNrSW5kZXg7XG4gICAgfSxcblxuICAgIGNsZWFySGlzdG9yeUZvckN1cnJlbnRJdGVtKCkge1xuICAgICAgY29uc3QgY3VycmVudEl0ZW0gPSBfYWN0aXZlUGxheWxpc3RRdWV1ZVswXTtcbiAgICAgIGlmIChjdXJyZW50SXRlbSkgY3VycmVudEl0ZW0ucGxheWVkSW5kaWNlcy5jbGVhcigpO1xuICAgIH0sXG5cbiAgICByZXNldEN1cnJlbnRJdGVtRm9yTG9vcCgpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRJdGVtID0gX2FjdGl2ZVBsYXlsaXN0UXVldWVbMF07XG4gICAgICBpZiAoY3VycmVudEl0ZW0pIHtcbiAgICAgICAgY3VycmVudEl0ZW0ucGxheWVkSW5kaWNlcy5jbGVhcigpO1xuICAgICAgICBjdXJyZW50SXRlbS5jdXJyZW50SW5kZXggPSAwO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBjb21taXRHZW5lc2lzU3RhdGUobmV3Q3VycmVudEluZGV4OiBudW1iZXIsIG5ld1BsYXliYWNrUGxhbjogbnVtYmVyW10sIG5ld1BsYW5JbmRleDogbnVtYmVyKSB7XG4gICAgICBjb25zdCBjdXJyZW50SXRlbSA9IF9hY3RpdmVQbGF5bGlzdFF1ZXVlWzBdO1xuICAgICAgaWYgKGN1cnJlbnRJdGVtKSB7XG4gICAgICAgIGN1cnJlbnRJdGVtLmN1cnJlbnRJbmRleCA9IG5ld0N1cnJlbnRJbmRleDtcbiAgICAgICAgY3VycmVudEl0ZW0ucGxheWJhY2tQbGFuID0gbmV3UGxheWJhY2tQbGFuO1xuICAgICAgICBjdXJyZW50SXRlbS5wbGFuSW5kZXggPSBuZXdQbGFuSW5kZXg7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHVzZXJJbml0aWF0ZWRKdW1wKHRyYWNrSW5kZXg6IG51bWJlcikge1xuICAgICAgY29uc3QgY3VycmVudEl0ZW0gPSBfYWN0aXZlUGxheWxpc3RRdWV1ZVswXTtcbiAgICAgIGlmICghY3VycmVudEl0ZW0gfHwgdHJhY2tJbmRleCA9PT0gY3VycmVudEl0ZW0uY3VycmVudEluZGV4KSByZXR1cm47XG5cbiAgICAgIF9hcHBseURlcGFydHVyZUlzSGlzdG9yeVByaW5jaXBsZShjdXJyZW50SXRlbSwgY3VycmVudEl0ZW0uY3VycmVudEluZGV4KTtcbiAgICAgIGN1cnJlbnRJdGVtLmN1cnJlbnRJbmRleCA9IHRyYWNrSW5kZXg7XG5cbiAgICAgIGlmICh0aGlzLmdldFBsYXliYWNrTW9kZSgpID09PSAncmFuZG9tJyAmJiBjdXJyZW50SXRlbS5wbGF5YmFja1BsYW4pIHtcbiAgICAgICAgY29uc3QgbmV3UGxhbkluZGV4ID0gY3VycmVudEl0ZW0ucGxheWJhY2tQbGFuLmluZGV4T2YodHJhY2tJbmRleCk7XG4gICAgICAgIGlmIChuZXdQbGFuSW5kZXggIT09IC0xKSBjdXJyZW50SXRlbS5wbGFuSW5kZXggPSBuZXdQbGFuSW5kZXg7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGNsZWFyUmFuZG9tTW9kZVBsYW4oKSB7XG4gICAgICBjb25zdCBjdXJyZW50SXRlbSA9IF9hY3RpdmVQbGF5bGlzdFF1ZXVlWzBdO1xuICAgICAgaWYgKGN1cnJlbnRJdGVtKSB7XG4gICAgICAgIGN1cnJlbnRJdGVtLnBsYXliYWNrUGxhbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgY3VycmVudEl0ZW0ucGxhbkluZGV4ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBhcHBseU5ld1BsYXliYWNrUGxhbihwbGFuOiBudW1iZXJbXSwgcGxhbkluZGV4OiBudW1iZXIpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRJdGVtID0gX2FjdGl2ZVBsYXlsaXN0UXVldWVbMF07XG4gICAgICBpZiAoY3VycmVudEl0ZW0pIHtcbiAgICAgICAgY3VycmVudEl0ZW0ucGxheWJhY2tQbGFuID0gcGxhbjtcbiAgICAgICAgY3VycmVudEl0ZW0ucGxhbkluZGV4ID0gcGxhbkluZGV4O1xuICAgICAgfVxuICAgIH0sXG4gIH07XG5cbiAgbG9nUHJvYmUoJ1tTdGF0ZU1hbmFnZXJdIOaooeWdl+WIneWni+WMluWujOaIkCAoVjIuMCDlhoXmoLgp44CCJyk7XG4gIHJldHVybiBwdWJsaWNBUEk7XG59KSgpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gMi4xLiDmkq3mlL7lvJXmk44gKFRoZSBQbGF5YmFjayBFbmdpbmUpXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY29uc3QgUGxheWJhY2tFbmdpbmUgPSAoKCkgPT4ge1xuICBsb2dQcm9iZSgnW1BsYXliYWNrRW5naW5lXSDmqKHlnZfmraPlnKjliJ3lp4vljJYuLi4nKTtcbiAgbGV0IF9wbGF5ZXJBOiBIVE1MQXVkaW9FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBfcGxheWVyQjogSFRNTEF1ZGlvRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgX2FjdGl2ZVBsYXllcjogSFRNTEF1ZGlvRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgX3N0YW5kYnlQbGF5ZXI6IEhUTUxBdWRpb0VsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IF9mYWRlSW50ZXJ2YWw6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBjb25zdCBGQURFX0RVUkFUSU9OID0gNDAwO1xuXG4gIC8vIC0tLSDnp4HmnInlh73mlbAgLS0tXG4gIGZ1bmN0aW9uIF9zd2FwUGxheWVycygpIHtcbiAgICBbX2FjdGl2ZVBsYXllciwgX3N0YW5kYnlQbGF5ZXJdID0gW19zdGFuZGJ5UGxheWVyLCBfYWN0aXZlUGxheWVyXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9mYWRlVm9sdW1lQXN5bmMocGxheWVyOiBIVE1MQXVkaW9FbGVtZW50IHwgbnVsbCwgdGFyZ2V0Vm9sdW1lOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICBpZiAoX2ZhZGVJbnRlcnZhbCkge1xuICAgICAgICBjbGVhckludGVydmFsKF9mYWRlSW50ZXJ2YWwpO1xuICAgICAgICBfZmFkZUludGVydmFsID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFwbGF5ZXIpIHJldHVybiByZXNvbHZlKCk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0Vm9sdW1lID0gcGxheWVyLnZvbHVtZTtcbiAgICAgIGNvbnN0IHN0ZXBUaW1lID0gNTA7XG4gICAgICBjb25zdCBzdGVwcyA9IGR1cmF0aW9uIC8gc3RlcFRpbWU7XG4gICAgICBpZiAoc3RlcHMgPD0gMCkge1xuICAgICAgICBwbGF5ZXIudm9sdW1lID0gdGFyZ2V0Vm9sdW1lO1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgICAgY29uc3Qgdm9sdW1lU3RlcCA9ICh0YXJnZXRWb2x1bWUgLSBzdGFydFZvbHVtZSkgLyBzdGVwcztcbiAgICAgIGxldCBjdXJyZW50U3RlcCA9IDA7XG5cbiAgICAgIF9mYWRlSW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBjdXJyZW50U3RlcCsrO1xuICAgICAgICBpZiAoY3VycmVudFN0ZXAgPj0gc3RlcHMpIHtcbiAgICAgICAgICBpZiAoX2ZhZGVJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChfZmFkZUludGVydmFsKTtcbiAgICAgICAgICBfZmFkZUludGVydmFsID0gbnVsbDtcbiAgICAgICAgICBwbGF5ZXIudm9sdW1lID0gdGFyZ2V0Vm9sdW1lO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwbGF5ZXIudm9sdW1lICs9IHZvbHVtZVN0ZXA7XG4gICAgICAgIH1cbiAgICAgIH0sIHN0ZXBUaW1lKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIC0tLSDlhazlhbHmjqXlj6MgLS0tXG4gIGNvbnN0IHB1YmxpY0FQSSA9IHtcbiAgICBpbml0aWFsaXplKCkge1xuICAgICAgaWYgKF9wbGF5ZXJBICYmIF9wbGF5ZXJCKSByZXR1cm47XG4gICAgICBsb2dQcm9iZSgnW0VuZ2luZV0g5q2j5Zyo5Yib5bu65ZKM6YWN572uIEhUTUw1IEF1ZGlvIOWFg+e0oC4uLicpO1xuICAgICAgY29uc3QgY3JlYXRlUGxheWVyID0gKCk6IEhUTUxBdWRpb0VsZW1lbnQgPT4ge1xuICAgICAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbygpO1xuICAgICAgICBhdWRpby5wcmVsb2FkID0gJ2F1dG8nO1xuICAgICAgICBhdWRpby5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsICgpID0+IHtcbiAgICAgICAgICBpZiAoYXVkaW8gPT09IF9hY3RpdmVQbGF5ZXIpIHZvaWQgX2hhbmRsZVRyYWNrRW5kZWQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKCkgPT4ge1xuICAgICAgICAgIC8qIOmUmeivr+eUsSBQcm9taXNlIHJlamVjdCDlpITnkIYgKi9cbiAgICAgICAgfSk7XG4gICAgICAgIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCBicm9hZGNhc3RUaW1lVXBkYXRlKTtcbiAgICAgICAgcmV0dXJuIGF1ZGlvO1xuICAgICAgfTtcbiAgICAgIF9wbGF5ZXJBID0gY3JlYXRlUGxheWVyKCk7XG4gICAgICBfcGxheWVyQiA9IGNyZWF0ZVBsYXllcigpO1xuICAgICAgX2FjdGl2ZVBsYXllciA9IF9wbGF5ZXJBO1xuICAgICAgX3N0YW5kYnlQbGF5ZXIgPSBfcGxheWVyQjtcbiAgICAgIGxvZ1Byb2JlKCdbRW5naW5lXSBBdWRpbyDlhYPntKDlt7LlsLHnu6rjgIInKTtcbiAgICB9LFxuXG4gICAgZ2V0QWN0aXZlUGxheWVyOiAoKSA9PiBfYWN0aXZlUGxheWVyLFxuICAgIGdldFN0YW5kYnlQbGF5ZXI6ICgpID0+IF9zdGFuZGJ5UGxheWVyLFxuXG4gICAgYXN5bmMgdHJhbnNpdGlvblRvVHJhY2sodGFyZ2V0VHJhY2tVcmw6IHN0cmluZywgdGFyZ2V0Vm9sdW1lOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgIGxvZ1Byb2JlKGBbRW5naW5lXSDmlLbliLDov4fmuKHor7fmsYI6IFVSTD0ke3RhcmdldFRyYWNrVXJsLnNsaWNlKDAsIDUwKX0uLi5gLCAnZ3JvdXAnKTtcblxuICAgICAgaWYgKCFfc3RhbmRieVBsYXllciB8fCAhX2FjdGl2ZVBsYXllcikge1xuICAgICAgICBsb2dQcm9iZSgnW0VuZ2luZV0g6L+H5rih5Lit5q2i77ya5pKt5pS+5Zmo5a6e5L6L5bCa5pyq5Yid5aeL5YyW44CCJywgJ2Vycm9yJyk7XG4gICAgICAgIGxvZ1Byb2JlKCcnLCAnZ3JvdXBFbmQnKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfmkq3mlL7lmajlrp7kvovlsJrmnKrliJ3lp4vljJYnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3RhbmRieVBsYXllciA9IF9zdGFuZGJ5UGxheWVyO1xuICAgICAgY29uc3QgYWN0aXZlUGxheWVyID0gX2FjdGl2ZVBsYXllcjtcblxuICAgICAgc3RhbmRieVBsYXllci5zcmMgPSB0YXJnZXRUcmFja1VybDtcbiAgICAgIHN0YW5kYnlQbGF5ZXIubG9hZCgpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY29uc3Qgb25DYW5QbGF5ID0gKCkgPT4ge1xuICAgICAgICAgICAgc3RhbmRieVBsYXllci5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIG9uQ2FuUGxheSk7XG4gICAgICAgICAgICBzdGFuZGJ5UGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgICAgICAgICBsb2dQcm9iZSgnW0VuZ2luZV0g5aSH55So5pKt5pS+5Zmo5Yqg6L295oiQ5YqfIChjYW5wbGF5dGhyb3VnaCnjgIInLCAnbG9nJyk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGNvbnN0IG9uRXJyb3IgPSAoZTogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIHN0YW5kYnlQbGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBvbkNhblBsYXkpO1xuICAgICAgICAgICAgc3RhbmRieVBsYXllci5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uRXJyb3IpO1xuICAgICAgICAgICAgbG9nUHJvYmUoYFtFbmdpbmVdIOWkh+eUqOaSreaUvuWZqOWKoOi9veWksei0pSFgLCAnZXJyb3InKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxBdWRpb0VsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IHRhcmdldC5lcnJvcjtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYOmfs+mikeWKoOi9veWksei0pTogJHtlcnJvcj8ubWVzc2FnZSB8fCAn5pyq55+l6ZSZ6K+vJ31gKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBzdGFuZGJ5UGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgb25DYW5QbGF5KTtcbiAgICAgICAgICBzdGFuZGJ5UGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nUHJvYmUoJ1tFbmdpbmVdIOi/h+a4oeWboOWKoOi9veWksei0peiAjOS4reatouOAgicsICdncm91cEVuZCcpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cblxuICAgICAgYXdhaXQgX2ZhZGVWb2x1bWVBc3luYyhhY3RpdmVQbGF5ZXIsIDAsIDUwMCk7XG4gICAgICBhY3RpdmVQbGF5ZXIucGF1c2UoKTtcblxuICAgICAgX3N3YXBQbGF5ZXJzKCk7XG5cbiAgICAgIGNvbnN0IG5ld0FjdGl2ZVBsYXllciA9IHRoaXMuZ2V0QWN0aXZlUGxheWVyKCk7XG4gICAgICBpZiAoIW5ld0FjdGl2ZVBsYXllcikgdGhyb3cgbmV3IEVycm9yKCfmkq3mlL7lmajlrp7kvovlnKjkuqTmjaLlkI7kuKLlpLEnKTtcblxuICAgICAgY29uc3QgcGxheVByb21pc2UgPSBuZXdBY3RpdmVQbGF5ZXIucGxheSgpO1xuICAgICAgaWYgKHBsYXlQcm9taXNlKSB7XG4gICAgICAgIGF3YWl0IHBsYXlQcm9taXNlO1xuICAgICAgfVxuICAgICAgYXdhaXQgX2ZhZGVWb2x1bWVBc3luYyhuZXdBY3RpdmVQbGF5ZXIsIHRhcmdldFZvbHVtZSwgNTAwKTtcblxuICAgICAgbG9nUHJvYmUoJ1tFbmdpbmVdIOi/h+a4oeaIkOWKn+WujOaIkOOAgicsICdncm91cEVuZCcpO1xuICAgIH0sXG5cbiAgICBhc3luYyBmYWRlT3V0QW5kUGF1c2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICBsb2dQcm9iZSgnW0VuZ2luZV0g5ZG95LukOiBGYWRlT3V0QW5kUGF1c2UnKTtcbiAgICAgIGF3YWl0IF9mYWRlVm9sdW1lQXN5bmMoX2FjdGl2ZVBsYXllciwgMCwgRkFERV9EVVJBVElPTik7XG4gICAgICBfYWN0aXZlUGxheWVyPy5wYXVzZSgpO1xuICAgIH0sXG5cbiAgICBhc3luYyBleGVjdXRlSGFyZEN1dCh0YXJnZXRUcmFja1VybDogc3RyaW5nLCB0YXJnZXRWb2x1bWU6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgbG9nUHJvYmUoYFtFbmdpbmU6SGFyZEN1dF0g5pS25Yiw4oCc556s5Ye74oCd6K+35rGCOiBVUkw9JHt0YXJnZXRUcmFja1VybC5zbGljZSgwLCA1MCl9Li4uYCwgJ2dyb3VwJyk7XG4gICAgICBjb25zdCBhY3RpdmVQbGF5ZXIgPSB0aGlzLmdldEFjdGl2ZVBsYXllcigpO1xuICAgICAgaWYgKCFhY3RpdmVQbGF5ZXIpIHtcbiAgICAgICAgbG9nUHJvYmUoJ1tFbmdpbmU6SGFyZEN1dF0g6Ie05ZG96ZSZ6K+v77ya5peg5Y+v55So5pKt5pS+5Zmo5a6e5L6L44CCJywgJ2Vycm9yJyk7XG4gICAgICAgIGxvZ1Byb2JlKCcnLCAnZ3JvdXBFbmQnKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBhY3RpdmUgcGxheWVyIGF2YWlsYWJsZSBmb3IgaGFyZCBjdXQuJyk7XG4gICAgICB9XG5cbiAgICAgIGxvZ1Byb2JlKGAo5o6i6ZKIKSDliIfmjaLliY0gc3JjOiAke2FjdGl2ZVBsYXllci5zcmMuc2xpY2UoLTUwKX1gKTtcblxuICAgICAgYWN0aXZlUGxheWVyLnBhdXNlKCk7XG4gICAgICBhY3RpdmVQbGF5ZXIuc3JjID0gdGFyZ2V0VHJhY2tVcmw7XG4gICAgICBhY3RpdmVQbGF5ZXIudm9sdW1lID0gdGFyZ2V0Vm9sdW1lO1xuXG4gICAgICBsb2dQcm9iZShgKOaOoumSiCkg5YiH5o2i5ZCOIHNyYzogJHthY3RpdmVQbGF5ZXIuc3JjLnNsaWNlKC01MCl9YCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBsYXlQcm9taXNlID0gYWN0aXZlUGxheWVyLnBsYXkoKTtcbiAgICAgICAgaWYgKHBsYXlQcm9taXNlKSB7XG4gICAgICAgICAgYXdhaXQgcGxheVByb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICBTdGF0ZU1hbmFnZXIuc2V0UGxheWluZyh0cnVlKTtcbiAgICAgICAgbG9nUHJvYmUoJ1tFbmdpbmU6SGFyZEN1dF0g4oCc556s5Ye74oCd5pKt5pS+5oiQ5Yqf44CCJyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dQcm9iZShgW0VuZ2luZTpIYXJkQ3V0XSDigJznnqzlh7vigJ3mkq3mlL7lpLHotKUhIOi/memAmuW4uOaYr+WboOS4uueUqOaIt+acquS4jumhtemdouS6pOS6kuOAgmAsICdlcnJvcicpO1xuXG4gICAgICAgIFN0YXRlTWFuYWdlci5zZXRQbGF5aW5nKGZhbHNlKTtcblxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGxvZ1Byb2JlKCcnLCAnZ3JvdXBFbmQnKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYXN5bmMgcmVzdW1lQW5kRmFkZUluKHRhcmdldFZvbHVtZTogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICBsb2dQcm9iZSgnW0VuZ2luZV0g5ZG95LukOiBSZXN1bWVBbmRGYWRlSW4nKTtcbiAgICAgIGNvbnN0IHBsYXlQcm9taXNlID0gX2FjdGl2ZVBsYXllcj8ucGxheSgpO1xuICAgICAgaWYgKHBsYXlQcm9taXNlKSBhd2FpdCBwbGF5UHJvbWlzZTtcbiAgICAgIGF3YWl0IF9mYWRlVm9sdW1lQXN5bmMoX2FjdGl2ZVBsYXllciwgdGFyZ2V0Vm9sdW1lLCBGQURFX0RVUkFUSU9OKTtcbiAgICB9LFxuICB9O1xuXG4gIGxvZ1Byb2JlKCdbUGxheWJhY2tFbmdpbmVdIOaooeWdl+WIneWni+WMluWujOaIkOOAgicpO1xuICByZXR1cm4gcHVibGljQVBJO1xufSkoKTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIDIuMi4g5pKt5pS+562W55Wl5a6e546wIChQbGF5YmFjayBTdHJhdGVnaWVzKVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY2xhc3MgTGlzdFN0cmF0ZWd5IGltcGxlbWVudHMgSVBsYXliYWNrU3RyYXRlZ3kge1xuICBwdWJsaWMgb25RdWV1ZUNoYW5nZWQoX2N1cnJlbnRJdGVtOiBRdWV1ZUl0ZW0gfCB1bmRlZmluZWQpOiB2b2lkIHt9XG5cbiAgcHVibGljIGFkdmFuY2UoY3VycmVudEl0ZW06IFF1ZXVlSXRlbSwgZGlyZWN0aW9uOiAnbmV4dCcgfCAncHJldicpOiBTdHJhdGVneURlY2lzaW9uIHtcbiAgICBsb2dQcm9iZShcbiAgICAgIGBbU3RyYXRlZ3k6TGlzdF0g5pS25YiwIGFkdmFuY2Ug6K+35rGCLiDmlrnlkJE6ICR7ZGlyZWN0aW9ufSwg5b2T5YmNOiB7IHBsYXlsaXN0SWQ6IFwiJHtjdXJyZW50SXRlbS5wbGF5bGlzdElkfVwiLCBpbmRleDogJHtjdXJyZW50SXRlbS5jdXJyZW50SW5kZXh9LCBydWxlOiBcIiR7Y3VycmVudEl0ZW0ub25GaW5pc2hSdWxlfVwiIH1gLFxuICAgICk7XG5cbiAgICBpZiAoZGlyZWN0aW9uID09PSAnbmV4dCcpIHtcbiAgICAgIGxvZ1Byb2JlKCdbU3RyYXRlZ3k6TGlzdF0g5Yaz562WOiBhZHZhbmNlKG5leHQpIC0+IOWnlOaJmOe7mSBvblRyYWNrRW5kJyk7XG4gICAgICByZXR1cm4gdGhpcy5vblRyYWNrRW5kKGN1cnJlbnRJdGVtKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGN1cnJlbnRJbmRleCwgb25GaW5pc2hSdWxlLCBwbGF5bGlzdENvbnRlbnQgfSA9IGN1cnJlbnRJdGVtO1xuICAgIGNvbnN0IHRvdGFsVHJhY2tzID0gcGxheWxpc3RDb250ZW50Lmxlbmd0aDtcblxuICAgIGlmIChjdXJyZW50SW5kZXggPiAwKSB7XG4gICAgICBjb25zdCBuZXh0SW5kZXggPSBjdXJyZW50SW5kZXggLSAxO1xuICAgICAgbG9nUHJvYmUoYFtTdHJhdGVneTpMaXN0XSDlhrPnrZY6IGFkdmFuY2UocHJldikgLT4gR29UbyAoaW5kZXg6ICR7bmV4dEluZGV4fSlgKTtcbiAgICAgIHJldHVybiB7IGFjdGlvbjogJ0dvVG8nLCBuZXh0SW5kZXggfTtcbiAgICB9IGVsc2UgaWYgKG9uRmluaXNoUnVsZSA9PT0gJ2xvb3AnKSB7XG4gICAgICBjb25zdCBsYXN0SW5kZXggPSB0b3RhbFRyYWNrcyA+IDAgPyB0b3RhbFRyYWNrcyAtIDEgOiAwO1xuICAgICAgbG9nUHJvYmUoYFtTdHJhdGVneTpMaXN0XSDlhrPnrZY6IGFkdmFuY2UocHJldikgYXQgc3RhcnQgLT4gTG9vcCB0byBlbmQgKGluZGV4OiAke2xhc3RJbmRleH0pYCk7XG4gICAgICByZXR1cm4geyBhY3Rpb246ICdHb1RvJywgbmV4dEluZGV4OiBsYXN0SW5kZXggfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nUHJvYmUoJ1tTdHJhdGVneTpMaXN0XSDlhrPnrZY6IGFkdmFuY2UocHJldikgYXQgc3RhcnQgLT4gUmVzdGFydCcpO1xuICAgICAgcmV0dXJuIHsgYWN0aW9uOiAnUmVzdGFydCcgfTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgb25UcmFja0VuZChjdXJyZW50SXRlbTogUXVldWVJdGVtKTogU3RyYXRlZ3lEZWNpc2lvbiB7XG4gICAgbG9nUHJvYmUoXG4gICAgICBgW1N0cmF0ZWd5Okxpc3RdIOaUtuWIsCBvblRyYWNrRW5kIOivt+axgi4g5b2T5YmNOiB7IHBsYXlsaXN0SWQ6IFwiJHtjdXJyZW50SXRlbS5wbGF5bGlzdElkfVwiLCBpbmRleDogJHtjdXJyZW50SXRlbS5jdXJyZW50SW5kZXh9LCBydWxlOiBcIiR7Y3VycmVudEl0ZW0ub25GaW5pc2hSdWxlfVwiIH1gLFxuICAgICk7XG5cbiAgICBjb25zdCB7IGN1cnJlbnRJbmRleCwgb25GaW5pc2hSdWxlLCBwbGF5bGlzdENvbnRlbnQsIHBsYXllZEluZGljZXMgfSA9IGN1cnJlbnRJdGVtO1xuICAgIGNvbnN0IHRvdGFsVHJhY2tzID0gcGxheWxpc3RDb250ZW50Lmxlbmd0aDtcbiAgICBjb25zdCBuZXh0SW5kZXggPSBjdXJyZW50SW5kZXggKyAxO1xuXG4gICAgaWYgKG5leHRJbmRleCA8IHRvdGFsVHJhY2tzKSB7XG4gICAgICBsb2dQcm9iZShgW1N0cmF0ZWd5Okxpc3RdIOWGs+etljogb25UcmFja0VuZCAtPiBHb1RvIChpbmRleDogJHtuZXh0SW5kZXh9KWApO1xuICAgICAgcmV0dXJuIHsgYWN0aW9uOiAnR29UbycsIG5leHRJbmRleCB9O1xuICAgIH0gZWxzZSBpZiAob25GaW5pc2hSdWxlID09PSAncG9wJykge1xuICAgICAgbG9nUHJvYmUoJ1tTdHJhdGVneTpMaXN0XSDlhrPnrZY6IG9uVHJhY2tFbmQgYXQgZW5kIC0+IFBvcFN0YWNrJyk7XG4gICAgICByZXR1cm4geyBhY3Rpb246ICdSZW1vdmVUb3BBbmRBZHZhbmNlJyB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0b3RhbFZhbGlkVHJhY2tzID0gcGxheWxpc3RDb250ZW50Lmxlbmd0aDtcbiAgICAgIGNvbnN0IGhpc3RvcnlTaXplQWZ0ZXJUaGlzVHJhY2sgPSBwbGF5ZWRJbmRpY2VzLnNpemUgKyAxO1xuXG4gICAgICBpZiAoaGlzdG9yeVNpemVBZnRlclRoaXNUcmFjayA+PSB0b3RhbFZhbGlkVHJhY2tzKSB7XG4gICAgICAgIGxvZ1Byb2JlKGBbU3RyYXRlZ3k6TGlzdF0g5Yaz562WOiBvblRyYWNrRW5kIGF0IGVuZCAtPiBMb29wUmVzZXQgKOS4gOS4quWujOaVtOeahOW+queOr+W3sue7k+adnylgLCAnd2FybicpO1xuICAgICAgICByZXR1cm4geyBhY3Rpb246ICdMb29wUmVzZXQnIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dQcm9iZShgW1N0cmF0ZWd5Okxpc3RdIOWGs+etljogb25UcmFja0VuZCBhdCBlbmQgLT4gR29UbyAo5pmu6YCa5b6q546v77yM57un57ut5pKt5pS+5pyq5ZCs6L+H55qE5q2M5puyKWApO1xuICAgICAgICByZXR1cm4geyBhY3Rpb246ICdHb1RvJywgbmV4dEluZGV4OiAwIH07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG9uUGxheWJhY2tFcnJvcihjdXJyZW50SXRlbTogUXVldWVJdGVtKTogU3RyYXRlZ3lEZWNpc2lvbiB7XG4gICAgbG9nUHJvYmUoYFtTdHJhdGVneTpMaXN0XSDmlLbliLAgb25QbGF5YmFja0Vycm9yIOivt+axguOAguWGs+etljog5aeU5omY57uZIGFkdmFuY2UoJ25leHQnKWApO1xuICAgIHJldHVybiB0aGlzLmFkdmFuY2UoY3VycmVudEl0ZW0sICduZXh0Jyk7XG4gIH1cbn1cblxuLy8g55So6L+Z5q615Luj56CB5pu/5o2iXG5jbGFzcyBTaW5nbGVTdHJhdGVneSBpbXBsZW1lbnRzIElQbGF5YmFja1N0cmF0ZWd5IHtcbiAgcHVibGljIG9uUXVldWVDaGFuZ2VkKF9jdXJyZW50SXRlbTogUXVldWVJdGVtIHwgdW5kZWZpbmVkKTogdm9pZCB7fVxuXG4gIHB1YmxpYyBhZHZhbmNlKF9jdXJyZW50SXRlbTogUXVldWVJdGVtLCBkaXJlY3Rpb246ICduZXh0JyB8ICdwcmV2Jyk6IFN0cmF0ZWd5RGVjaXNpb24ge1xuICAgIGxvZ1Byb2JlKGBbU3RyYXRlZ3k6U2luZ2xlXSDmlLbliLAgYWR2YW5jZSDor7fmsYIuIOaWueWQkTogJHtkaXJlY3Rpb259LiDlhrPnrZY6IFJlc3RhcnRgKTtcbiAgICByZXR1cm4geyBhY3Rpb246ICdSZXN0YXJ0JyB9O1xuICB9XG5cbiAgcHVibGljIG9uVHJhY2tFbmQoX2N1cnJlbnRJdGVtOiBRdWV1ZUl0ZW0pOiBTdHJhdGVneURlY2lzaW9uIHtcbiAgICBsb2dQcm9iZShgW1N0cmF0ZWd5OlNpbmdsZV0g5pS25YiwIG9uVHJhY2tFbmQg6K+35rGCLiDlhrPnrZY6IFJlc3RhcnRgKTtcbiAgICByZXR1cm4geyBhY3Rpb246ICdSZXN0YXJ0JyB9O1xuICB9XG5cbiAgcHVibGljIG9uUGxheWJhY2tFcnJvcihfY3VycmVudEl0ZW06IFF1ZXVlSXRlbSk6IFN0cmF0ZWd5RGVjaXNpb24ge1xuICAgIGxvZ1Byb2JlKGBbU3RyYXRlZ3k6U2luZ2xlXSDmlLbliLAgb25QbGF5YmFja0Vycm9yIOivt+axguOAguWGs+etljogU3RvcCAo5Y2V5puy5b6q546v5LiL5peg5rOV6Ieq5Yqo5YmN6L+bKWApO1xuICAgIHJldHVybiB7IGFjdGlvbjogJ1N0b3AnIH07XG4gIH1cbn1cblxuY2xhc3MgUmFuZG9tU3RyYXRlZ3kgaW1wbGVtZW50cyBJUGxheWJhY2tTdHJhdGVneSB7XG4gIHByaXZhdGUgX2dlbmVyYXRlSW50ZWxsaWdlbnRTaHVmZmxlKFxuICAgIGFsbFRyYWNrSW5kaWNlczogbnVtYmVyW10sXG4gICAgcGxheWVkSW5kaWNlczogU2V0PG51bWJlcj4sXG4gICAgY3VycmVudEluZGV4OiBudW1iZXIsXG4gICk6IG51bWJlcltdIHtcbiAgICBsb2dQcm9iZShgW1N0cmF0ZWd5OlJhbmRvbV0gKEFsZ28pIF9nZW5lcmF0ZUludGVsbGlnZW50U2h1ZmZsZSDmiafooYwuLi5gLCAnZ3JvdXBDb2xsYXBzZWQnKTtcbiAgICBsb2dQcm9iZShcbiAgICAgIGDovpPlhaU6IGFsbEluZGljZXMubGVuZ3RoPSR7YWxsVHJhY2tJbmRpY2VzLmxlbmd0aH0sIHBsYXllZEluZGljZXMuc2l6ZT0ke3BsYXllZEluZGljZXMuc2l6ZX0sIGN1cnJlbnRJbmRleD0ke2N1cnJlbnRJbmRleH1gLFxuICAgICk7XG5cbiAgICBjb25zdCBzb3VyY2VGb3JTaHVmZmxlID0gYWxsVHJhY2tJbmRpY2VzLmZpbHRlcihpID0+ICFwbGF5ZWRJbmRpY2VzLmhhcyhpKSAmJiBpICE9PSBjdXJyZW50SW5kZXgpO1xuICAgIGxvZ1Byb2JlKGDorqHnrpflvoXpgInmsaAgKHNvdXJjZUZvclNodWZmbGUpIOWkp+WwjzogJHtzb3VyY2VGb3JTaHVmZmxlLmxlbmd0aH1gKTtcblxuICAgIGZvciAobGV0IGkgPSBzb3VyY2VGb3JTaHVmZmxlLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICAgIFtzb3VyY2VGb3JTaHVmZmxlW2ldLCBzb3VyY2VGb3JTaHVmZmxlW2pdXSA9IFtzb3VyY2VGb3JTaHVmZmxlW2pdLCBzb3VyY2VGb3JTaHVmZmxlW2ldXTtcbiAgICB9XG5cbiAgICBsb2dQcm9iZShg5rSX54mM5a6M5oiQLiDovpPlh7ogc2h1ZmZsZWRJbmRpY2VzICjnuq/nsrnnmoTmnKrmnaXpmJ/liJcpOiBbJHtzb3VyY2VGb3JTaHVmZmxlLmpvaW4oJywgJyl9XWApO1xuICAgIGxvZ1Byb2JlKCcnLCAnZ3JvdXBFbmQnKTtcbiAgICByZXR1cm4gc291cmNlRm9yU2h1ZmZsZTtcbiAgfVxuXG4gIHByaXZhdGUgX2dlbmVyYXRlUGxheWJhY2tQbGFuKFxuICAgIHBsYXllZEluZGljZXM6IFNldDxudW1iZXI+LFxuICAgIGN1cnJlbnRJbmRleDogbnVtYmVyLFxuICAgIHNodWZmbGVkSW5kaWNlczogbnVtYmVyW10sXG4gICk6IHsgcGxheWJhY2tQbGFuOiBudW1iZXJbXTsgcGxhbkluZGV4OiBudW1iZXIgfSB7XG4gICAgbG9nUHJvYmUoYFtTdHJhdGVneTpSYW5kb21dIChBbGdvKSBfZ2VuZXJhdGVQbGF5YmFja1BsYW4g5omn6KGMLi4uYCwgJ2dyb3VwQ29sbGFwc2VkJyk7XG4gICAgbG9nUHJvYmUoXG4gICAgICBg6L6T5YWlOiBwbGF5ZWRJbmRpY2VzLnNpemU9JHtwbGF5ZWRJbmRpY2VzLnNpemV9LCBjdXJyZW50SW5kZXg9JHtjdXJyZW50SW5kZXh9LCBzaHVmZmxlZEluZGljZXMubGVuZ3RoPSR7c2h1ZmZsZWRJbmRpY2VzLmxlbmd0aH1gLFxuICAgICk7XG5cbiAgICBjb25zdCBrbm93blNlcXVlbmNlID0gQXJyYXkuZnJvbShuZXcgU2V0KFsuLi5wbGF5ZWRJbmRpY2VzLCBjdXJyZW50SW5kZXhdKSk7XG4gICAgY29uc3QgcGxhbkluZGV4ID0ga25vd25TZXF1ZW5jZS5pbmRleE9mKGN1cnJlbnRJbmRleCk7XG4gICAgY29uc3QgcGxheWJhY2tQbGFuID0gWy4uLmtub3duU2VxdWVuY2UsIC4uLnNodWZmbGVkSW5kaWNlc107XG5cbiAgICBsb2dQcm9iZShgKOWuiOaKpOiAheaOoumSiCkgXCLlt7Lnn6Xluo/liJdcIiAodW5pcXVlIGhpc3RvcnkgKyBjdXJyZW50KTogWyR7a25vd25TZXF1ZW5jZS5qb2luKCcsICcpfV1gKTtcbiAgICBsb2dQcm9iZShg55Sf5oiQ5a+86Iiq5Zyw5Zu+IChwbGF5YmFja1BsYW4pOiBbJHtwbGF5YmFja1BsYW4uam9pbignLCAnKX1dYCk7XG4gICAgbG9nUHJvYmUoYOWumuS9jeWvvOiIquaMh+mSiCAocGxhbkluZGV4KTogJHtwbGFuSW5kZXh9YCk7XG4gICAgbG9nUHJvYmUoJycsICdncm91cEVuZCcpO1xuXG4gICAgcmV0dXJuIHsgcGxheWJhY2tQbGFuLCBwbGFuSW5kZXggfTtcbiAgfVxuXG4gIHByaXZhdGUgX2hhbmRsZVBsYW5FbmQoY3VycmVudEl0ZW06IFF1ZXVlSXRlbSk6IFN0cmF0ZWd5RGVjaXNpb24ge1xuICAgIGxvZ1Byb2JlKGBbU3RyYXRlZ3k6UmFuZG9tXSAoSGVscGVyKSBfaGFuZGxlUGxhbkVuZDog5bey5Yiw6L6+6K6h5YiS57uI54K577yM5byA5aeL6L+b6KGM6L6555WM5Yaz562WLi4uYCwgJ2dyb3VwQ29sbGFwc2VkJyk7XG4gICAgbG9nUHJvYmUoYCjmjqLpkogpIOW+heWGs+etluatjOWNlTogXCIke2N1cnJlbnRJdGVtLnBsYXlsaXN0SWR9XCIsIOe7k+adn+inhOWImTogXCIke2N1cnJlbnRJdGVtLm9uRmluaXNoUnVsZX1cImApO1xuXG4gICAgaWYgKGN1cnJlbnRJdGVtLm9uRmluaXNoUnVsZSA9PT0gJ3BvcCcpIHtcbiAgICAgIGxvZ1Byb2JlKGAo6L6555WM5Yaz562WKSBvbkZpbmlzaFJ1bGUg5Li6ICdwb3An77yM5Yaz562WIC0+IFBvcFN0YWNrYCk7XG4gICAgICBsb2dQcm9iZSgnJywgJ2dyb3VwRW5kJyk7XG4gICAgICByZXR1cm4geyBhY3Rpb246ICdSZW1vdmVUb3BBbmRBZHZhbmNlJyB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dQcm9iZShgKOi+ueeVjOWGs+etlikgb25GaW5pc2hSdWxlIOS4uiAnbG9vcCfvvIzlhrPnrZYgLT4gTG9vcFJlc2V0YCk7XG4gICAgICBsb2dQcm9iZSgnJywgJ2dyb3VwRW5kJyk7XG4gICAgICByZXR1cm4geyBhY3Rpb246ICdMb29wUmVzZXQnIH07XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG9uUXVldWVDaGFuZ2VkKGN1cnJlbnRJdGVtOiBRdWV1ZUl0ZW0gfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICBpZiAoIWN1cnJlbnRJdGVtKSB7XG4gICAgICBsb2dQcm9iZSgnW1N0cmF0ZWd5OlJhbmRvbV0gb25RdWV1ZUNoYW5nZWQg5Lit5q2i77ya5peg5pyJ5pWI55qE5b2T5YmN6aG544CCJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbG9nUHJvYmUoXG4gICAgICBgW1N0cmF0ZWd5OlJhbmRvbV0gb25RdWV1ZUNoYW5nZWQg5bey6Kem5Y+RICjov57nu63mgKfmgaLlpI0p77yM5bCG5Li65q2M5Y2VIFwiJHtjdXJyZW50SXRlbS5wbGF5bGlzdElkfVwiIOeUn+aIkOaSreaUvuiuoeWIki4uLmAsXG4gICAgKTtcblxuICAgIGNvbnN0IGFsbEluZGljZXMgPSBjdXJyZW50SXRlbS5wbGF5bGlzdENvbnRlbnQubWFwKChfLCBpKSA9PiBpKTtcbiAgICBjb25zdCBzaHVmZmxlZCA9IHRoaXMuX2dlbmVyYXRlSW50ZWxsaWdlbnRTaHVmZmxlKGFsbEluZGljZXMsIGN1cnJlbnRJdGVtLnBsYXllZEluZGljZXMsIGN1cnJlbnRJdGVtLmN1cnJlbnRJbmRleCk7XG4gICAgY29uc3QgeyBwbGF5YmFja1BsYW4sIHBsYW5JbmRleCB9ID0gdGhpcy5fZ2VuZXJhdGVQbGF5YmFja1BsYW4oXG4gICAgICBjdXJyZW50SXRlbS5wbGF5ZWRJbmRpY2VzLFxuICAgICAgY3VycmVudEl0ZW0uY3VycmVudEluZGV4LFxuICAgICAgc2h1ZmZsZWQsXG4gICAgKTtcblxuICAgIFN0YXRlTWFuYWdlci5hcHBseU5ld1BsYXliYWNrUGxhbihwbGF5YmFja1BsYW4sIHBsYW5JbmRleCk7XG4gIH1cblxuICBwdWJsaWMgcHJlcGFyZUdlbmVzaXMoY3VycmVudEl0ZW06IFF1ZXVlSXRlbSB8IHVuZGVmaW5lZCk6IHtcbiAgICBuZXdDdXJyZW50SW5kZXg6IG51bWJlcjtcbiAgICBuZXdQbGF5YmFja1BsYW46IG51bWJlcltdO1xuICAgIG5ld1BsYW5JbmRleDogbnVtYmVyO1xuICB9IHwgbnVsbCB7XG4gICAgaWYgKCFjdXJyZW50SXRlbSB8fCAhY3VycmVudEl0ZW0ucGxheWxpc3RDb250ZW50KSB7XG4gICAgICBsb2dQcm9iZSgnW1N0cmF0ZWd5OlJhbmRvbV0gcHJlcGFyZUdlbmVzaXMg5Lit5q2i77ya5Lyg5YWl55qE6Zif5YiX6aG55peg5pWI44CCJywgJ2Vycm9yJyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBsb2dQcm9iZSgnW1N0cmF0ZWd5OlJhbmRvbV0gKFF1ZXJ5KSBwcmVwYXJlR2VuZXNpczog5pS25Yiw4oCc5Yib5LiW5LmQ6LCx4oCd6LCx5YaZ6K+35rGCLi4uJywgJ2dyb3VwJyk7XG5cbiAgICBjb25zdCBhbGxJbmRpY2VzID0gY3VycmVudEl0ZW0ucGxheWxpc3RDb250ZW50Lm1hcCgoXywgaSkgPT4gaSk7XG4gICAgZm9yIChsZXQgaSA9IGFsbEluZGljZXMubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgICAgW2FsbEluZGljZXNbaV0sIGFsbEluZGljZXNbal1dID0gW2FsbEluZGljZXNbal0sIGFsbEluZGljZXNbaV1dO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld1BsYXliYWNrUGxhbiA9IGFsbEluZGljZXM7XG4gICAgY29uc3QgbmV3UGxhbkluZGV4ID0gMDtcbiAgICBjb25zdCBuZXdDdXJyZW50SW5kZXggPSBuZXdQbGF5YmFja1BsYW5bbmV3UGxhbkluZGV4XTtcblxuICAgIGxvZ1Byb2JlKGAo5LmQ6LCxKSDosLHlhpnlrozmiJDjgIJOZXcgQ3VycmVudEluZGV4OiAke25ld0N1cnJlbnRJbmRleH0sIE5ldyBQbGFuSW5kZXg6ICR7bmV3UGxhbkluZGV4fWApO1xuICAgIGxvZ1Byb2JlKCcnLCAnZ3JvdXBFbmQnKTtcblxuICAgIHJldHVybiB7IG5ld0N1cnJlbnRJbmRleCwgbmV3UGxheWJhY2tQbGFuLCBuZXdQbGFuSW5kZXggfTtcbiAgfVxuXG4gIHB1YmxpYyBhZHZhbmNlKGN1cnJlbnRJdGVtOiBRdWV1ZUl0ZW0sIGRpcmVjdGlvbjogJ25leHQnIHwgJ3ByZXYnKTogU3RyYXRlZ3lEZWNpc2lvbiB7XG4gICAgbG9nUHJvYmUoYFtTdHJhdGVneTpSYW5kb21dIOaUtuWIsCBhZHZhbmNlIOivt+axgi4g5pa55ZCROiAke2RpcmVjdGlvbn1gLCAnZ3JvdXBDb2xsYXBzZWQnKTtcblxuICAgIGNvbnN0IHsgcGxheWJhY2tQbGFuLCBwbGFuSW5kZXggfSA9IGN1cnJlbnRJdGVtO1xuXG4gICAgaWYgKCFwbGF5YmFja1BsYW4gfHwgcGxhbkluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxvZ1Byb2JlKCdbU3RyYXRlZ3k6UmFuZG9tXSDlhrPnrZbkuK3mraLvvJrlr7zoiKrorqHliJIgKHBsYXliYWNrUGxhbikg5bCa5pyq5Yid5aeL5YyW44CCJywgJ2Vycm9yJyk7XG4gICAgICBsb2dQcm9iZSgnJywgJ2dyb3VwRW5kJyk7XG4gICAgICByZXR1cm4geyBhY3Rpb246ICdEb05vdGhpbmcnIH07XG4gICAgfVxuXG4gICAgbG9nUHJvYmUoYCjmjqLpkogpIOW9k+WJjeWvvOiIquaMh+mSiCAocGxhbkluZGV4KTogJHtwbGFuSW5kZXh9YCk7XG4gICAgbG9nUHJvYmUoYCjmjqLpkogpIOWvvOiIquWcsOWbviAocGxheWJhY2tQbGFuKTogWyR7cGxheWJhY2tQbGFuLmpvaW4oJywgJyl9XWApO1xuXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gJ25leHQnKSB7XG4gICAgICBjb25zdCBuZXh0UGxhbkluZGV4ID0gcGxhbkluZGV4ICsgMTtcblxuICAgICAgaWYgKG5leHRQbGFuSW5kZXggPCBwbGF5YmFja1BsYW4ubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldFRyYWNrSW5kZXggPSBwbGF5YmFja1BsYW5bbmV4dFBsYW5JbmRleF07XG4gICAgICAgIGxvZ1Byb2JlKFxuICAgICAgICAgIGBbU3RyYXRlZ3k6UmFuZG9tXSDlhrPnrZY6IGFkdmFuY2UobmV4dCkgLT4gR29UbyAo5pawIHBsYW5JbmRleDogJHtuZXh0UGxhbkluZGV4fSwg55uu5qCHIHRyYWNrSW5kZXg6ICR7dGFyZ2V0VHJhY2tJbmRleH0pYCxcbiAgICAgICAgKTtcbiAgICAgICAgbG9nUHJvYmUoJycsICdncm91cEVuZCcpO1xuICAgICAgICByZXR1cm4geyBhY3Rpb246ICdHb1RvJywgbmV4dEluZGV4OiB0YXJnZXRUcmFja0luZGV4IH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dQcm9iZSgnW1N0cmF0ZWd5OlJhbmRvbV0gYWR2YW5jZShuZXh0KSDlt7LliLDovr7orqHliJLnu4jngrnvvIzlp5TmiZjnu5kgX2hhbmRsZVBsYW5FbmQuLi4nKTtcbiAgICAgICAgbG9nUHJvYmUoJycsICdncm91cEVuZCcpO1xuICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlUGxhbkVuZChjdXJyZW50SXRlbSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRpcmVjdGlvbiA9PT0gJ3ByZXYnXG4gICAgICBjb25zdCBwcmV2UGxhbkluZGV4ID0gcGxhbkluZGV4IC0gMTtcblxuICAgICAgaWYgKHByZXZQbGFuSW5kZXggPj0gMCkge1xuICAgICAgICBjb25zdCB0YXJnZXRUcmFja0luZGV4ID0gcGxheWJhY2tQbGFuW3ByZXZQbGFuSW5kZXhdO1xuICAgICAgICBsb2dQcm9iZShcbiAgICAgICAgICBgW1N0cmF0ZWd5OlJhbmRvbV0g5Yaz562WOiBhZHZhbmNlKHByZXYpIC0+IEdvVG8gKOaWsCBwbGFuSW5kZXg6ICR7cHJldlBsYW5JbmRleH0sIOebruaghyB0cmFja0luZGV4OiAke3RhcmdldFRyYWNrSW5kZXh9KWAsXG4gICAgICAgICk7XG4gICAgICAgIGxvZ1Byb2JlKCcnLCAnZ3JvdXBFbmQnKTtcbiAgICAgICAgcmV0dXJuIHsgYWN0aW9uOiAnR29UbycsIG5leHRJbmRleDogdGFyZ2V0VHJhY2tJbmRleCB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nUHJvYmUoYFtTdHJhdGVneTpSYW5kb21dIOWGs+etljogYWR2YW5jZShwcmV2KSDlt7LlnKjorqHliJLotbfngrnjgILov5Tlm54gRG9Ob3RoaW5n44CCYCk7XG4gICAgICAgIGxvZ1Byb2JlKCcnLCAnZ3JvdXBFbmQnKTtcbiAgICAgICAgcmV0dXJuIHsgYWN0aW9uOiAnRG9Ob3RoaW5nJyB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBvblRyYWNrRW5kKGN1cnJlbnRJdGVtOiBRdWV1ZUl0ZW0pOiBTdHJhdGVneURlY2lzaW9uIHtcbiAgICBsb2dQcm9iZShgW1N0cmF0ZWd5OlJhbmRvbV0g5pS25YiwIG9uVHJhY2tFbmQg6K+35rGCLmAsICdncm91cENvbGxhcHNlZCcpO1xuXG4gICAgY29uc3QgeyBwbGF5YmFja1BsYW4sIHBsYW5JbmRleCB9ID0gY3VycmVudEl0ZW07XG5cbiAgICBpZiAoIXBsYXliYWNrUGxhbiB8fCBwbGFuSW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgbG9nUHJvYmUoJ1tTdHJhdGVneTpSYW5kb21dIOWGs+etluS4reatou+8muWvvOiIquiuoeWIkiAocGxheWJhY2tQbGFuKSDlsJrmnKrliJ3lp4vljJbjgILov5Tlm54gU3RvcCDku6XnrZblronlhajjgIInLCAnZXJyb3InKTtcbiAgICAgIGxvZ1Byb2JlKCcnLCAnZ3JvdXBFbmQnKTtcbiAgICAgIHJldHVybiB7IGFjdGlvbjogJ1N0b3AnIH07XG4gICAgfVxuXG4gICAgbG9nUHJvYmUoYCjmjqLpkogpIOW9k+WJjeWvvOiIquaMh+mSiCAocGxhbkluZGV4KTogJHtwbGFuSW5kZXh9YCk7XG4gICAgbG9nUHJvYmUoYCjmjqLpkogpIOWvvOiIquWcsOWbviAocGxheWJhY2tQbGFuKTogWyR7cGxheWJhY2tQbGFuLmpvaW4oJywgJyl9XWApO1xuXG4gICAgY29uc3QgbmV4dFBsYW5JbmRleCA9IHBsYW5JbmRleCArIDE7XG5cbiAgICBpZiAobmV4dFBsYW5JbmRleCA8IHBsYXliYWNrUGxhbi5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHRhcmdldFRyYWNrSW5kZXggPSBwbGF5YmFja1BsYW5bbmV4dFBsYW5JbmRleF07XG4gICAgICBsb2dQcm9iZShcbiAgICAgICAgYFtTdHJhdGVneTpSYW5kb21dIOWGs+etljogb25UcmFja0VuZCAtPiBHb1RvICjmlrAgcGxhbkluZGV4OiAke25leHRQbGFuSW5kZXh9LCDnm67moIcgdHJhY2tJbmRleDogJHt0YXJnZXRUcmFja0luZGV4fSlgLFxuICAgICAgKTtcbiAgICAgIGxvZ1Byb2JlKCcnLCAnZ3JvdXBFbmQnKTtcbiAgICAgIHJldHVybiB7IGFjdGlvbjogJ0dvVG8nLCBuZXh0SW5kZXg6IHRhcmdldFRyYWNrSW5kZXggfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nUHJvYmUoJ1tTdHJhdGVneTpSYW5kb21dIG9uVHJhY2tFbmQg5bey5Yiw6L6+6K6h5YiS57uI54K577yM5aeU5omY57uZIF9oYW5kbGVQbGFuRW5kLi4uJyk7XG4gICAgICBsb2dQcm9iZSgnJywgJ2dyb3VwRW5kJyk7XG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlUGxhbkVuZChjdXJyZW50SXRlbSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG9uUGxheWJhY2tFcnJvcihjdXJyZW50SXRlbTogUXVldWVJdGVtKTogU3RyYXRlZ3lEZWNpc2lvbiB7XG4gICAgbG9nUHJvYmUoYFtTdHJhdGVneTpSYW5kb21dIOaUtuWIsCBvblBsYXliYWNrRXJyb3Ig6K+35rGC44CC5Yaz562WOiDlp5TmiZjnu5kgYWR2YW5jZSgnbmV4dCcpYCk7XG4gICAgcmV0dXJuIHRoaXMuYWR2YW5jZShjdXJyZW50SXRlbSwgJ25leHQnKTtcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gMi4zLiDnrZbnlaXnrqHnkIblmaggKFRoZSBTdHJhdGVneU1hbmFnZXIgLSBcIlRoZSBDb25kdWN0b3JcIilcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jb25zdCBTdHJhdGVneU1hbmFnZXIgPSAoKCkgPT4ge1xuICBsb2dQcm9iZSgnW1N0cmF0ZWd5TWFuYWdlcl0g5qih5Z2X5q2j5Zyo5Yid5aeL5YyWLi4uJyk7XG5cbiAgY29uc3QgX3N0cmF0ZWdpZXM6IFJlY29yZDxQbGF5YmFja01vZGUsIElQbGF5YmFja1N0cmF0ZWd5PiA9IHtcbiAgICBsaXN0OiBuZXcgTGlzdFN0cmF0ZWd5KCksXG4gICAgc2luZ2xlOiBuZXcgU2luZ2xlU3RyYXRlZ3koKSxcbiAgICByYW5kb206IG5ldyBSYW5kb21TdHJhdGVneSgpLFxuICB9O1xuICBsZXQgX2N1cnJlbnRTdHJhdGVneTogSVBsYXliYWNrU3RyYXRlZ3kgPSBfc3RyYXRlZ2llcy5saXN0O1xuXG4gIGNvbnN0IHB1YmxpY0FQSSA9IHtcbiAgICAvKipcbiAgICAgKiBb5ZG95LukXSDorr7nva7mlrDnmoTmkq3mlL7mqKHlvI/vvIzlubboh6rliqjliIfmjaLliLDlr7nlupTnmoTnrZbnlaXlrp7kvovjgIJcbiAgICAgKi9cbiAgICBzZXRNb2RlKG1vZGU6IFBsYXliYWNrTW9kZSkge1xuICAgICAgbG9nUHJvYmUoYFtTdHJhdGVneU1hbmFnZXJdIChDb21tYW5kKSBzZXRNb2RlOiDliIfmjaLnrZbnlaXmqKHlvI/kuLogLT4gJHttb2RlfWApO1xuICAgICAgX2N1cnJlbnRTdHJhdGVneSA9IF9zdHJhdGVnaWVzW21vZGVdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBb5p+l6K+iXSDojrflj5blvZPliY3mv4DmtLvnmoTnrZbnlaXlrp7kvovjgILov5nmmK/miJHku6zpgbXlvqpDUVPljp/liJnnmoTkvZPnjrDjgIJcbiAgICAgKi9cbiAgICBnZXRDdXJyZW50U3RyYXRlZ3k6ICgpID0+IF9jdXJyZW50U3RyYXRlZ3ksXG5cbiAgICAvKipcbiAgICAgKiBb5ZG95LukXSDpgJrnn6XlvZPliY3nrZbnlaXvvJrmoLjlv4PnirbmgIHvvIjlpoLpmJ/liJfvvInlt7Llj5HnlJ/ph43lpKflj5jljJbjgIJcbiAgICAgKiDov5nmmK/kv67lpI1CVUfnmoTmoLjlv4PvvIzlroPkuLrnrZbnlaXmj5DkvpvkuobkuIDkuKrnu5/kuIDnmoTnlJ/lkb3lkajmnJ/pkqnlrZDjgIJcbiAgICAgKi9cblxuICAgIG5vdGlmeVF1ZXVlQ2hhbmdlZCgpIHtcbiAgICAgIGxvZ1Byb2JlKFxuICAgICAgICBgW1N0cmF0ZWd5TWFuYWdlcl0gKENvbW1hbmQpIG5vdGlmeVF1ZXVlQ2hhbmdlZDog5q2j5Zyo6YCa55+l5b2T5YmN562W55WlICgke19jdXJyZW50U3RyYXRlZ3kuY29uc3RydWN0b3IubmFtZX0pIOmYn+WIl+W3suWPmOabtC4uLmAsXG4gICAgICAgICdncm91cENvbGxhcHNlZCcsXG4gICAgICApO1xuICAgICAgY29uc3QgY3VycmVudEl0ZW0gPSBTdGF0ZU1hbmFnZXIuZ2V0VG9wUXVldWVJdGVtKCk7XG4gICAgICBfY3VycmVudFN0cmF0ZWd5Lm9uUXVldWVDaGFuZ2VkKGN1cnJlbnRJdGVtKTtcbiAgICAgIGxvZ1Byb2JlKCdbU3RyYXRlZ3lNYW5hZ2VyXSDpgJrnn6XlrozmiJDjgIInLCAnZ3JvdXBFbmQnKTtcbiAgICB9LFxuICB9O1xuXG4gIGxvZ1Byb2JlKCdbU3RyYXRlZ3lNYW5hZ2VyXSDmqKHlnZfliJ3lp4vljJblrozmiJDjgIInKTtcbiAgcmV0dXJuIHB1YmxpY0FQSTtcbn0pKCk7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAzLiDlhajlsYDlj5jph4/kuI7luLjph48gKEdsb2JhbCBWYXJpYWJsZXMgJiBDb25zdGFudHMpXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBTVEFURV9LRVkgPSAn5L2Z54Os5Y+M5pifX+aSreaUvuWZqOeKtuaAgSc7XG5cbmxldCBpc0luaXRpYWxpemVkRm9yVGhpc0NoYXQgPSBmYWxzZTtcbmxldCBpc1JlY29uY2lsaW5nID0gZmFsc2U7XG5sZXQgX2luaXRpYWxpemF0aW9uUHJvbWlzZUNvbnRyb2xzOiB7IHJlc29sdmU6ICgpID0+IHZvaWQ7IHJlamVjdDogKHJlYXNvbj86IGFueSkgPT4gdm9pZCB9IHwgbnVsbCA9IG51bGw7XG5cbmxldCBfaW5pdGlhbGl6YXRpb25Qcm9taXNlOiBQcm9taXNlPHZvaWQ+IHwgbnVsbCA9IG51bGw7XG5sZXQgaXNTY3JpcHRBY3RpdmUgPSB0cnVlO1xubGV0IGFsbFBsYXlsaXN0czogUmVjb3JkPHN0cmluZywgUGxheWxpc3RDb25maWc+ID0ge307XG5sZXQgdHJpZ2dlcnM6IHouaW5mZXI8dHlwZW9mIFpvZFRyaWdnZXJDb25maWc+W10gPSBbXTtcbmxldCBkZWZhdWx0UGxheWxpc3RJZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gJyc7XG5cbmxldCBpc012dUludGVncmF0aW9uQWN0aXZlID0gZmFsc2U7XG5sZXQgaXNDb3JlUGxheWVySW5pdGlhbGl6ZWQgPSBmYWxzZTtcbmxldCBfY3VycmVudENoYXRJZDogc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbmNvbnN0IGZ1bGxTdGF0ZVVwZGF0ZUNhbGxiYWNrczogKChwYXlsb2FkOiBGdWxsU3RhdGVQYXlsb2FkKSA9PiB2b2lkKVtdID0gW107XG5jb25zdCB0aW1lVXBkYXRlQ2FsbGJhY2tzOiAoKHBheWxvYWQ6IFRpbWVVcGRhdGVQYXlsb2FkKSA9PiB2b2lkKVtdID0gW107XG5cbi8qKlxuICogW1Y5LjAg57uf5LiA5qCh5YeG5a6YXSDmlrDmnrbmnoTnmoTigJzov5DooYzml7blpKfohJHigJ3jgIJcbiAqIOWug+eahOWNleS4gOiBjOi0o+aYr++8muWTjeW6lOKAnOi/kOihjOaXtuKAneeahOWinumHj+S6i+S7tu+8jOmAmui/h+KAnOi+ueayv+ajgOa1i+KAneaooeWei++8jFxuICog57K+56Gu5Zyw44CB5pyA5bCP5YyW5Zyw5L+u5pS55b2T5YmN6Zif5YiX77yM5bm25Yaz562W5piv5ZCm6ZyA6KaB5Y+Y5pu05pKt5pS+44CCXG4gKiBAcGFyYW0gZXZlbnRQYXlsb2FkIC0g5Y+v6YCJ55qE44CB5p2l6IeqIE1WVSDkuovku7bnmoTmnIDmlrDnirbmgIHmlbDmja7jgIJcbiAqL1xuYXN5bmMgZnVuY3Rpb24gX3JlY29uY2lsZVBsYXlsaXN0UXVldWUoZXZlbnRQYXlsb2FkPzogYW55LCBvcHRpb25zPzogeyB0cmFuc2l0aW9uRWZmZWN0PzogJ2hhcmQnIHwgJ3Ntb290aCcgfSkge1xuICAvLyAtLS0gMS4g44CQ5YmN572u5qOA5p+l44CROiDpmLLmraLlubblj5HnmoTkuovku7bpo47mmrQgLS0tXG4gIGlmIChpc1JlY29uY2lsaW5nKSB7XG4gICAgbG9nUHJvYmUoJ1tSZWNvbmNpbGVyXSDor7fmsYLooqvlkIjlubbvvJrliY3kuIDkuKrmoKHlh4bku7vliqHku43lnKjov5vooYzkuK3jgIInLCAnd2FybicpO1xuICAgIHJldHVybjtcbiAgfVxuICBpc1JlY29uY2lsaW5nID0gdHJ1ZTtcbiAgbG9nUHJvYmUoJz09PSBbUmVjb25jaWxlcl0g4oCc57uf5LiA5qCh5YeG5a6Y4oCd5bey5o6l566h6L+Q6KGM5pe25LqL5Lu2ID09PScsICdncm91cCcpO1xuXG4gIHRyeSB7XG4gICAgU3RhdGVNYW5hZ2VyLnNldFBlcmZvcm1pbmdFZmZlY3QodHJ1ZSk7XG4gICAgbG9nUHJvYmUoJ1tSZWNvbmNpbGVyXSAo5LqL5YqhKSDlt7LkuIrmlYjmnpzplIHlubblub/mkq3igJzov4fmuKHkuK3igJ3nirbmgIHvvIxVSeW6lOi/m+WFpeetieW+heOAgicpO1xuICAgIGJyb2FkY2FzdEZ1bGxTdGF0ZSgpO1xuXG4gICAgLy8gLS0tIOaguOW/g+mAu+i+kSAo5Y6f5pyJ55qEIHRyeS4uLmZpbmFsbHkg5Z2XKSAtLS1cbiAgICB0cnkge1xuICAgICAgY29uc3Qgb2xkVG9wSXRlbSA9IFN0YXRlTWFuYWdlci5nZXRUb3BRdWV1ZUl0ZW0oKTtcblxuICAgICAgLy8gLS0tIDIuIOOAkOiOt+WPluS6i+WunuOAkTog6YG15b6q4oCc5pe25bqP5oKW6K664oCd5a6a5b6LIC0tLVxuICAgICAgY29uc3QgY3VycmVudFN0YXRlRGF0YSA9IGV2ZW50UGF5bG9hZD8uc3RhdF9kYXRhXG4gICAgICAgID8gZXZlbnRQYXlsb2FkLnN0YXRfZGF0YVxuICAgICAgICA6ICgoYXdhaXQgX2ZpbmRMYXRlc3RBdXRob3JpdGF0aXZlTXZ1U3RhdGUoKSk/Lm12dURhdGE/LnN0YXRfZGF0YSA/PyB7fSk7XG5cbiAgICAgIGxvZ1Byb2JlKGBbUmVjb25jaWxlcl0gKOaOoumSiCkg5bey56Gu5a6a5pys5qyh5qCh5YeG55qE5p2D5aiBIE1WVSDnirbmgIEgKOadpea6kDogJHtldmVudFBheWxvYWQgPyAn5LqL5Lu26L296I23JyA6ICfkuLvliqjmn6Xor6InfSnjgIJgKTtcblxuICAgICAgLy8gLS0tIDMuIOOAkOeUn+aIkOaKpeWRiuOAkTog5aeU5omYIE12dU1hbmFnZXIg6L+b6KGM6L655rK/5qOA5rWLIC0tLVxuICAgICAgY29uc3QgcHJldmlvdXNTdGF0ZURhdGEgPSBNdnVNYW5hZ2VyLmdldFByZXZpb3VzU3RhdGUoKTtcbiAgICAgIGNvbnN0IGNoYW5nZVJlcG9ydCA9IE12dU1hbmFnZXIuY2FsY3VsYXRlQ2hhbmdlUmVwb3J0KHByZXZpb3VzU3RhdGVEYXRhLCBjdXJyZW50U3RhdGVEYXRhLCB0cmlnZ2Vycyk7XG5cbiAgICAgIC8vIC0tLSA0LiDjgJDmiafooYzpmJ/liJfnmoTlop7ph4/kv67mlLnjgJE6IOWFiOWHj+WQjuWKoCAtLS1cbiAgICAgIGNvbnN0IG5ld1F1ZXVlID0gU3RhdGVNYW5hZ2VyLmdldFF1ZXVlKCk7XG5cbiAgICAgIGlmIChjaGFuZ2VSZXBvcnQubmV3bHlJbmFjdGl2ZVRyaWdnZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgXy5yZW1vdmUobmV3UXVldWUsIGl0ZW0gPT5cbiAgICAgICAgICBjaGFuZ2VSZXBvcnQubmV3bHlJbmFjdGl2ZVRyaWdnZXJzLnNvbWUoaW5hY3RpdmVUcmlnZ2VyID0+XG4gICAgICAgICAgICBhcmVUcmlnZ2Vyc0Z1bmN0aW9uYWxseUVxdWFsKGl0ZW0udHJpZ2dlclNvdXJjZSwgaW5hY3RpdmVUcmlnZ2VyKSxcbiAgICAgICAgICApLFxuICAgICAgICApO1xuICAgICAgICBsb2dQcm9iZShgW1JlY29uY2lsZXJdICjkv67mlLkpIOagueaNruaKpeWRiuenu+mZpOS6hiAke2NoYW5nZVJlcG9ydC5uZXdseUluYWN0aXZlVHJpZ2dlcnMubGVuZ3RofSDkuKrlpLHmlYjpobnjgIJgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoYW5nZVJlcG9ydC5uZXdseUFjdGl2ZVRyaWdnZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBhY3RpdmVUcmlnZ2VyIG9mIGNoYW5nZVJlcG9ydC5uZXdseUFjdGl2ZVRyaWdnZXJzKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbmV3UXVldWUuc29tZShpdGVtID0+IGl0ZW0udHJpZ2dlclNvdXJjZSAmJiBhcmVUcmlnZ2Vyc0Z1bmN0aW9uYWxseUVxdWFsKGl0ZW0udHJpZ2dlclNvdXJjZSwgYWN0aXZlVHJpZ2dlcikpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBsb2dQcm9iZShgW1JlY29uY2lsZXJdICjpmLLlvqEpIOaLkue7nea3u+WKoOmHjeWkjeeahOa/gOa0u+mhuTogXCIke2FjdGl2ZVRyaWdnZXIucGxheWxpc3RfaWR9XCJgLCAnd2FybicpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG5ld0l0ZW0gPSBjcmVhdGVRdWV1ZUl0ZW0oe1xuICAgICAgICAgICAgdHlwZTogJ212dScsXG4gICAgICAgICAgICBwbGF5bGlzdElkOiBhY3RpdmVUcmlnZ2VyLnBsYXlsaXN0X2lkLFxuICAgICAgICAgICAgdHJpZ2dlcjogYWN0aXZlVHJpZ2dlcixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAobmV3SXRlbSkge1xuICAgICAgICAgICAgbmV3UXVldWUucHVzaChuZXdJdGVtKTtcbiAgICAgICAgICAgIGxvZ1Byb2JlKGBbUmVjb25jaWxlcl0gKOS/ruaUuSkg5qC55o2u5oql5ZGK5re75Yqg5LqG5paw5r+A5rS76aG5OiBcIiR7bmV3SXRlbS5wbGF5bGlzdElkfVwiYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIFN0YXRlTWFuYWdlci51cGRhdGVRdWV1ZShuZXdRdWV1ZSk7XG5cbiAgICAgIC8vIC0tLSA1LiDjgJDlhrPnrZbkuI7miafooYzjgJE6IOWvueavlOaWsOaXp+mYn+mmliAtLS1cbiAgICAgIGNvbnN0IG5ld1RvcEl0ZW0gPSBTdGF0ZU1hbmFnZXIuZ2V0VG9wUXVldWVJdGVtKCk7XG5cbiAgICAgIGlmIChuZXdUb3BJdGVtPy5wbGF5bGlzdElkICE9PSBvbGRUb3BJdGVtPy5wbGF5bGlzdElkKSB7XG4gICAgICAgIGxvZ1Byb2JlKFxuICAgICAgICAgIGBbUmVjb25jaWxlcl0gKOWGs+etlikg6Zif6aaW5Y+R55Sf5Y+Y5pu077yBIOS7jiBcIiR7b2xkVG9wSXRlbT8ucGxheWxpc3RJZCA/PyAn5pegJ31cIiDlj5jkuLogXCIke25ld1RvcEl0ZW0/LnBsYXlsaXN0SWQgPz8gJ+aXoCd9XCLjgIJgLFxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChuZXdUb3BJdGVtKSB7XG4gICAgICAgICAgbG9nUHJvYmUoJ1tSZWNvbmNpbGVyXSAo5o+h5omLKSDmraPlnKjpgJrnn6UgU3RyYXRlZ3lNYW5hZ2VyIOmYn+WIl+W3suWPmOabtC4uLicpO1xuICAgICAgICAgIFN0cmF0ZWd5TWFuYWdlci5ub3RpZnlRdWV1ZUNoYW5nZWQoKTtcblxuICAgICAgICAgIG5ld1RvcEl0ZW0ud2FzRXZlclBsYXllZCA9IHRydWU7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0SW5kZXggPSBuZXdUb3BJdGVtLndhc0V2ZXJQbGF5ZWQgPyBuZXdUb3BJdGVtLmN1cnJlbnRJbmRleCA6IDA7XG5cbiAgICAgICAgICBpZiAoU3RhdGVNYW5hZ2VyLmlzUGxheWluZygpKSB7XG4gICAgICAgICAgICBsb2dQcm9iZSgnW1JlY29uY2lsZXJdICjmlYjmnpwpIOeUqOaIt+ato+WcqOaSreaUvu+8jOWwhuaJp+ihjOi/h+a4oeaViOaenC4uLicpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnM/LnRyYW5zaXRpb25FZmZlY3QgPT09ICdoYXJkJykge1xuICAgICAgICAgICAgICBhd2FpdCBQbGF5YmFja0VuZ2luZS5leGVjdXRlSGFyZEN1dChcbiAgICAgICAgICAgICAgICBuZXdUb3BJdGVtLnBsYXlsaXN0Q29udGVudFt0YXJnZXRJbmRleF0udXJsLFxuICAgICAgICAgICAgICAgIFN0YXRlTWFuYWdlci5nZXRWb2x1bWUoKSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGF3YWl0IF9leGVjdXRlVHJhbnNpdGlvbih0YXJnZXRJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ1Byb2JlKCdbUmVjb25jaWxlcl0gKOaViOaenCkg55So5oi35bey5pqC5YGc77yM5LuF5Zyo5ZCO5Y+w6Z2Z6buY5pu05paw6L2o6YGT77yM5LiN5pKt5pS+44CCJyk7XG4gICAgICAgICAgICBjb25zdCB0cmFjayA9IG5ld1RvcEl0ZW0ucGxheWxpc3RDb250ZW50W3RhcmdldEluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVBsYXllciA9IFBsYXliYWNrRW5naW5lLmdldEFjdGl2ZVBsYXllcigpO1xuICAgICAgICAgICAgaWYgKHRyYWNrICYmIGFjdGl2ZVBsYXllcikge1xuICAgICAgICAgICAgICBhY3RpdmVQbGF5ZXIuc3JjID0gdHJhY2sudXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nUHJvYmUoJ1tSZWNvbmNpbGVyXSAo5Yaz562WKSDpmJ/pppbmnKrlj5HnlJ/lj5jmm7TvvIzkv53mjIHlvZPliY3mkq3mlL7nqLPlrprjgIInKTtcbiAgICAgIH1cblxuICAgICAgLy8gLS0tIDYuIOOAkOabtOaWsOiusOW/huOAkTog5Li65LiL5LiA5qyh6L655rK/5qOA5rWL5YGa5YeG5aSHIC0tLVxuICAgICAgYXdhaXQgTXZ1TWFuYWdlci5wZXJzaXN0Q3VycmVudFN0YXRlKGN1cnJlbnRTdGF0ZURhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dQcm9iZShgW1JlY29uY2lsZXJdIOaguOW/g+mAu+i+keaJp+ihjOacn+mXtOWPkeeUn+S4pemHjemUmeivrzogJHtlcnJvcn1gLCAnZXJyb3InKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBhd2FpdCB3cml0ZVN0YXRlKCdyZWNvbmNpbGlhdGlvbicpO1xuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICBpc1JlY29uY2lsaW5nID0gZmFsc2U7XG4gICAgYXdhaXQgX3JlbGVhc2VFZmZlY3RMb2NrKCk7XG4gICAgbG9nUHJvYmUoJz09PSBbUmVjb25jaWxlcl0g4oCc57uf5LiA5qCh5YeG5a6Y4oCd5Lu75Yqh5a6M5oiQICjplIHlt7LpgJrov4fosIPluqblmajph4rmlL4pID09PScsICdncm91cEVuZCcpO1xuICB9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyA0LiDmoLjlv4Plt6XlhbfkuI7lub/mkq3ns7vnu58gKENvcmUgVXRpbGl0aWVzICYgQnJvYWRjYXN0IFN5c3RlbSlcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGJyb2FkY2FzdEZ1bGxTdGF0ZSgpIHtcbiAgY29uc3QgY3VycmVudEl0ZW0gPSBTdGF0ZU1hbmFnZXIuZ2V0VG9wUXVldWVJdGVtKCk7XG4gIGNvbnN0IGN1cnJlbnRQbGF5bGlzdCA9IGN1cnJlbnRJdGVtPy5wbGF5bGlzdENvbnRlbnQgPz8gW107XG4gIGNvbnN0IGN1cnJlbnRJbmRleCA9IGN1cnJlbnRJdGVtPy5jdXJyZW50SW5kZXggPz8gMDtcblxuICBjb25zdCBwYXlsb2FkOiBGdWxsU3RhdGVQYXlsb2FkID0ge1xuICAgIGN1cnJlbnRJdGVtOiBjdXJyZW50UGxheWxpc3RbY3VycmVudEluZGV4XVxuICAgICAgPyB7XG4gICAgICAgICAgdGl0bGU6IGN1cnJlbnRQbGF5bGlzdFtjdXJyZW50SW5kZXhdLuatjOWQjSxcbiAgICAgICAgICBhcnRpc3Q6IGN1cnJlbnRQbGF5bGlzdFtjdXJyZW50SW5kZXhdLuatjOaJiyxcbiAgICAgICAgICBjb3ZlcjogY3VycmVudFBsYXlsaXN0W2N1cnJlbnRJbmRleF0u5bCB6Z2iLFxuICAgICAgICB9XG4gICAgICA6IG51bGwsXG4gICAgaXNQbGF5aW5nOiBTdGF0ZU1hbmFnZXIuaXNQbGF5aW5nKCksXG4gICAgcGxheWJhY2tNb2RlOiBTdGF0ZU1hbmFnZXIuZ2V0UGxheWJhY2tNb2RlKCksXG4gICAgbWFzdGVyVm9sdW1lOiBTdGF0ZU1hbmFnZXIuZ2V0Vm9sdW1lKCksXG4gICAgcGxheWxpc3Q6IGN1cnJlbnRQbGF5bGlzdC5tYXAoaXRlbSA9PiAoeyB0aXRsZTogaXRlbS7mrYzlkI0sIGFydGlzdDogaXRlbS7mrYzmiYssIGNvdmVyOiBpdGVtLuWwgemdoiB9KSksXG4gICAgaXNUcmFuc2l0aW9uaW5nOiBTdGF0ZU1hbmFnZXIuaXNQZXJmb3JtaW5nRWZmZWN0KCksXG4gIH07XG4gIGxvZ1Byb2JlKFxuICAgIGBbQnJvYWRjYXN0XSDmraPlnKjlub/mkq3lrozmlbTnirbmgIEuLi4gaXNQbGF5aW5nOiAke3BheWxvYWQuaXNQbGF5aW5nfSwgbW9kZTogJHtwYXlsb2FkLnBsYXliYWNrTW9kZX0sIGN1cnJlbnRJdGVtOiAke3BheWxvYWQuY3VycmVudEl0ZW0/LnRpdGxlID8/ICfml6AnfWAsXG4gICAgJ2dyb3VwQ29sbGFwc2VkJyxcbiAgKTtcbiAgbG9nUHJvYmUoYOivpue7hjogaXNUcmFuc2l0aW9uaW5nPSR7cGF5bG9hZC5pc1RyYW5zaXRpb25pbmd9YCk7XG4gIGxvZ1Byb2JlKCcnLCAnZ3JvdXBFbmQnKTtcblxuICBmdWxsU3RhdGVVcGRhdGVDYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNhbGxiYWNrKHBheWxvYWQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1vpn7PkuZDohJrmnKxdIOWujOaVtOeKtuaAgeWbnuiwg+aJp+ihjOWHuumUmTonLCBlKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBicm9hZGNhc3RUaW1lVXBkYXRlKCkge1xuICBjb25zdCBhY3RpdmVQbGF5ZXIgPSBQbGF5YmFja0VuZ2luZS5nZXRBY3RpdmVQbGF5ZXIoKTtcbiAgaWYgKCFTdGF0ZU1hbmFnZXIuaXNQbGF5aW5nKCkgfHwgIWFjdGl2ZVBsYXllcikgcmV0dXJuO1xuICBjb25zdCBwYXlsb2FkOiBUaW1lVXBkYXRlUGF5bG9hZCA9IHtcbiAgICBjdXJyZW50VGltZTogYWN0aXZlUGxheWVyLmN1cnJlbnRUaW1lLFxuICAgIGR1cmF0aW9uOiBhY3RpdmVQbGF5ZXIuZHVyYXRpb24gfHwgMCxcbiAgfTtcbiAgdGltZVVwZGF0ZUNhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHBheWxvYWQpKTtcbn1cblxuZnVuY3Rpb24gcHJlcGFyZU5leHRUcmFjaygpIHtcbiAgY29uc3QgY3VycmVudEl0ZW0gPSBTdGF0ZU1hbmFnZXIuZ2V0VG9wUXVldWVJdGVtKCk7XG4gIGNvbnN0IHN0YW5kYnlQbGF5ZXIgPSBQbGF5YmFja0VuZ2luZS5nZXRTdGFuZGJ5UGxheWVyKCk7XG4gIGlmICghc3RhbmRieVBsYXllciB8fCAhY3VycmVudEl0ZW0pIHJldHVybjtcbiAgY29uc3QgbmV4dEluZGV4ID0gY3VycmVudEl0ZW0uY3VycmVudEluZGV4ICsgMTtcbiAgaWYgKG5leHRJbmRleCA8IGN1cnJlbnRJdGVtLnBsYXlsaXN0Q29udGVudC5sZW5ndGgpIHtcbiAgICBjb25zdCBuZXh0VHJhY2sgPSBjdXJyZW50SXRlbS5wbGF5bGlzdENvbnRlbnRbbmV4dEluZGV4XTtcbiAgICBpZiAobmV4dFRyYWNrICYmIHN0YW5kYnlQbGF5ZXIuc3JjICE9PSBuZXh0VHJhY2sudXJsKSB7XG4gICAgICBzdGFuZGJ5UGxheWVyLnNyYyA9IG5leHRUcmFjay51cmw7XG4gICAgICBzdGFuZGJ5UGxheWVyLmxvYWQoKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIDUuIOeKtuaAgeeuoeeQhiAoU3RhdGUgTWFuYWdlbWVudClcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIHJlYWRTdGF0ZSgpIHtcbiAgbG9nUHJvYmUoJ1tTdGF0ZVJlYWRlcl0g5q2j5Zyo5bCd6K+V5LuO6YWS6aaG5Y+Y6YeP6K+75Y+W5oyB5LmF5YyW54q25oCBLi4uJyk7XG4gIGNvbnN0IHNhdmVkRGF0YSA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KVtTVEFURV9LRVldO1xuXG4gIGlmICghc2F2ZWREYXRhIHx8IHR5cGVvZiBzYXZlZERhdGEgIT09ICdvYmplY3QnKSB7XG4gICAgbG9nUHJvYmUoJ1tTdGF0ZVJlYWRlcl0g5pyq5Y+R546w5pyJ5pWI5a2Y5qGj44CCJyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsb2dQcm9iZSgnW1N0YXRlUmVhZGVyXSDlj5HnjrDljp/lp4vnirbmgIHmlbDmja7vvIzmraPlnKjmj5DkuqTnu5kgWm9kIOi/m+ihjOWuieWFqOmqjOivgS4uLicpO1xuICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gWm9kUGVyc2lzdGVkU3RhdGUuc2FmZVBhcnNlKHNhdmVkRGF0YSk7XG5cbiAgaWYgKHZhbGlkYXRpb25SZXN1bHQuc3VjY2Vzcykge1xuICAgIGxvZ1Byb2JlKCdbU3RhdGVSZWFkZXJdIFpvZCDpqozor4HmiJDlip/vvIznirbmgIHmlbDmja7lronlhajjgIInKTtcbiAgICByZXR1cm4gdmFsaWRhdGlvblJlc3VsdC5kYXRhO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2FybignW1N0YXRlUmVhZGVyXSDmjIHkuYXljJbnirbmgIHpqozor4HlpLHotKU6JywgdmFsaWRhdGlvblJlc3VsdC5lcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gd3JpdGVTdGF0ZShzb3VyY2U6IHN0cmluZykge1xuICBpZiAoIWlzU2NyaXB0QWN0aXZlKSB7XG4gICAgbG9nUHJvYmUoYFtTdGF0ZV0g5YaZ5YWl5pON5L2c6KKr6Zi75q2i77yM5Zug5Li66ISa5pys5q2j5Zyo5YGc5py644CCKOadpea6kDogJHtzb3VyY2V9KWAsICd3YXJuJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRyeSB7XG4gICAgbG9nUHJvYmUoYFtTdGF0ZV0g55SxIFwiJHtzb3VyY2V9XCIg6Kem5Y+R54q25oCB5YaZ5YWlLi4uYCk7XG4gICAgY29uc3QgZGF0YVRvU2F2ZSA9IFN0YXRlTWFuYWdlci5nZXRTdGF0ZVNuYXBzaG90Rm9yUGVyc2lzdGVuY2UoKTtcblxuICAgIGF3YWl0IHVwZGF0ZVZhcmlhYmxlc1dpdGgoXG4gICAgICB2YXJzID0+IHtcbiAgICAgICAgdmFyc1tTVEFURV9LRVldID0gZGF0YVRvU2F2ZTtcbiAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgICB9LFxuICAgICAgeyB0eXBlOiAnY2hhdCcgfSxcbiAgICApO1xuXG4gICAgbG9nUHJvYmUoYFtTdGF0ZV0g54q25oCB5bey5oiQ5Yqf5YaZ5YWl6YWS6aaG5Y+Y6YePYCk7XG4gIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgIGxvZ1Byb2JlKGBbU3RhdGVdIOWGmeWFpeeKtuaAgeaXtuWPkeeUn+S4pemHjemUmeivrzogJHtlfWAsICdlcnJvcicpO1xuICB9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyA2LiDkuJbnlYzkuabphY3nva7op6PmnpDkuI7pmJ/liJfmk43kvZwgKFdvcmxkYm9vayBQYXJzaW5nICYgU3RhY2sgT3BlcmF0aW9ucylcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOagvOW8j+WMliBab2Qg6aqM6K+B6ZSZ6K+v77yM5Lul5L6/5ZyoIHRvYXN0ciDkuK3kuLrop5LoibLljaHkvZzogIXmmL7npLrmuIXmmbDjgIHlj6/mk43kvZznmoTlj43ppojjgIJcbiAqL1xuZnVuY3Rpb24gX2Zvcm1hdFpvZEVycm9yRm9yVG9hc3RyKGVycm9yOiBab2RFcnJvcik6IHZvaWQge1xuICBjb25zdCBpc3N1ZSA9IGVycm9yLmlzc3Vlc1swXTtcbiAgY29uc3QgcGF0aCA9IGlzc3VlLnBhdGguam9pbignIC0+ICcpO1xuICBjb25zdCBtZXNzYWdlID0gaXNzdWUubWVzc2FnZTtcblxuICBjb25zdCB0b2FzdHJUaXRsZSA9IGBbTXVzaWNDb25maWddIOWGheWuuemUmeivr2A7XG4gIGNvbnN0IHRvYXN0ck1lc3NhZ2UgPSBg6Lev5b6EOiAke3BhdGh9IHwg6Zeu6aKYOiAke21lc3NhZ2V9YDtcblxuICBjb25zdCBmdWxsTG9nTWVzc2FnZSA9IGBbTXVzaWNDb25maWddIOWGheWuuemUmeivrzpcXG7ot6/lvoQ6ICR7cGF0aH1cXG7pl67popg6ICR7bWVzc2FnZX1gO1xuICBsb2dQcm9iZShgW1pvZFZhbGlkYXRvcl0g5LiW55WM5Lmm6YWN572u6aqM6K+B5aSx6LSlOiAke2Z1bGxMb2dNZXNzYWdlfWAsICdlcnJvcicpO1xuXG4gIHRvYXN0ci5lcnJvcih0b2FzdHJNZXNzYWdlLCB0b2FzdHJUaXRsZSwgeyB0aW1lT3V0OiAxNTAwMCB9KTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIOaguOW/g+eul+azlSBWOS41IChDb3JlIEFsZ29yaXRobXMgZm9yIFwiQ29uY2VydG9cIilcbi8vIOWOn+WImTog6L+Z5Lqb5Ye95pWw6YO95b+F6aG75piv57qv57K555qE5p+l6K+iIChDUVMp77yM5Lil56aB5Lqn55Sf5Lu75L2V5Ymv5L2c55So44CCXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFvmoLjlv4Pnrpfms5VdIOWIpOaWreS4pOS4quinpuWPkeWZqOWvueixoeaYr+WQpuS7o+ihqOWQjOS4gOS4quKAnOWKn+iDvei6q+S7veKAneOAglxuICogQHBhcmFtIGEgLSDnrKzkuIDkuKrop6blj5Hlmajlr7nosaHjgIJcbiAqIEBwYXJhbSBiIC0g56ys5LqM5Liq6Kem5Y+R5Zmo5a+56LGh44CCXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0g5aaC5p6c5Yqf6IO95LiK55u4562J77yM5YiZ6L+U5ZueIHRydWXjgIJcbiAqL1xuZnVuY3Rpb24gYXJlVHJpZ2dlcnNGdW5jdGlvbmFsbHlFcXVhbChcbiAgYTogei5pbmZlcjx0eXBlb2YgWm9kVHJpZ2dlckNvbmZpZz4gfCB1bmRlZmluZWQsXG4gIGI6IHouaW5mZXI8dHlwZW9mIFpvZFRyaWdnZXJDb25maWc+IHwgdW5kZWZpbmVkLFxuKTogYm9vbGVhbiB7XG4gIGlmICghYSB8fCAhYikgcmV0dXJuIGEgPT09IGI7XG5cbiAgaWYgKGEucGxheWxpc3RfaWQgIT09IGIucGxheWxpc3RfaWQpIHJldHVybiBmYWxzZTtcblxuICB0eXBlIENvbmRpdGlvbktleSA9IGtleW9mIHouaW5mZXI8dHlwZW9mIFpvZFNpbmdsZUNvbmRpdGlvbj47XG5cbiAgY29uc3QgZ2V0Q2Fub25pY2FsU3RyaW5nID0gKGNvbmRpdGlvbjogei5pbmZlcjx0eXBlb2YgWm9kU2luZ2xlQ29uZGl0aW9uPik6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIChPYmplY3Qua2V5cyhjb25kaXRpb24pIGFzIENvbmRpdGlvbktleVtdKVxuICAgICAgLnNvcnQoKVxuICAgICAgLm1hcChrZXkgPT4gYCR7a2V5fToke1N0cmluZyhjb25kaXRpb25ba2V5XSl9YCkgLy8g5L2/55SoIFN0cmluZygpIOadpeehruS/neaJgOacieWAvOmDveiDveiiq+ato+ehruWkhOeQhlxuICAgICAgLmpvaW4oJywnKTtcbiAgfTtcblxuICBjb25zdCBjb25kaXRpb25zQSA9IGEuY29uZGl0aW9ucy5tYXAoZ2V0Q2Fub25pY2FsU3RyaW5nKS5zb3J0KCk7XG4gIGNvbnN0IGNvbmRpdGlvbnNCID0gYi5jb25kaXRpb25zLm1hcChnZXRDYW5vbmljYWxTdHJpbmcpLnNvcnQoKTtcblxuICByZXR1cm4gY29uZGl0aW9uc0EubGVuZ3RoID09PSBjb25kaXRpb25zQi5sZW5ndGggJiYgY29uZGl0aW9uc0EuZXZlcnkoKHZhbCwgaW5kZXgpID0+IHZhbCA9PT0gY29uZGl0aW9uc0JbaW5kZXhdKTtcbn1cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gW1Y5Ljcg5qC45b+D5by65YyWXSDmn6Xmib7mnYPlqIFNVlXnirbmgIHjgILnjrDlnKjog73lpJ/or4bliKvigJzliJvkuJbigJ3lkozigJzov5DooYzml7bigJ3kuKTnp43mlbDmja7nu5PmnoTjgIJcbiAqIEBwYXJhbSBjb250ZXh0IC0g5Y+v6YCJ55qE5LiK5LiL5paH77yM55So5LqO5oyH5a+85p+l5om+5pa55byP44CCXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx7IG12dURhdGE6IGFueSwgbWVzc2FnZUlkOiBudW1iZXIgfSB8IG51bGw+fSDmnYPlqIHnirbmgIHmiJYgbnVsbOOAglxuICovXG5hc3luYyBmdW5jdGlvbiBfZmluZExhdGVzdEF1dGhvcml0YXRpdmVNdnVTdGF0ZShjb250ZXh0Pzoge1xuICBtZXNzYWdlSWQ6IG51bWJlcjtcbiAgc3dpcGVJZDogbnVtYmVyO1xufSk6IFByb21pc2U8eyBtdnVEYXRhOiBhbnk7IG1lc3NhZ2VJZDogbnVtYmVyIH0gfCBudWxsPiB7XG4gIC8vIC0tLSDmqKHlvI/kuIA6IOeyvuehruWItuWvvCAo6YCa5bi455So5LqO5byA5Zy655m9KSAtLS1cbiAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5tZXNzYWdlSWQgPT09IDAgJiYgdHlwZW9mIGNvbnRleHQuc3dpcGVJZCA9PT0gJ251bWJlcicpIHtcbiAgICBsb2dQcm9iZShcbiAgICAgIGBbU3RhdGVGaW5kZXJdICjnsr7noa7liLblr7zmqKHlvI8pIOebruaghzogbWVzc2FnZV9pZD0ke2NvbnRleHQubWVzc2FnZUlkfSwgc3dpcGVfaWQ9JHtjb250ZXh0LnN3aXBlSWR9YCxcbiAgICAgICdncm91cENvbGxhcHNlZCcsXG4gICAgKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbXZ1RGF0YUNvbnRhaW5lcjogYW55ID0gYXdhaXQgTXZ1LmdldE12dURhdGEoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6IDAgfSk7XG5cbiAgICAgIGNvbnN0IHN3aXBlU3BlY2lmaWNEYXRhID0gbXZ1RGF0YUNvbnRhaW5lcj8uc3dpcGVzX2RhdGE/Lltjb250ZXh0LnN3aXBlSWRdO1xuXG4gICAgICBpZiAoc3dpcGVTcGVjaWZpY0RhdGE/LnN0YXRfZGF0YSkge1xuICAgICAgICAvLyDmiJDlip/lnKggXCLliJvkuJZcIiDnu5PmnoTkuK3mib7liLDnibnlrpogc3dpcGUg55qE5pWw5o2uXG4gICAgICAgIGxvZ1Byb2JlKCdbU3RhdGVGaW5kZXJdICjmjqLpkogpIOajgOa1i+WIsOKAnOWIm+S4luKAnee7k+aehCAoc3dpcGVzX2RhdGEp77yM5oiQ5Yqf5ZG95Lit77yBJyk7XG4gICAgICAgIGxvZ1Byb2JlKCcnLCAnZ3JvdXBFbmQnKTtcbiAgICAgICAgcmV0dXJuIHsgbXZ1RGF0YTogc3dpcGVTcGVjaWZpY0RhdGEsIG1lc3NhZ2VJZDogMCB9O1xuICAgICAgfSBlbHNlIGlmIChtdnVEYXRhQ29udGFpbmVyPy5zdGF0X2RhdGEpIHtcbiAgICAgICAgLy8g5Zyo6aG25bGC5om+5Yiw5LqGIFwi6L+Q6KGM5pe2XCIg57uT5p6E55qE5pWw5o2uICjlj6/og73lj6rmnInkuIDkuKrlvIDlnLrnmb0pXG4gICAgICAgIGxvZ1Byb2JlKCdbU3RhdGVGaW5kZXJdICjmjqLpkogpIOajgOa1i+WIsOKAnOi/kOihjOaXtuKAnee7k+aehCAo6aG25bGCIHN0YXRfZGF0YSnvvIznm7TmjqXph4fnlKjjgIInKTtcbiAgICAgICAgbG9nUHJvYmUoJycsICdncm91cEVuZCcpO1xuICAgICAgICByZXR1cm4geyBtdnVEYXRhOiBtdnVEYXRhQ29udGFpbmVyLCBtZXNzYWdlSWQ6IDAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ1Byb2JlKCdbU3RhdGVGaW5kZXJdICjnsr7noa7liLblr7zmqKHlvI8pIOafpeaJvuWksei0pe+8muWcqOS4pOenjeW3suefpee7k+aehOS4reWdh+acquaJvuWIsCBzdGF0X2RhdGHjgIInLCAnd2FybicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dQcm9iZShgW1N0YXRlRmluZGVyXSAo57K+56Gu5Yi25a+85qih5byPKSDmn6Xor6Lml7blh7rplJk6ICR7ZXJyb3J9YCwgJ2Vycm9yJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGxvZ1Byb2JlKCcnLCAnZ3JvdXBFbmQnKTtcbiAgICB9XG4gIH1cblxuICAvLyAtLS0g5qih5byP5LqMOiDlm57muq/miavmj48gKOaJvuS4jeWIsOeyvuehruebruagh+aXtueahOagh+WHhua1geeoiykgLS0tXG4gIGxvZ1Byb2JlKCdbU3RhdGVGaW5kZXJdICjlm57muq/miavmj4/mqKHlvI8pIOW8gOWni+aJp+ihjC4uLicsICdncm91cENvbGxhcHNlZCcpO1xuICB0cnkge1xuICAgIGNvbnN0IGFsbE1lc3NhZ2VzID0gZ2V0Q2hhdE1lc3NhZ2VzKC0xLCB7IGluY2x1ZGVfc3dpcGVzOiB0cnVlIH0pO1xuICAgIGZvciAobGV0IGkgPSBhbGxNZXNzYWdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGFsbE1lc3NhZ2VzW2ldO1xuICAgICAgLy8gW1Y5Ljcg5qC45b+D5L+u5q2jXSDkv67lpI3oh7Tlkb3mi7zlhpnplJnor6/vvJptZXNzYWdlLmlkIC0+IG1lc3NhZ2UubWVzc2FnZV9pZFxuICAgICAgY29uc3QgY3VycmVudE1lc3NhZ2VJZCA9IG1lc3NhZ2UubWVzc2FnZV9pZDtcblxuICAgICAgLy8g6Ziy5b6h5oCn57yW56iL77ya5aaC5p6cIG1lc3NhZ2VfaWQg5peg5pWI77yM55u05o6l6Lez6L+H77yM6Ziy5q2i5oSP5aSWXG4gICAgICBpZiAodHlwZW9mIGN1cnJlbnRNZXNzYWdlSWQgIT09ICdudW1iZXInKSB7XG4gICAgICAgIGxvZ1Byb2JlKGAo5o6i6ZKIKSDot7Pov4fml6DmlYjmpbzlsYIgKOe0ouW8lSAke2l9Ke+8jOWboOWFtiBtZXNzYWdlX2lkIOS4uiAke2N1cnJlbnRNZXNzYWdlSWR944CCYCwgJ3dhcm4nKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGxvZ1Byb2JlKGAo5o6i6ZKIKSDmraPlnKjmn6Xor6IgbWVzc2FnZV9pZDogJHtjdXJyZW50TWVzc2FnZUlkfS4uLmApO1xuICAgICAgICBjb25zdCBtdnVEYXRhID0gYXdhaXQgTXZ1LmdldE12dURhdGEoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6IGN1cnJlbnRNZXNzYWdlSWQgfSk7XG5cbiAgICAgICAgaWYgKG12dURhdGE/LnN0YXRfZGF0YSkge1xuICAgICAgICAgIGxvZ1Byb2JlKGBbU3RhdGVGaW5kZXJdIOafpeaJvuaIkOWKn++8geWcqCBtZXNzYWdlX2lkOiAke2N1cnJlbnRNZXNzYWdlSWR9IOWkhOaJvuWIsOadg+WogeeKtuaAgeOAgmApO1xuICAgICAgICAgIGxvZ1Byb2JlKCcnLCAnZ3JvdXBFbmQnKTtcbiAgICAgICAgICByZXR1cm4geyBtdnVEYXRhLCBtZXNzYWdlSWQ6IGN1cnJlbnRNZXNzYWdlSWQgfTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nUHJvYmUoYCjmjqLpkogpIOafpeivoiBtZXNzYWdlX2lkOiAke2N1cnJlbnRNZXNzYWdlSWR9IOaXtuaOpeWPo+Wksei0pe+8jOWwhue7p+e7reWQkeWJjeafpeaJvuOAgumUmeivrzogJHtlcnJvcn1gLCAnd2FybicpO1xuICAgICAgfVxuICAgIH1cbiAgICBsb2dQcm9iZSgnW1N0YXRlRmluZGVyXSDmn6Xmib7lpLHotKXvvJrpgY3ljoblrozmiYDmnInmtojmga/mpbzlsYLvvIzlnYfmnKrmib7liLDmnInmlYjnmoQgc3RhdF9kYXRh44CCJywgJ3dhcm4nKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dQcm9iZShgW1N0YXRlRmluZGVyXSDlnKjojrflj5bogYrlpKnorrDlvZXml7blj5HnlJ/kuKXph43plJnor686ICR7ZXJyb3J9YCwgJ2Vycm9yJyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZmluYWxseSB7XG4gICAgbG9nUHJvYmUoJycsICdncm91cEVuZCcpO1xuICB9XG59XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIFvogYzotKPljZXkuIBdIOaJvuWIsOOAgeino+aekOOAgemqjOivgeW5tuWHhuWkh+WlveOAkOWPr+S+m+i/kOihjOaXtuebtOaOpeS9v+eUqOOAkeeahOmfs+S5kOmFjee9ruOAglxuICogQHJldHVybnMge1Byb21pc2U8eyBwbGF5bGlzdHM6IFJlY29yZDxzdHJpbmcsIFBsYXlsaXN0Q29uZmlnPiwgZGVmYXVsdElkOiBzdHJpbmcsIHRyaWdnZXJzOiBUcmlnZ2VyW10gfSB8IG51bGw+fVxuICogICAgICAgICAg5LiA5Liq5YyF5ZCr5LqG44CQIHBsYXlsaXN0cyDmmKDlsIQg44CR55qE44CB5a6M5YWo5YeG5aSH5bCx57uq55qE6YWN572u5a+56LGh77yM5oiW5Zyo5aSx6LSl5pe26L+U5ZueIG51bGzjgIJcbiAqL1xuXG5hc3luYyBmdW5jdGlvbiBwYXJzZVdvcmxkYm9va0NvbmZpZygpIHtcbiAgbG9nUHJvYmUoJ1tXb3JsZGJvb2tQYXJzZXIgVjMt6IGa5ZCI5qih5byPXSDlvIDlp4vop6PmnpAuLi4nLCAnZ3JvdXAnKTtcblxuICB0eXBlIEFnZ3JlZ2F0ZWRQbGF5bGlzdCA9IHouaW5mZXI8dHlwZW9mIFpvZFBsYXlsaXN0Q29uZmlnPiAmIHsgX3NvdXJjZUZpbGU6IHN0cmluZyB9O1xuICB0eXBlIEFnZ3JlZ2F0ZWRUcmlnZ2VyID0gei5pbmZlcjx0eXBlb2YgWm9kVHJpZ2dlckNvbmZpZz4gJiB7IF9zb3VyY2VGaWxlOiBzdHJpbmcgfTtcblxuICBjb25zdCBhZ2dyZWdhdGVkQ29uZmlnOiB7XG4gICAgcGxheWxpc3RzOiBBZ2dyZWdhdGVkUGxheWxpc3RbXTtcbiAgICB0cmlnZ2VyczogQWdncmVnYXRlZFRyaWdnZXJbXTtcbiAgICBkZWZhdWx0UGxheWxpc3RJZD86IHN0cmluZztcbiAgICBfZGVmYXVsdFBsYXlsaXN0SWRTb3VyY2VGaWxlOiBzdHJpbmcgfCBudWxsO1xuICB9ID0ge1xuICAgIHBsYXlsaXN0czogW10sXG4gICAgdHJpZ2dlcnM6IFtdLFxuICAgIGRlZmF1bHRQbGF5bGlzdElkOiB1bmRlZmluZWQsXG4gICAgX2RlZmF1bHRQbGF5bGlzdElkU291cmNlRmlsZTogbnVsbCxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHdvcmxkYm9va05hbWVzID0gZ2V0Q2hhcldvcmxkYm9va05hbWVzKCdjdXJyZW50Jyk7XG4gICAgY29uc3Qgc2VhcmNoT3JkZXIgPSBbd29ybGRib29rTmFtZXMucHJpbWFyeSwgLi4ud29ybGRib29rTmFtZXMuYWRkaXRpb25hbF0uZmlsdGVyKEJvb2xlYW4pO1xuICAgIGxldCBmb3VuZEFueUNvbmZpZyA9IGZhbHNlO1xuXG4gICAgZm9yIChjb25zdCBib29rTmFtZSBvZiBzZWFyY2hPcmRlcikge1xuICAgICAgaWYgKCFib29rTmFtZSkgY29udGludWU7XG4gICAgICBjb25zdCBlbnRyaWVzID0gYXdhaXQgZ2V0V29ybGRib29rKGJvb2tOYW1lKTtcbiAgICAgIC8vIFvmlrBdIOafpeaJvuaJgOacieWQjeWtl+WMheWQqyBgW011c2ljQ29uZmlnXWAg55qE5p2h55uu77yM6ICM6Z2e57K+56Gu5Yy56YWNXG4gICAgICBjb25zdCBjb25maWdFbnRyaWVzID0gZW50cmllcy5maWx0ZXIoZSA9PiBlLm5hbWUuaW5jbHVkZXMoJ1tNdXNpY0NvbmZpZ10nKSk7XG5cbiAgICAgIGlmIChjb25maWdFbnRyaWVzLmxlbmd0aCA+IDApIGZvdW5kQW55Q29uZmlnID0gdHJ1ZTtcblxuICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBjb25maWdFbnRyaWVzKSB7XG4gICAgICAgIGxvZ1Byb2JlKGBbUGFyc2VyIFYzXSDlj5HnjrDlubblpITnkIbphY3nva7mlofku7Y6IFwiJHtlbnRyeS5uYW1lfVwiYCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmF3Q29uZmlnID0gWUFNTC5wYXJzZShlbnRyeS5jb250ZW50KTtcbiAgICAgICAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gWm9kV29ybGRib29rQ29uZmlnLnNhZmVQYXJzZShyYXdDb25maWcpO1xuXG4gICAgICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGxvZ1Byb2JlKGBbUGFyc2VyIFYzXSDmnaHnm64gXCIke2VudHJ5Lm5hbWV9XCIgWm9k6aqM6K+B5aSx6LSl77yM5bey6Lez6L+H44CCYCwgJ2Vycm9yJyk7XG4gICAgICAgICAgICBfZm9ybWF0Wm9kRXJyb3JGb3JUb2FzdHIodmFsaWRhdGlvblJlc3VsdC5lcnJvcik7XG4gICAgICAgICAgICBjb250aW51ZTsgLy8g6Lez6L+H6L+Z5Liq6ZSZ6K+v55qE5paH5Lu277yM57un57ut5aSE55CG5LiL5LiA5LiqXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgZGF0YSA9IHZhbGlkYXRpb25SZXN1bHQuZGF0YTtcblxuICAgICAgICAgIC8vIC0tLSDlkIjlubbnrZbnlaXmiafooYwgLS0tXG4gICAgICAgICAgLy8gW+aWsF0g5Li65q+P5Liq5q2M5Y2V5ZKM6Kem5Y+R5Zmo6ZmE5Yqg5p2l5rqQ5L+h5oGv77yM55So5LqO5ZCO57ut55qE57K+56Gu6ZSZ6K+v5oql5ZGKXG4gICAgICAgICAgaWYgKGRhdGEucGxheWxpc3RzKSB7XG4gICAgICAgICAgICBhZ2dyZWdhdGVkQ29uZmlnLnBsYXlsaXN0cy5wdXNoKC4uLmRhdGEucGxheWxpc3RzLm1hcChwID0+ICh7IC4uLnAsIF9zb3VyY2VGaWxlOiBlbnRyeS5uYW1lIH0pKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkYXRhLnRyaWdnZXJzKSB7XG4gICAgICAgICAgICBhZ2dyZWdhdGVkQ29uZmlnLnRyaWdnZXJzLnB1c2goLi4uZGF0YS50cmlnZ2Vycy5tYXAodCA9PiAoeyAuLi50LCBfc291cmNlRmlsZTogZW50cnkubmFtZSB9KSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFvmlrBdIOaJp+ihjOKAnOimhuebluW5tuitpuWRiuKAneetlueVpVxuICAgICAgICAgIGlmIChkYXRhLmRlZmF1bHRfcGxheWxpc3RfaWQpIHtcbiAgICAgICAgICAgIGlmIChhZ2dyZWdhdGVkQ29uZmlnLmRlZmF1bHRQbGF5bGlzdElkICYmIGFnZ3JlZ2F0ZWRDb25maWcuZGVmYXVsdFBsYXlsaXN0SWQgIT09IGRhdGEuZGVmYXVsdF9wbGF5bGlzdF9pZCkge1xuICAgICAgICAgICAgICBjb25zdCB3YXJuaW5nTXNnID0gYOWcqOaWh+S7tiBcIiR7ZW50cnkubmFtZX1cIiDkuK3lj5HnjrDnmoQgZGVmYXVsdF9wbGF5bGlzdF9pZCAoXCIke2RhdGEuZGVmYXVsdF9wbGF5bGlzdF9pZH1cIikg6KaG55uW5LqG5p2l6Ieq5paH5Lu2IFwiJHthZ2dyZWdhdGVkQ29uZmlnLl9kZWZhdWx0UGxheWxpc3RJZFNvdXJjZUZpbGUgPz8gJ+acquefpSd9XCIg55qE5a6a5LmJIChcIiR7YWdncmVnYXRlZENvbmZpZy5kZWZhdWx0UGxheWxpc3RJZH1cIinjgILkuLrnoa7kv53ooYzkuLrlj6/pooTmtYvvvIzlu7rorq7lj6rkv53nlZnkuIDkuKrlrprkuYnjgIJgO1xuICAgICAgICAgICAgICBsb2dQcm9iZShgW1BhcnNlciBWM10gJHt3YXJuaW5nTXNnfWAsICd3YXJuJyk7XG4gICAgICAgICAgICAgIHRvYXN0ci53YXJuaW5nKHdhcm5pbmdNc2csICfphY3nva7orablkYonLCB7IHRpbWVPdXQ6IDIwMDAwLCBjbG9zZUJ1dHRvbjogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFnZ3JlZ2F0ZWRDb25maWcuZGVmYXVsdFBsYXlsaXN0SWQgPSBkYXRhLmRlZmF1bHRfcGxheWxpc3RfaWQ7XG4gICAgICAgICAgICBhZ2dyZWdhdGVkQ29uZmlnLl9kZWZhdWx0UGxheWxpc3RJZFNvdXJjZUZpbGUgPSBlbnRyeS5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgbG9nUHJvYmUoYFtQYXJzZXIgVjNdIOino+aekOadoeebriBcIiR7ZW50cnkubmFtZX1cIiDml7blj5HnlJ9ZQU1M6K+t5rOV6ZSZ6K+vOiAke2UubWVzc2FnZX1gLCAnZXJyb3InKTtcbiAgICAgICAgICB0b2FzdHIuZXJyb3IoYFtNdXNpY0NvbmZpZ10g5paH5Lu2IFwiJHtlbnRyeS5uYW1lfVwiIOagvOW8j+mUmeivr++8mllBTUwg6K+t5rOV5LiN5q2j56Gu44CCYCwgJ+mFjee9rumUmeivrycsIHtcbiAgICAgICAgICAgIHRpbWVPdXQ6IDEwMDAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFmb3VuZEFueUNvbmZpZykge1xuICAgICAgbG9nUHJvYmUoJ1tQYXJzZXIgVjNdIOacquWcqOS7u+S9leS4lueVjOS5puS4reaJvuWIsCBbTXVzaWNDb25maWddIOadoeebruOAgicsICd3YXJuJyk7XG4gICAgICBsb2dQcm9iZSgnJywgJ2dyb3VwRW5kJyk7XG4gICAgICByZXR1cm4gbnVsbDsgLy8g5q2j5bi457uT5p2f77yM5Y+q5piv5rKh5pyJ6YWN572uXG4gICAgfVxuXG4gICAgLy8gLS0tIFvmlrBdIOacgOe7iOeahOOAgeWFqOWxgOeahOWBpeWFqOaAp+ajgOafpSAtLS1cbiAgICBsb2dQcm9iZSgnW1BhcnNlciBWM10g5omA5pyJ5paH5Lu26IGa5ZCI5a6M5q+V77yM5byA5aeL5omn6KGM5YWo5bGA5YGl5YWo5oCn5qOA5p+lLi4uJywgJ2dyb3VwQ29sbGFwc2VkJyk7XG4gICAgbGV0IGlzR2xvYmFsbHlWYWxpZCA9IHRydWU7XG5cbiAgICAvLyAxLiDlhajlsYDmrYzljZVJROWUr+S4gOaAp+ajgOafpVxuICAgIGNvbnN0IHBsYXlsaXN0c0J5SWQgPSBfLmdyb3VwQnkoYWdncmVnYXRlZENvbmZpZy5wbGF5bGlzdHMsICdpZCcpO1xuICAgIGZvciAoY29uc3QgaWQgaW4gcGxheWxpc3RzQnlJZCkge1xuICAgICAgaWYgKHBsYXlsaXN0c0J5SWRbaWRdLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29uc3Qgc291cmNlcyA9IHBsYXlsaXN0c0J5SWRbaWRdLm1hcChwID0+IHAuX3NvdXJjZUZpbGUpLmpvaW4oJywgJyk7XG4gICAgICAgIGNvbnN0IGVycm9yTXNnID0gYFtNdXNpY0NvbmZpZ10g6Ie05ZG96ZSZ6K+vOiDmrYzljZUgSUQgXCIke2lkfVwiIOWcqOWkmuS4quaWh+S7tuS4remHjeWkjeWumuS5ieOAguadpea6kDogJHtzb3VyY2VzfeOAgklEIOW/hemhu+aYr+WUr+S4gOeahOOAgmA7XG4gICAgICAgIGxvZ1Byb2JlKGVycm9yTXNnLCAnZXJyb3InKTtcbiAgICAgICAgdG9hc3RyLmVycm9yKGVycm9yTXNnLCAn6YWN572u5Yay56qBJywgeyB0aW1lT3V0OiAxNTAwMCB9KTtcbiAgICAgICAgaXNHbG9iYWxseVZhbGlkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYWxsUGxheWxpc3RJZHMgPSBuZXcgU2V0KGFnZ3JlZ2F0ZWRDb25maWcucGxheWxpc3RzLm1hcChwID0+IHAuaWQpKTtcblxuICAgIC8vIDIuIOWFqOWxgCBkZWZhdWx0X3BsYXlsaXN0X2lkIOacieaViOaAp+ajgOafpVxuICAgIGlmIChhZ2dyZWdhdGVkQ29uZmlnLmRlZmF1bHRQbGF5bGlzdElkICYmICFhbGxQbGF5bGlzdElkcy5oYXMoYWdncmVnYXRlZENvbmZpZy5kZWZhdWx0UGxheWxpc3RJZCkpIHtcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gYFtNdXNpY0NvbmZpZ10g6YWN572u6ZSZ6K+vOiDmnIDnu4jnmoQgZGVmYXVsdF9wbGF5bGlzdF9pZCAoXCIke2FnZ3JlZ2F0ZWRDb25maWcuZGVmYXVsdFBsYXlsaXN0SWR9XCIsIOadpeiHquaWh+S7tiBcIiR7YWdncmVnYXRlZENvbmZpZy5fZGVmYXVsdFBsYXlsaXN0SWRTb3VyY2VGaWxlID8/ICfmnKrnn6UnfVwiKSDmjIflkJHkuobkuIDkuKrkuI3lrZjlnKjnmoTmrYzljZXjgIJgO1xuICAgICAgbG9nUHJvYmUoZXJyb3JNc2csICdlcnJvcicpO1xuICAgICAgdG9hc3RyLmVycm9yKGVycm9yTXNnLCAn6YWN572u6ZSZ6K+vJywgeyB0aW1lT3V0OiAxNTAwMCB9KTtcbiAgICAgIGFnZ3JlZ2F0ZWRDb25maWcuZGVmYXVsdFBsYXlsaXN0SWQgPSB1bmRlZmluZWQ7IC8vIOS8mOmbhemZjee6p1xuICAgIH1cblxuICAgIC8vIDMuIOWFqOWxgOinpuWPkeWZqOebruagh+acieaViOaAp+ajgOafpVxuICAgIGNvbnN0IGZpbmFsVHJpZ2dlcnMgPSBhZ2dyZWdhdGVkQ29uZmlnLnRyaWdnZXJzLmZpbHRlcih0cmlnZ2VyID0+IHtcbiAgICAgIGlmIChhbGxQbGF5bGlzdElkcy5oYXModHJpZ2dlci5wbGF5bGlzdF9pZCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBjb25zdCBlcnJvck1zZyA9IGBbTXVzaWNDb25maWddIOagoemqjOWksei0pTog5p2l6Ieq5paH5Lu2IFwiJHt0cmlnZ2VyLl9zb3VyY2VGaWxlfVwiIOeahOinpuWPkeWZqOaMh+WQkeS6huS4jeWtmOWcqOeahOatjOWNlUlEIFwiJHt0cmlnZ2VyLnBsYXlsaXN0X2lkfVwi44CC6K+l6Kem5Y+R5Zmo5bCG6KKr5b+955Wl44CCYDtcbiAgICAgIGxvZ1Byb2JlKGVycm9yTXNnLCAnZXJyb3InKTtcbiAgICAgIHRvYXN0ci5lcnJvcihlcnJvck1zZywgJ+mFjee9rumUmeivrycsIHsgdGltZU91dDogMTAwMDAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgICBpZiAoIWlzR2xvYmFsbHlWYWxpZCkge1xuICAgICAgbG9nUHJvYmUoJ1tQYXJzZXIgVjNdIOWFqOWxgOWBpeWFqOaAp+ajgOafpeWksei0pe+8jOmFjee9ruiiq+aLkue7neOAgicsICdlcnJvcicpO1xuICAgICAgbG9nUHJvYmUoJycsICdncm91cEVuZCcpO1xuICAgICAgbG9nUHJvYmUoJycsICdncm91cEVuZCcpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxvZ1Byb2JlKCdbUGFyc2VyIFYzXSDlhajlsYDlgaXlhajmgKfmo4Dmn6XpgJrov4fjgIInKTtcbiAgICBsb2dQcm9iZSgnJywgJ2dyb3VwRW5kJyk7XG5cbiAgICBpZiAoYWdncmVnYXRlZENvbmZpZy5wbGF5bGlzdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBlcnJvck1zZyA9IGBbTXVzaWNDb25maWddIOiHtOWRvemUmeivrzog5omA5pyJ6YWN572u5paH5Lu25Lit6YO95pyq6IO95om+5Yiw5Lu75L2V5pyJ5pWI55qE5q2M5Y2VIChwbGF5bGlzdHMp44CC5pKt5pS+5Zmo5peg5rOV5Yqg6L2944CCYDtcbiAgICAgIGxvZ1Byb2JlKGVycm9yTXNnLCAnZXJyb3InKTtcbiAgICAgIHRvYXN0ci5lcnJvcihlcnJvck1zZywgJ+mFjee9rumUmeivrycsIHsgdGltZU91dDogMTUwMDAgfSk7XG4gICAgICBsb2dQcm9iZSgnJywgJ2dyb3VwRW5kJyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyAtLS0g5pWw5o2u5b2S5LiA5YyW5bm26L+U5ZueIC0tLVxuICAgIGNvbnN0IHBsYXlsaXN0c0FzTWFwOiBSZWNvcmQ8c3RyaW5nLCBQbGF5bGlzdENvbmZpZz4gPSB7fTtcbiAgICBmb3IgKGNvbnN0IHBsIG9mIGFnZ3JlZ2F0ZWRDb25maWcucGxheWxpc3RzKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkVHJhY2tzID0gcGwudHJhY2tzLm1hcCh0cmFjayA9PiAoe1xuICAgICAgICB1cmw6IHRyYWNrLnVybCxcbiAgICAgICAg5q2M5ZCNOlxuICAgICAgICAgIHRyYWNrLuatjOWQjSAmJiB0cmFjay7mrYzlkI0udHJpbSgpICE9PSAnJ1xuICAgICAgICAgICAgPyB0cmFjay7mrYzlkI1cbiAgICAgICAgICAgIDogZGVjb2RlVVJJQ29tcG9uZW50KHRyYWNrLnVybC5zcGxpdCgnLycpLnBvcCgpPy5zcGxpdCgnPycpWzBdIHx8ICfmnKrnn6XmrYzmm7InKSxcbiAgICAgICAg5q2M5omLOiB0cmFjay7mrYzmiYssXG4gICAgICAgIOWwgemdojogdHJhY2su5bCB6Z2iLFxuICAgICAgfSkpO1xuXG4gICAgICBwbGF5bGlzdHNBc01hcFtwbC5pZF0gPSB7IC4uLl8ub21pdChwbCwgJ19zb3VyY2VGaWxlJyksIHRyYWNrczogbm9ybWFsaXplZFRyYWNrcyB9O1xuICAgIH1cblxuICAgIGNvbnN0IGZpbmFsQ29uZmlnID0ge1xuICAgICAgcGxheWxpc3RzOiBwbGF5bGlzdHNBc01hcCxcbiAgICAgIGRlZmF1bHRJZDogYWdncmVnYXRlZENvbmZpZy5kZWZhdWx0UGxheWxpc3RJZCxcbiAgICAgIHRyaWdnZXJzOiBmaW5hbFRyaWdnZXJzLm1hcCh0ID0+IF8ub21pdCh0LCAnX3NvdXJjZUZpbGUnKSksXG4gICAgfTtcblxuICAgIGxvZ1Byb2JlKCdbUGFyc2VyIFYzXSDmlbDmja7lvZLkuIDljJblrozmiJDvvIzov5DooYzml7bphY3nva7lt7LlsLHnu6rjgIInLCAnbG9nJyk7XG4gICAgbG9nUHJvYmUoJycsICdncm91cEVuZCcpO1xuICAgIHJldHVybiBmaW5hbENvbmZpZztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dQcm9iZShgW1BhcnNlciBWM10g6Kej5p6Q6L+H56iL5Lit5Y+R55Sf5oSP5aSW6aG25bGC6ZSZ6K+vOiAke2Vycm9yfWAsICdlcnJvcicpO1xuICAgIHRvYXN0ci5lcnJvcign6Z+z5LmQ6YWN572u5Yqg6L295pe25Y+R55Sf5pyq55+l6ZSZ6K+v77yM6K+35qOA5p+l5o6n5Yi25Y+w5pel5b+X44CCJyk7XG4gICAgbG9nUHJvYmUoJycsICdncm91cEVuZCcpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogW+W3peWOgiBWMy4wXSDku47mjIHkuYXljJblr7nosaHph43lu7rkuIDkuKrlrozmlbTnmoTjgIHlj6/kvpvov5DooYzml7bkvb/nlKjnmoQgUXVldWVJdGVt44CCXG4gKiBAcGFyYW0gcGVyc2lzdGVkSXRlbSAtIOS7jumFkummhuWPmOmHj+ivu+WPlueahOOAgee7j+i/hyBab2Qg6aqM6K+B55qEaXRlbeOAglxuICogQHBhcmFtIHBsYXlsaXN0Q29uZmlnIC0g5LuO5b2T5YmN5LiW55WM5Lmm6Kej5p6Q5Ye655qE5a+55bqU5q2M5Y2V6YWN572u44CCXG4gKiBAcmV0dXJucyB7UXVldWVJdGVtfSDkuIDkuKrlrozmlbTnmoTov5DooYzml7YgUXVldWVJdGVt44CCXG4gKi9cbmZ1bmN0aW9uIHJlY29uc3RpdHV0ZVF1ZXVlSXRlbShcbiAgcGVyc2lzdGVkSXRlbTogei5pbmZlcjx0eXBlb2YgWm9kUXVldWVJdGVtU3RhdGU+LFxuICBwbGF5bGlzdENvbmZpZzogUGxheWxpc3RDb25maWcsXG4pOiBRdWV1ZUl0ZW0ge1xuICByZXR1cm4ge1xuICAgIHBsYXlsaXN0SWQ6IHBlcnNpc3RlZEl0ZW0ucGxheWxpc3RJZCxcbiAgICBwcmlvcml0eTogcGVyc2lzdGVkSXRlbS50cmlnZ2VyU291cmNlPy5wcmlvcml0eSA/PyAtSW5maW5pdHksXG4gICAgcGxheWxpc3RDb250ZW50OiBfLmNsb25lRGVlcChwbGF5bGlzdENvbmZpZy50cmFja3MpLFxuICAgIG9uRmluaXNoUnVsZTogcGxheWxpc3RDb25maWcub25GaW5pc2hSdWxlLFxuICAgIGN1cnJlbnRJbmRleDogcGVyc2lzdGVkSXRlbS5jdXJyZW50SW5kZXgsXG4gICAgcGxheWVkSW5kaWNlczogbmV3IFNldChwZXJzaXN0ZWRJdGVtLnBsYXllZEluZGljZXMpLFxuICAgIHdhc0V2ZXJQbGF5ZWQ6IHBlcnNpc3RlZEl0ZW0ud2FzRXZlclBsYXllZCxcbiAgICB0cmlnZ2VyZWRCeTogcGVyc2lzdGVkSXRlbS50cmlnZ2VyU291cmNlID8gJ212dScgOiAnYmFzZScsXG4gICAgdHJpZ2dlclNvdXJjZTogcGVyc2lzdGVkSXRlbS50cmlnZ2VyU291cmNlLFxuICB9O1xufVxuXG50eXBlIENyZWF0ZVF1ZXVlSXRlbUNvbmZpZyA9XG4gIHwgeyB0eXBlOiAnYmFzZSc7IHBsYXlsaXN0SWQ6IHN0cmluZyB9XG4gIHwgeyB0eXBlOiAnbXZ1JzsgcGxheWxpc3RJZDogc3RyaW5nOyB0cmlnZ2VyOiB6LmluZmVyPHR5cGVvZiBab2RUcmlnZ2VyQ29uZmlnPiB9O1xuXG4vKipcbiAqIFvlt6XljoIgVjMuMF0g5Yib5bu65LiA5Liq5YWo5paw55qE44CB54q25oCB5Yid5aeL5YyW55qEIFF1ZXVlSXRlbeOAglxuICogQHBhcmFtIGNvbmZpZyAtIOS4gOS4quWMheWQq+aJgOacieW/heimgeS/oeaBr+eahOmFjee9ruWvueixoeOAglxuICogQHJldHVybnMge1F1ZXVlSXRlbSB8IG51bGx9IOS4gOS4quWujOaVtOeahOmYn+WIl+mhue+8jOaIluWcqOWksei0peaXtui/lOWbniBudWxs44CCXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVF1ZXVlSXRlbShjb25maWc6IENyZWF0ZVF1ZXVlSXRlbUNvbmZpZyk6IFF1ZXVlSXRlbSB8IG51bGwge1xuICBjb25zdCB7IHBsYXlsaXN0SWQgfSA9IGNvbmZpZztcblxuICBpZiAoIXBsYXlsaXN0SWQgfHwgIWFsbFBsYXlsaXN0c1twbGF5bGlzdElkXSkge1xuICAgIGxvZ1Byb2JlKGBbRmFjdG9yeV0g5Yib5bu66Zif5YiX6aG55aSx6LSl77ya6K+35rGC55qE5q2M5Y2VSUQgXCIke3BsYXlsaXN0SWR9XCIg5LiN5a2Y5Zyo44CCYCwgJ2Vycm9yJyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBwbGF5bGlzdENvbmZpZyA9IGFsbFBsYXlsaXN0c1twbGF5bGlzdElkXTtcblxuICBjb25zdCBiYXNlSXRlbTogT21pdDxRdWV1ZUl0ZW0sICd0cmlnZ2VyZWRCeScgfCAndHJpZ2dlclNvdXJjZScgfCAnb25GaW5pc2hSdWxlJyB8ICdwcmlvcml0eSc+ID0ge1xuICAgIHBsYXlsaXN0SWQ6IHBsYXlsaXN0SWQsXG4gICAgcGxheWxpc3RDb250ZW50OiBfLmNsb25lRGVlcChwbGF5bGlzdENvbmZpZy50cmFja3MpLFxuICAgIGN1cnJlbnRJbmRleDogMCxcbiAgICBwbGF5ZWRJbmRpY2VzOiBuZXcgU2V0KCksXG4gICAgd2FzRXZlclBsYXllZDogZmFsc2UsXG4gIH07XG5cbiAgaWYgKGNvbmZpZy50eXBlID09PSAnYmFzZScpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uYmFzZUl0ZW0sXG4gICAgICBwcmlvcml0eTogLUluZmluaXR5LFxuICAgICAgdHJpZ2dlcmVkQnk6ICdiYXNlJyxcbiAgICAgIG9uRmluaXNoUnVsZTogJ2xvb3AnLFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmJhc2VJdGVtLFxuICAgICAgcHJpb3JpdHk6IGNvbmZpZy50cmlnZ2VyLnByaW9yaXR5LFxuICAgICAgdHJpZ2dlcmVkQnk6ICdtdnUnLFxuICAgICAgb25GaW5pc2hSdWxlOiBwbGF5bGlzdENvbmZpZy5vbkZpbmlzaFJ1bGUsXG4gICAgICB0cmlnZ2VyU291cmNlOiBjb25maWcudHJpZ2dlcixcbiAgICB9O1xuICB9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyA3LiDov5DooYzml7bliJ3lp4vljJbkuI7mkq3mlL7lmajmjqfliLYgKFJ1bnRpbWUgJiBQbGF5ZXIgQ29udHJvbHMpXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplUGxheWVyRm9yQ2hhdChcbiAgY29uZmlnOiBhbnksXG4gIGF1dGhvcml0YXRpdmVTdGF0ZTogYW55LFxuICBvcHRpb25zPzogeyBhdXRvUGxheUlmV2FzUGxheWluZz86IGJvb2xlYW4gfSxcbikge1xuICBsb2dQcm9iZSgnPT09IOW8gOWni+aJp+ihjOOAkOaguOW/g8K36Ieq5oSI5byP5Yid5aeL5YyW44CRIFY5LjAgPT09JywgJ2dyb3VwJyk7XG4gIHRyeSB7XG4gICAgLy8gLS0tIOOAkOWHhuWkh+mYtuauteOAkSDmuIXnkIbkuI7ph43nva4gLS0tXG4gICAgaXNDb3JlUGxheWVySW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIFN0YXRlTWFuYWdlci5yZXNldFN0YXRlKCk7XG4gICAgTXZ1TWFuYWdlci5yZXNldFN0YXRlKCk7XG4gICAgTXZ1TWFuYWdlci5pbml0aWFsaXplKCk7XG4gICAgY29uc3QgYWN0aXZlUGxheWVyID0gUGxheWJhY2tFbmdpbmUuZ2V0QWN0aXZlUGxheWVyKCk7XG4gICAgaWYgKGFjdGl2ZVBsYXllcikgYWN0aXZlUGxheWVyLnBhdXNlKCk7XG4gICAgdHJpZ2dlcnMgPSBbXTtcbiAgICBhbGxQbGF5bGlzdHMgPSB7fTtcbiAgICBkZWZhdWx0UGxheWxpc3RJZCA9ICcnO1xuXG4gICAgaWYgKCFjb25maWcpIHtcbiAgICAgIGxvZ1Byb2JlKCdbSW5pdGlhbGl6ZXJdIOmFjee9ruaXoOaViO+8jOWIneWni+WMluS4reatouOAgicsICdlcnJvcicpO1xuICAgICAgYnJvYWRjYXN0RnVsbFN0YXRlKCk7XG4gICAgICAvLyBb5paw5aKeXSDlpoLmnpzphY3nva7lnKjop6PmnpDpmLbmrrXlsLHlpLHotKXkuobvvIzmiJHku6zlv4XpobvlnKjov5nph4zmipvlh7rplJnor6/ku6XpgJrnn6XliY3nq69cbiAgICAgIHRocm93IG5ldyBFcnJvcign5LiW55WM5Lmm6Z+z5LmQ6YWN572u6Kej5p6Q5aSx6LSl77yM6K+35qOA5p+l6YWN572u44CCJyk7XG4gICAgfVxuXG4gICAgYWxsUGxheWxpc3RzID0gY29uZmlnLnBsYXlsaXN0cztcbiAgICBkZWZhdWx0UGxheWxpc3RJZCA9IGNvbmZpZy5kZWZhdWx0SWQ7XG4gICAgdHJpZ2dlcnMgPSBjb25maWcudHJpZ2dlcnM7XG5cbiAgICBjb25zdCBzYXZlZFN0YXRlID0gcmVhZFN0YXRlKCk7XG4gICAgY29uc3QgY3VycmVudFN0YXREYXRhID0gYXV0aG9yaXRhdGl2ZVN0YXRlPy5tdnVEYXRhPy5zdGF0X2RhdGEgPz8gbnVsbDtcbiAgICBjb25zdCBhdXRob3JpdGF0aXZlTWVzc2FnZUlkID0gYXV0aG9yaXRhdGl2ZVN0YXRlPy5tZXNzYWdlSWQ7XG5cbiAgICBsZXQgZmluYWxRdWV1ZTogUXVldWVJdGVtW10gPSBbXTtcblxuICAgIC8vIC0tLSDjgJDnrKzkuIDmraXjgJEg56Gu5a6a5bm26aqM6K+B5p2D5aiB55qE5Z+656GA5q2M5Y2VIElEIC0tLVxuICAgIGxldCBjb3JyZWN0QmFzZVBsYXlsaXN0SWQgPSBkZWZhdWx0UGxheWxpc3RJZDtcbiAgICBjb25zdCBtc2daZXJvID0gZ2V0Q2hhdE1lc3NhZ2VzKDAsIHsgaW5jbHVkZV9zd2lwZXM6IHRydWUgfSlbMF07XG4gICAgaWYgKG1zZ1plcm8pIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRHcmVldGluZyA9IG1zZ1plcm8uc3dpcGVzPy5bbXNnWmVyby5zd2lwZV9pZF07XG4gICAgICBjb25zdCB0YWdNYXRjaCA9IGN1cnJlbnRHcmVldGluZz8ubWF0Y2goLzxwbGF5bGlzdDooW14+XSspPi8pO1xuICAgICAgaWYgKHRhZ01hdGNoICYmIHRhZ01hdGNoWzFdKSB7XG4gICAgICAgIGNvbnN0IHRhZ1BsYXlsaXN0SWQgPSB0YWdNYXRjaFsxXTtcbiAgICAgICAgLy8gW+aWsOWinl0g5qOA5p+lIDM6IOW8gOWcuueZveagh+etvuS4reeahOatjOWNleaYr+WQpuWtmOWcqFxuICAgICAgICBpZiAoYWxsUGxheWxpc3RzW3RhZ1BsYXlsaXN0SWRdKSB7XG4gICAgICAgICAgbG9nUHJvYmUoYFtJbml0aWFsaXplci1IZWFsXSAo5Z+65YeGKSDku47lvIDlnLrnmb3moIfnrb7noa7lrprmnYPlqIHln7rnoYDmrYzljZU6IFwiJHt0YWdQbGF5bGlzdElkfVwiYCk7XG4gICAgICAgICAgY29ycmVjdEJhc2VQbGF5bGlzdElkID0gdGFnUGxheWxpc3RJZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBlcnJvck1zZyA9IGBbTXVzaWNDb25maWddIOmFjee9ruitpuWRijog5byA5Zy655m95qCH562+IDxwbGF5bGlzdDoke3RhZ1BsYXlsaXN0SWR9PiDmjIflkJHkuobkuIDkuKrkuI3lrZjlnKjnmoTmrYzljZVJROOAguWwhuWbnumAgOiHs+m7mOiupOatjOWNleOAgmA7XG4gICAgICAgICAgbG9nUHJvYmUoZXJyb3JNc2csICd3YXJuJyk7XG4gICAgICAgICAgdG9hc3RyLndhcm5pbmcoZXJyb3JNc2csICfphY3nva7orablkYonLCB7IHRpbWVPdXQ6IDE1MDAwIH0pO1xuICAgICAgICAgIC8vIOS/neaMgSBjb3JyZWN0QmFzZVBsYXlsaXN0SWQg5Li6IGRlZmF1bHRQbGF5bGlzdElkXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ1Byb2JlKGBbSW5pdGlhbGl6ZXItSGVhbF0gKOWfuuWHhikg5byA5Zy655m95peg5qCH562+77yM5L2/55So5LiW55WM5Lmm6buY6K6k5q2M5Y2VOiBcIiR7ZGVmYXVsdFBsYXlsaXN0SWQgPz8gJ+aXoCd9XCJgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBb5paw5aKeXSDmo4Dmn6UgNDog5Z+656GA5q2M5Y2V5LiO5Zy65pmv5q2M5Y2V5Yay56qB5qOA5p+lXG4gICAgaWYgKGNvcnJlY3RCYXNlUGxheWxpc3RJZCkge1xuICAgICAgY29uc3Qgc2NlbmVQbGF5bGlzdElkcyA9IG5ldyBTZXQodHJpZ2dlcnMubWFwKHQgPT4gdC5wbGF5bGlzdF9pZCkpO1xuICAgICAgaWYgKHNjZW5lUGxheWxpc3RJZHMuaGFzKGNvcnJlY3RCYXNlUGxheWxpc3RJZCkpIHtcbiAgICAgICAgY29uc3QgZmF0YWxFcnJvck1zZyA9IGBbTXVzaWNDb25maWddIOiHtOWRvemFjee9rumUmeivrzog5q2M5Y2VIFwiJHtjb3JyZWN0QmFzZVBsYXlsaXN0SWR9XCIg5LiN6IO95ZCM5pe26KKr55So5L2c5Z+656GA5q2M5Y2V77yI5Zyo5byA5Zy655m95oiW6buY6K6k6K6+572u5Lit77yJ5ZKM5Zy65pmv5q2M5Y2V77yI6KKr6Kem5Y+R5Zmo5YWz6IGU77yJ44CC6K+35Li65a6D5Lus5L2/55So5LiN5ZCM55qE5q2M5Y2V44CCYDtcbiAgICAgICAgbG9nUHJvYmUoZmF0YWxFcnJvck1zZywgJ2Vycm9yJyk7XG4gICAgICAgIHRvYXN0ci5lcnJvcihmYXRhbEVycm9yTXNnLCAn6YWN572u5Yay56qBJywgeyB0aW1lT3V0OiAyMDAwMCwgY2xvc2VCdXR0b246IHRydWUgfSk7XG4gICAgICAgIC8vIOi/meaYr+aXoOazleino+WGs+eahOmAu+i+keWGsueqge+8jOW/hemhu+S4reatouWIneWni+WMllxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+WfuuehgOatjOWNleS4juWcuuaZr+atjOWNleWtmOWcqOiHtOWRveWGsueqgeOAgicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIC0tLSDjgJDnrKzkuozmraXjgJEg6Zif5YiX5YeA5YyW5LiO6YeN5bu6IChIZWFsIHRoZSBQYXN0KSAtLS1cbiAgICBpZiAoc2F2ZWRTdGF0ZSkge1xuICAgICAgbG9nUHJvYmUoJ1tJbml0aWFsaXplci1IZWFsXSAo5YeA5YyWKSDlvIDlp4vlrqHmn6XlrZjmoaMuLi4nLCAnZ3JvdXBDb2xsYXBzZWQnKTtcbiAgICAgIGNvbnN0IGhlYWxlZFF1ZXVlOiBRdWV1ZUl0ZW1bXSA9IFtdO1xuICAgICAgZm9yIChjb25zdCBwZXJzaXN0ZWRJdGVtIG9mIHNhdmVkU3RhdGUuYWN0aXZlX3F1ZXVlKSB7XG4gICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFsbFBsYXlsaXN0cywgcGVyc2lzdGVkSXRlbS5wbGF5bGlzdElkKSkge1xuICAgICAgICAgIGxvZ1Byb2JlKGAo5YeA5YyWLeS4ouW8gykg5a2Y5qGj5q2M5Y2VIFwiJHtwZXJzaXN0ZWRJdGVtLnBsYXlsaXN0SWR9XCIg5bey5LiN5a2Y5Zyo44CCYCwgJ3dhcm4nKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBsYXlsaXN0Q29uZmlnID0gYWxsUGxheWxpc3RzW3BlcnNpc3RlZEl0ZW0ucGxheWxpc3RJZF07XG4gICAgICAgIGNvbnN0IGlzQmFzZUl0ZW0gPSAhcGVyc2lzdGVkSXRlbS50cmlnZ2VyU291cmNlO1xuXG4gICAgICAgIGlmIChpc0Jhc2VJdGVtKSB7XG4gICAgICAgICAgaWYgKHBlcnNpc3RlZEl0ZW0ucGxheWxpc3RJZCA9PT0gY29ycmVjdEJhc2VQbGF5bGlzdElkKSB7XG4gICAgICAgICAgICBsb2dQcm9iZShgKOWHgOWMli3kv53nlZkpIOWfuuehgOatjOWNlSBcIiR7cGVyc2lzdGVkSXRlbS5wbGF5bGlzdElkfVwiIOS7jeeEtuacieaViOOAgmApO1xuICAgICAgICAgICAgaGVhbGVkUXVldWUucHVzaChyZWNvbnN0aXR1dGVRdWV1ZUl0ZW0ocGVyc2lzdGVkSXRlbSwgcGxheWxpc3RDb25maWcpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9nUHJvYmUoXG4gICAgICAgICAgICAgIGAo5YeA5YyWLeS4ouW8gykg5Z+656GA5q2M5Y2VIFwiJHtwZXJzaXN0ZWRJdGVtLnBsYXlsaXN0SWR9XCIg5bey6KKr5paw55qE5p2D5aiB5q2M5Y2VIFwiJHtjb3JyZWN0QmFzZVBsYXlsaXN0SWQgPz8gJ+aXoCd9XCIg5pu/5Luj44CCYCxcbiAgICAgICAgICAgICAgJ3dhcm4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudFRyaWdnZXIgPSB0cmlnZ2Vycy5maW5kKHQgPT4gdC5wbGF5bGlzdF9pZCA9PT0gcGVyc2lzdGVkSXRlbS5wbGF5bGlzdElkKTtcbiAgICAgICAgICBsb2dQcm9iZShgKOaOoumSiC3lh4DljJYpIOato+WcqOWuoeafpeWtmOaho+eahE1WVeatjOWNlSBcIiR7cGVyc2lzdGVkSXRlbS5wbGF5bGlzdElkfVwiLi4uYCk7XG5cbiAgICAgICAgICBpZiAocGxheWxpc3RDb25maWcub25GaW5pc2hSdWxlID09PSAncG9wJykge1xuICAgICAgICAgICAgbG9nUHJvYmUoYCjlh4DljJYt5Lii5byDKSDljp/lm6DvvJrop4TliJnkuLogJ3BvcCfjgIJgKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghY3VycmVudFRyaWdnZXIpIHtcbiAgICAgICAgICAgIGxvZ1Byb2JlKGAo5YeA5YyWLeS4ouW8gykg5Y6f5Zug77ya5Zyo5pyA5paw55qE5LiW55WM5Lmm6YWN572u5Lit5bey5om+5LiN5Yiw5a+55bqU55qE6Kem5Y+R5Zmo44CCYCwgJ3dhcm4nKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghTXZ1TWFuYWdlci5jaGVja1RyaWdnZXJDb25kaXRpb24oY3VycmVudFRyaWdnZXIsIGN1cnJlbnRTdGF0RGF0YSkpIHtcbiAgICAgICAgICAgIGxvZ1Byb2JlKGAo5YeA5YyWLeS4oi3lvIMpIOWOn+WboO+8muacgOaWsOeahOinpuWPkeWZqOadoeS7tuWcqOW9k+WJjeeKtuaAgeS4i+S4jea7oei2s+OAgmApO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbG9nUHJvYmUoYCjlh4DljJYt5L+d55WZKSDpqozor4HpgJrov4fjgIJgKTtcbiAgICAgICAgICBoZWFsZWRRdWV1ZS5wdXNoKHJlY29uc3RpdHV0ZVF1ZXVlSXRlbShwZXJzaXN0ZWRJdGVtLCBwbGF5bGlzdENvbmZpZykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmaW5hbFF1ZXVlID0gaGVhbGVkUXVldWU7XG4gICAgICBsb2dQcm9iZSgnW0luaXRpYWxpemVyLUhlYWxdICjlh4DljJYpIOWuoeafpeWujOaIkOOAgicsICdncm91cEVuZCcpO1xuICAgIH1cblxuICAgIC8vIC0tLSDjgJDnrKzkuInmraXjgJEg6Zif5YiX6KGl5YWFIC0tLVxuICAgIGlmIChjdXJyZW50U3RhdERhdGEgJiYgdHJpZ2dlcnMubGVuZ3RoID4gMCkge1xuICAgICAgbG9nUHJvYmUoJ1tJbml0aWFsaXplci1IZWFsXSAo6KGl5YWFKSDmraPlnKjmo4Dmn6XmmK/lkKbmnInmlrDmv4DmtLvnmoTlnLrmma/mrYzljZUuLi4nLCAnZ3JvdXBDb2xsYXBzZWQnKTtcbiAgICAgIGZvciAoY29uc3QgdHJpZ2dlciBvZiB0cmlnZ2Vycykge1xuICAgICAgICBjb25zdCBhbHJlYWR5RXhpc3RzID0gZmluYWxRdWV1ZS5zb21lKFxuICAgICAgICAgIGl0ZW0gPT4gaXRlbS50cmlnZ2VyU291cmNlICYmIGFyZVRyaWdnZXJzRnVuY3Rpb25hbGx5RXF1YWwoaXRlbS50cmlnZ2VyU291cmNlLCB0cmlnZ2VyKSxcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIWFscmVhZHlFeGlzdHMgJiYgTXZ1TWFuYWdlci5jaGVja1RyaWdnZXJDb25kaXRpb24odHJpZ2dlciwgY3VycmVudFN0YXREYXRhKSkge1xuICAgICAgICAgIGNvbnN0IHBsYXlsaXN0Q29uZmlnID0gYWxsUGxheWxpc3RzW3RyaWdnZXIucGxheWxpc3RfaWRdO1xuICAgICAgICAgIGlmIChwbGF5bGlzdENvbmZpZyAmJiBwbGF5bGlzdENvbmZpZy5vbkZpbmlzaFJ1bGUgPT09ICdwb3AnKSB7XG4gICAgICAgICAgICBpZiAoYXV0aG9yaXRhdGl2ZU1lc3NhZ2VJZCA9PT0gMCkge1xuICAgICAgICAgICAgICBsb2dQcm9iZShgKOihpeWFhSkg5YWB6K645re75YqgICdwb3AnIOatjOWNlSBcIiR7dHJpZ2dlci5wbGF5bGlzdF9pZH1cIu+8jOWboOS4uuS4iuS4i+aWh+aYr+W8gOWcuueZveOAgmApO1xuICAgICAgICAgICAgICBjb25zdCBuZXdJdGVtID0gY3JlYXRlUXVldWVJdGVtKHsgdHlwZTogJ212dScsIHBsYXlsaXN0SWQ6IHRyaWdnZXIucGxheWxpc3RfaWQsIHRyaWdnZXI6IHRyaWdnZXIgfSk7XG4gICAgICAgICAgICAgIGlmIChuZXdJdGVtKSBmaW5hbFF1ZXVlLnB1c2gobmV3SXRlbSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsb2dQcm9iZShcbiAgICAgICAgICAgICAgICBgKOihpeWFhS3pmLvmraIpIOWcuuaZr+atjOWNlSBcIiR7dHJpZ2dlci5wbGF5bGlzdF9pZH1cIiDlm6Dop4TliJnkuLogJ3BvcCcg5LiU5LiK5LiL5paH6Z2e5byA5Zy655m96ICM6KKr5b+955Wl44CCYCxcbiAgICAgICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW0gPSBjcmVhdGVRdWV1ZUl0ZW0oeyB0eXBlOiAnbXZ1JywgcGxheWxpc3RJZDogdHJpZ2dlci5wbGF5bGlzdF9pZCwgdHJpZ2dlcjogdHJpZ2dlciB9KTtcbiAgICAgICAgICAgIGlmIChuZXdJdGVtKSBmaW5hbFF1ZXVlLnB1c2gobmV3SXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsb2dQcm9iZSgnW0luaXRpYWxpemVyLUhlYWxdICjooaXlhYUpIOajgOafpeWujOaIkOOAgicsICdncm91cEVuZCcpO1xuICAgIH1cblxuICAgIC8vIC0tLSDjgJDnrKzlm5vmraXjgJEg5Z+656GA5q2M5Y2V5pyA57uI5rOo5YWlIChGaW5hbCBHdWFyYW50ZWUpIC0tLVxuICAgIGNvbnN0IGJhc2VQbGF5bGlzdEV4aXN0cyA9IGZpbmFsUXVldWUuc29tZShpdGVtID0+IGl0ZW0udHJpZ2dlcmVkQnkgPT09ICdiYXNlJyk7XG4gICAgaWYgKCFiYXNlUGxheWxpc3RFeGlzdHMgJiYgY29ycmVjdEJhc2VQbGF5bGlzdElkICYmIGFsbFBsYXlsaXN0c1tjb3JyZWN0QmFzZVBsYXlsaXN0SWRdKSB7XG4gICAgICBsb2dQcm9iZShgW0luaXRpYWxpemVyLUhlYWxdICjms6jlhaUpIOacgOe7iOazqOWFpeadg+WogeWfuuehgOatjOWNlSBcIiR7Y29ycmVjdEJhc2VQbGF5bGlzdElkfVwi44CCYCk7XG4gICAgICBjb25zdCBiYXNlSXRlbSA9IGNyZWF0ZVF1ZXVlSXRlbSh7IHR5cGU6ICdiYXNlJywgcGxheWxpc3RJZDogY29ycmVjdEJhc2VQbGF5bGlzdElkIH0pO1xuICAgICAgaWYgKGJhc2VJdGVtKSBmaW5hbFF1ZXVlLnB1c2goYmFzZUl0ZW0pO1xuICAgIH1cblxuICAgIC8vIC0tLSDjgJDnrKzkupTmraXjgJEg5pyA57uI5Yqg6L295LiO5ZCO57ut6K6+572uIC0tLVxuICAgIGxvZ1Byb2JlKCdbSW5pdGlhbGl6ZXItRmluYWxpemVdIOato+WcqOaPkOS6pOacgOe7iOmYn+WIl+W5tuWujOaIkOiuvue9ri4uLicpO1xuICAgIFN0YXRlTWFuYWdlci51cGRhdGVRdWV1ZShmaW5hbFF1ZXVlKTtcblxuICAgIGNvbnN0IG1vZGUgPSBzYXZlZFN0YXRlPy5tb2RlID8/ICdsaXN0JztcbiAgICBTdGF0ZU1hbmFnZXIuc2V0UGxheWJhY2tNb2RlKG1vZGUpO1xuICAgIFN0cmF0ZWd5TWFuYWdlci5zZXRNb2RlKG1vZGUpO1xuICAgIGxvZ1Byb2JlKGAo5o6i6ZKIKSDnrZbnlaXmqKHlvI/lt7LlkIzmraXkuLo6ICR7bW9kZX1gKTtcbiAgICBTdHJhdGVneU1hbmFnZXIubm90aWZ5UXVldWVDaGFuZ2VkKCk7XG5cbiAgICBQbGF5YmFja0VuZ2luZS5pbml0aWFsaXplKCk7XG4gICAgY29uc3Qgdm9sdW1lID0gc2F2ZWRTdGF0ZT8udm9sdW1lID8/IDAuNTtcbiAgICBTdGF0ZU1hbmFnZXIuc2V0Vm9sdW1lKHZvbHVtZSk7XG4gICAgaWYgKFBsYXliYWNrRW5naW5lLmdldEFjdGl2ZVBsYXllcigpKSBQbGF5YmFja0VuZ2luZS5nZXRBY3RpdmVQbGF5ZXIoKSEudm9sdW1lID0gdm9sdW1lO1xuICAgIGlmIChQbGF5YmFja0VuZ2luZS5nZXRTdGFuZGJ5UGxheWVyKCkpIFBsYXliYWNrRW5naW5lLmdldFN0YW5kYnlQbGF5ZXIoKSEudm9sdW1lID0gMDtcblxuICAgIGNvbnN0IGluaXRpYWxUb3BJdGVtID0gU3RhdGVNYW5hZ2VyLmdldFRvcFF1ZXVlSXRlbSgpO1xuICAgIGlmIChpbml0aWFsVG9wSXRlbSkge1xuICAgICAgY29uc3QgdHJhY2sgPSBpbml0aWFsVG9wSXRlbS5wbGF5bGlzdENvbnRlbnRbaW5pdGlhbFRvcEl0ZW0uY3VycmVudEluZGV4XTtcbiAgICAgIGlmICh0cmFjayAmJiBQbGF5YmFja0VuZ2luZS5nZXRBY3RpdmVQbGF5ZXIoKSkge1xuICAgICAgICBQbGF5YmFja0VuZ2luZS5nZXRBY3RpdmVQbGF5ZXIoKSEuc3JjID0gdHJhY2sudXJsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjdXJyZW50U3RhdERhdGEpIHtcbiAgICAgIGF3YWl0IE12dU1hbmFnZXIucGVyc2lzdEN1cnJlbnRTdGF0ZShjdXJyZW50U3RhdERhdGEpO1xuICAgICAgbG9nUHJvYmUoJ1tJbml0aWFsaXplci1GaW5hbGl6ZV0gIOW3suWwhuacrOasoeWIm+S4lueahOadg+WogU1WVeeKtuaAgeaMgeS5heWMluS4uuWOhuWPsuWfuuWHhuOAgicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCBNdnVNYW5hZ2VyLnBlcnNpc3RDdXJyZW50U3RhdGUoe30pO1xuICAgICAgbG9nUHJvYmUoJ1tJbml0aWFsaXplci1GaW5hbGl6ZV0g5b2T5YmN5pegTVZV54q25oCB77yM5bey5bCG56m654q25oCB5oyB5LmF5YyW5Li65Y6G5Y+y5Z+65YeG44CCJyk7XG4gICAgfVxuXG4gICAgYXdhaXQgd3JpdGVTdGF0ZSgnaW5pdGlhbGl6YXRpb24nKTtcbiAgICBicm9hZGNhc3RGdWxsU3RhdGUoKTtcblxuICAgIGlmIChvcHRpb25zPy5hdXRvUGxheUlmV2FzUGxheWluZykge1xuICAgICAgbG9nUHJvYmUoJ1tJbml0aWFsaXplcl0gKOaOoumSiCkg5qOA5rWL5Yiw5p2l6Ieq5byA5Zy655m95ruR5Yqo55qE4oCc6Ieq5Yqo5pKt5pS+4oCd5oSP5Zu+44CCJywgJ3dhcm4nKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRJdGVtID0gU3RhdGVNYW5hZ2VyLmdldFRvcFF1ZXVlSXRlbSgpO1xuICAgICAgaWYgKGN1cnJlbnRJdGVtKSB7XG4gICAgICAgIGxvZ1Byb2JlKCdbSW5pdGlhbGl6ZXJdIOaWsOeahOW8gOWcuueZveW3sumFjee9ruatjOWNle+8jOWwhuaJp+ihjOKAnOWIm+S4luaSreaUvuKAnS4uLicpO1xuICAgICAgICBhd2FpdCBfaGFuZGxlR2VuZXNpc1BsYXkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ1Byb2JlKCdbSW5pdGlhbGl6ZXJdIOaWsOeahOW8gOWcuueZveacqumFjee9ruatjOWNle+8jOiHquWKqOaSreaUvuW3suWPlua2iOOAgicpO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dQcm9iZShgW0luaXRpYWxpemVyXSDmoLjlv4PliJ3lp4vljJbov4fnqIvkuK3lj5HnlJ/kuKXph43plJnor686ICR7ZXJyb3J9YCwgJ2Vycm9yJyk7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgLy8g5bCG6ZSZ6K+v57un57ut5ZCR5LiK5oqb5Ye677yM5Lul5L6/IHRyeUluaXRpYWxpemUg5Lit55qEIGNhdGNoIOWdl+WPr+S7peaNleiOt+Wug+W5tumAmuefpeWJjeerr1xuICAgIHRocm93IGVycm9yO1xuICB9IGZpbmFsbHkge1xuICAgIGxvZ1Byb2JlKCc9PT0g44CQ5qC45b+Dwrfoh6rmhIjlvI/liJ3lp4vljJbjgJHmiafooYzlrozmr5UgPT09JywgJ2dyb3VwRW5kJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g44CQVjguMiDmoLjlv4PjgJHmkq3mlL7miafooYzlmajjgIJcbiAqICAgICAgICAgICAgICDlroPnmoTljZXkuIDogYzotKPmmK/vvJrmjqXmlLbkuIDkuKrnm67moIfntKLlvJXvvIzlubblsJ3or5Xmkq3mlL7lroPjgIJcbiAqICAgICAgICAgICAgICDlroPkvJrov5Tlm57kuIDkuKogUHJvbWlzZe+8jOaIkOWKn+aXtiByZXNvbHZl77yM5aSx6LSl5pe2IHJlamVjdO+8jOWwhumUmeivr+WGkuazoee7meiwg+eUqOiAheWkhOeQhuOAglxuICogICAgICAgICAgICAgIOWug+iHqui6q+S4jeWMheWQq+S7u+S9lemHjeivleaIluiHquaEiOmAu+i+keOAglxuICovXG5hc3luYyBmdW5jdGlvbiBfZXhlY3V0ZVRyYW5zaXRpb24odGFyZ2V0SW5kZXg6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICBsb2dQcm9iZShgW0V4ZWN1dG9yXSDmlLbliLDmkq3mlL7mjIfku6TvvIznm67moIfntKLlvJU6ICR7dGFyZ2V0SW5kZXh9YCwgJ2dyb3VwJyk7XG5cbiAgY29uc3QgZnJlc2hJdGVtID0gU3RhdGVNYW5hZ2VyLmdldFRvcFF1ZXVlSXRlbSgpO1xuICBpZiAoIWZyZXNoSXRlbSkge1xuICAgIGxvZ1Byb2JlKGBbRXhlY3V0b3JdIOaJp+ihjOS4reatou+8muaXoOacieaViOmYn+WIl+mhuWAsICd3YXJuJyk7XG4gICAgbG9nUHJvYmUoJycsICdncm91cEVuZCcpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIGNvbnN0IHRhcmdldFRyYWNrID0gZnJlc2hJdGVtLnBsYXlsaXN0Q29udGVudFt0YXJnZXRJbmRleF07XG4gIGlmICghdGFyZ2V0VHJhY2s/LnVybCkge1xuICAgIGxvZ1Byb2JlKGBbRXhlY3V0b3JdIOaJp+ihjOWksei0pe+8muWcqOe0ouW8lSAke3RhcmdldEluZGV4fSDlpITmib7kuI3liLDpn7PovajmiJbpn7PovahVUkzml6DmlYjjgIJgLCAnZXJyb3InKTtcbiAgICBsb2dQcm9iZSgnJywgJ2dyb3VwRW5kJyk7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRyYWNrIGF0IGluZGV4ICR7dGFyZ2V0SW5kZXh9YCk7XG4gIH1cblxuICB0cnkge1xuICAgIGF3YWl0IFBsYXliYWNrRW5naW5lLnRyYW5zaXRpb25Ub1RyYWNrKHRhcmdldFRyYWNrLnVybCwgU3RhdGVNYW5hZ2VyLmdldFZvbHVtZSgpKTtcblxuICAgIFN0YXRlTWFuYWdlci5zZXRQbGF5aW5nKHRydWUpO1xuICAgIHByZXBhcmVOZXh0VHJhY2soKTtcbiAgICBsb2dQcm9iZShgW0V4ZWN1dG9yXSDntKLlvJUgJHt0YXJnZXRJbmRleH0g5pKt5pS+5oiQ5Yqf44CCYCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nUHJvYmUoYFtFeGVjdXRvcl0gUGxheWJhY2tFbmdpbmXmiqXlkYrmkq3mlL7lpLHotKXjgILljp/lm6A6ICR7ZXJyb3J9YCwgJ2Vycm9yJyk7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH0gZmluYWxseSB7XG4gICAgbG9nUHJvYmUoJycsICdncm91cEVuZCcpO1xuICB9XG59XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOOAkFY4LjIg5qC45b+D44CR6L+t5Luj5byP6Ieq5oSI5b6q546v44CCXG4gKiAgICAgICAgICAgICAg5q2k5pyA57uI54mI5Lil5qC86YG15a6IIFNSUCDljp/liJnvvIzlsIblhrPnrZblupTnlKjpgLvovpHlrozlhajlp5TmiZjnu5kgX2FwcGx5TmF2aWdhdGlvbkRlY2lzaW9u44CCXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIF9leGVjdXRlU2VsZkhlYWxpbmdMb29wKCk6IFByb21pc2U8dm9pZD4ge1xuICBsb2dQcm9iZSgnW1NlbGZIZWFsXSDlkK/liqjigJzov63ku6PlvI/oh6rmhIjlvqrnjq/igJ0uLi4g5pKt5pS+5Zmo6L+b5YWl57Sn5oCl6Ieq5oSI5qih5byP44CCJywgJ3dhcm4nKTtcblxuICBsZXQgY29uc2VjdXRpdmVGYWlsdXJlcyA9IDE7XG4gIGNvbnN0IGN1cnJlbnRJdGVtRm9yVGhyZXNob2xkID0gU3RhdGVNYW5hZ2VyLmdldFRvcFF1ZXVlSXRlbSgpO1xuICBjb25zdCB0aHJlc2hvbGQgPSBjdXJyZW50SXRlbUZvclRocmVzaG9sZD8ucGxheWxpc3RDb250ZW50Lmxlbmd0aCA/PyAwO1xuXG4gIGlmIChjdXJyZW50SXRlbUZvclRocmVzaG9sZCkge1xuICAgIHRvYXN0ci5lcnJvcihcbiAgICAgIGDmrYzmm7LjgIoke2N1cnJlbnRJdGVtRm9yVGhyZXNob2xkLnBsYXlsaXN0Q29udGVudFtjdXJyZW50SXRlbUZvclRocmVzaG9sZC5jdXJyZW50SW5kZXhdPy7mrYzlkI0gPz8gJ+acquefpeatjOabsid944CL5Yqg6L295aSx6LSl77yM5q2j5Zyo5bCd6K+V6Ieq5Yqo5aSE55CGLi4uYCxcbiAgICApO1xuICB9XG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAodGhyZXNob2xkID4gMCAmJiBjb25zZWN1dGl2ZUZhaWx1cmVzID49IHRocmVzaG9sZCkge1xuICAgICAgbG9nUHJvYmUoXG4gICAgICAgIGBbU2VsZkhlYWxdICjnhpTmlq3lmagpIOi/nue7reWksei0pSAke2NvbnNlY3V0aXZlRmFpbHVyZXN9IOasoe+8jOW3sui+vuWIsOaIlui2hei/h+mYiOWAvCAke3RocmVzaG9sZH3jgILoh6rmhIjkuK3mraLjgIJgLFxuICAgICAgICAnZXJyb3InLFxuICAgICAgKTtcbiAgICAgIGlmIChjdXJyZW50SXRlbUZvclRocmVzaG9sZCkge1xuICAgICAgICB0b2FzdHIuZXJyb3IoYOatjOWNleOAiiR7Y3VycmVudEl0ZW1Gb3JUaHJlc2hvbGQucGxheWxpc3RJZH3jgIvkuK3miYDmnInmrYzmm7LlnYfml6Dms5XliqDovb3vvIzmkq3mlL7lt7LlgZzmraLjgIJgKTtcbiAgICAgIH1cbiAgICAgIFN0YXRlTWFuYWdlci5zZXRQbGF5aW5nKGZhbHNlKTtcbiAgICAgIGJyb2FkY2FzdEZ1bGxTdGF0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRJdGVtID0gU3RhdGVNYW5hZ2VyLmdldFRvcFF1ZXVlSXRlbSgpO1xuICAgIGlmICghY3VycmVudEl0ZW0pIHtcbiAgICAgIGxvZ1Byb2JlKCdbU2VsZkhlYWxdIOiHquaEiOS4reatou+8muS4remAlOmYn+WIl+WPmOepuuOAgicsICd3YXJuJyk7XG4gICAgICBTdGF0ZU1hbmFnZXIuc2V0UGxheWluZyhmYWxzZSk7XG4gICAgICBicm9hZGNhc3RGdWxsU3RhdGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvckRlY2lzaW9uID0gU3RyYXRlZ3lNYW5hZ2VyLmdldEN1cnJlbnRTdHJhdGVneSgpLm9uUGxheWJhY2tFcnJvcihjdXJyZW50SXRlbSk7XG4gICAgbG9nUHJvYmUoXG4gICAgICBgW1NlbGZIZWFsXSDmlLbliLDnrZbnlaUgKCR7U3RyYXRlZ3lNYW5hZ2VyLmdldEN1cnJlbnRTdHJhdGVneSgpLmNvbnN0cnVjdG9yLm5hbWV9KSDnmoTplJnor6/lhrPnrZY6IHsgYWN0aW9uOiAnJHtlcnJvckRlY2lzaW9uLmFjdGlvbn0nIH1gLFxuICAgICk7XG5cbiAgICBjb25zdCBkaXJlY3RpdmUgPSBhd2FpdCBfYXBwbHlOYXZpZ2F0aW9uRGVjaXNpb24oZXJyb3JEZWNpc2lvbik7XG5cbiAgICBpZiAoIWRpcmVjdGl2ZS5uZWVkc0FzeW5jRWZmZWN0KSB7XG4gICAgICBsb2dQcm9iZSgnW1NlbGZIZWFsXSDlhrPnrZblupTnlKjlkI7ml6DpnIDmkq3mlL7vvIzoh6rmhIjkuK3mraLjgIInKTtcbiAgICAgIC8vIOazqOaEj++8mmFwcGx5TmF2aWdhdGlvbkRlY2lzaW9uIOWGhemDqOW3sue7j+WkhOeQhuS6hiBzZXRQbGF5aW5nKGZhbHNlKSDlkozlub/mkq1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyDpmLLlvqHmgKfnvJbnqIvvvJrnoa7kv50gdGFyZ2V0SW5kZXgg5a2Y5ZyoXG4gICAgaWYgKHR5cGVvZiBkaXJlY3RpdmUudGFyZ2V0SW5kZXggIT09ICdudW1iZXInKSB7XG4gICAgICBsb2dQcm9iZSgnW1NlbGZIZWFsXSDlhrPnrZblupTnlKjlkI7pnIDopoHmkq3mlL7vvIzkvYbmsqHmnInmnInmlYjnmoQgdGFyZ2V0SW5kZXjjgILoh6rmhIjkuK3mraLjgIInLCAnZXJyb3InKTtcbiAgICAgIFN0YXRlTWFuYWdlci5zZXRQbGF5aW5nKGZhbHNlKTtcbiAgICAgIGJyb2FkY2FzdEZ1bGxTdGF0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIOatpemqpCA0OiDlho3mrKHlsJ3or5Xmkq3mlL5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgX2V4ZWN1dGVUcmFuc2l0aW9uKGRpcmVjdGl2ZS50YXJnZXRJbmRleCk7XG5cbiAgICAgIGxvZ1Byb2JlKCdbU2VsZkhlYWxdIOaSreaUvuaIkOWKn++8jOiHquaEiOW+queOr+e7k+adn+OAgicsICdsb2cnKTtcbiAgICAgIGJyb2FkY2FzdEZ1bGxTdGF0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gY2F0Y2ggKG5leHRFcnJvcikge1xuICAgICAgY29uc2VjdXRpdmVGYWlsdXJlcysrO1xuICAgICAgY29uc3QgbmV4dFRvcEl0ZW0gPSBTdGF0ZU1hbmFnZXIuZ2V0VG9wUXVldWVJdGVtKCk7XG4gICAgICBjb25zdCBuZXh0VHJhY2tUaXRsZSA9IG5leHRUb3BJdGVtPy5wbGF5bGlzdENvbnRlbnRbbmV4dFRvcEl0ZW0uY3VycmVudEluZGV4XT8u5q2M5ZCNID8/ICfmnKrnn6XmrYzmm7InO1xuICAgICAgbG9nUHJvYmUoYFtTZWxmSGVhbF0g56ysICR7Y29uc2VjdXRpdmVGYWlsdXJlc30g5qyh5pKt5pS+5aSx6LSlOmAsICdlcnJvcicpO1xuICAgICAgY29uc29sZS5lcnJvcihuZXh0RXJyb3IpO1xuICAgICAgdG9hc3RyLmVycm9yKGDkuIvkuIDpppbjgIoke25leHRUcmFja1RpdGxlfeOAi+WKoOi9veWksei0pS4uLmApO1xuICAgIH1cbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBfYXBwbHlOYXZpZ2F0aW9uRGVjaXNpb24oXG4gIGRlY2lzaW9uOiBTdHJhdGVneURlY2lzaW9uLFxuKTogUHJvbWlzZTx7IG5lZWRzQXN5bmNFZmZlY3Q6IGJvb2xlYW47IHRhcmdldEluZGV4PzogbnVtYmVyIH0+IHtcbiAgbG9nUHJvYmUoXG4gICAgYFtDZW50cmFsQ29tbWFuZF0g5q2j5Zyo5bqU55So562W55Wl5Yaz562WOiB7IGFjdGlvbjogJyR7ZGVjaXNpb24uYWN0aW9ufScsIG5leHRJbmRleDogJHtkZWNpc2lvbi5uZXh0SW5kZXggPz8gJ04vQSd9IH1gLFxuICAgICdncm91cCcsXG4gICk7XG5cbiAgbGV0IG5lZWRzQXN5bmNFZmZlY3QgPSBmYWxzZTtcbiAgbGV0IHRhcmdldEluZGV4OiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3QgY3VycmVudEl0ZW0gPSBTdGF0ZU1hbmFnZXIuZ2V0VG9wUXVldWVJdGVtKCk7XG5cbiAgc3dpdGNoIChkZWNpc2lvbi5hY3Rpb24pIHtcbiAgICBjYXNlICdHb1RvJzoge1xuICAgICAgaWYgKHR5cGVvZiBkZWNpc2lvbi5uZXh0SW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgIGxvZ1Byb2JlKCdbQ2VudHJhbENvbW1hbmRdIOaMh+S7pDogR29Ub+OAguaPkOS6pOWvvOiIquatpemqpC4uLicpO1xuICAgICAgICBTdGF0ZU1hbmFnZXIuY29tbWl0TmF2aWdhdGlvblN0ZXAoZGVjaXNpb24ubmV4dEluZGV4KTtcbiAgICAgICAgbmVlZHNBc3luY0VmZmVjdCA9IHRydWU7XG4gICAgICAgIHRhcmdldEluZGV4ID0gZGVjaXNpb24ubmV4dEluZGV4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nUHJvYmUoJ1tDZW50cmFsQ29tbWFuZF0g6Ie05ZG96YC76L6R6ZSZ6K+vOiBHb1RvIOaMh+S7pOe8uuWwkSBuZXh0SW5kZXjvvIHov5nmmK/kuIDkuKrnrZbnlaXmqKHlnZfnmoRCVUfjgIInLCAnZXJyb3InKTtcbiAgICAgICAgY29uc29sZS5lcnJvcign5o6i6ZKI5o2V6I6377ya6ZSZ6K+v55qE5Yaz562W5a+56LGhOicsIGRlY2lzaW9uKTtcbiAgICAgICAgY29uc29sZS5lcnJvcign5o6i6ZKI5o2V6I6377ya5Y+R55Sf6ZSZ6K+v5pe255qE5pKt5pS+5Zmo54q25oCBOicsIFN0YXRlTWFuYWdlci5nZXRTdGF0ZVNuYXBzaG90Rm9yUnVudGltZSgpKTtcbiAgICAgICAgbmVlZHNBc3luY0VmZmVjdCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY2FzZSAnUmVzdGFydCc6IHtcbiAgICAgIGxvZ1Byb2JlKCdbQ2VudHJhbENvbW1hbmRdIOaMh+S7pDogUmVzdGFydOOAguivt+axguS7juWktOmHjeaSreW9k+WJjei9qOmBk+OAgicpO1xuICAgICAgaWYgKGN1cnJlbnRJdGVtKSB7XG4gICAgICAgIGxvZ1Byb2JlKCdbQ2VudHJhbENvbW1hbmRdICjmjqLpkogpIOatpOWGs+etluS4jeaUueWPmOeKtuaAgee0ouW8le+8jOS7heeUn+aIkOS4gOS4quaViOaenOaMh+S7pOOAgicpO1xuICAgICAgICBuZWVkc0FzeW5jRWZmZWN0ID0gdHJ1ZTtcbiAgICAgICAgdGFyZ2V0SW5kZXggPSBjdXJyZW50SXRlbS5jdXJyZW50SW5kZXg7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBjYXNlICdSZW1vdmVUb3BBbmRBZHZhbmNlJzoge1xuICAgICAgbG9nUHJvYmUoJ1tDZW50cmFsQ29tbWFuZF0g5oyH5LukOiBSZW1vdmVUb3BBbmRBZHZhbmNl44CC5q2j5Zyo5omn6KGM44CQ6Ieq5rS95byP44CR6Zif5YiX5L+u5pS55LiO6L+H5rihLi4uJyk7IC8vIFvkv67mlLldIOaXpeW/l+WGheWuuVxuICAgICAgY29uc3QgY3VycmVudFF1ZXVlID0gU3RhdGVNYW5hZ2VyLmdldFF1ZXVlKCk7XG5cbiAgICAgIGNvbnN0IHBvcHBlZEl0ZW0gPSBjdXJyZW50UXVldWUuc2hpZnQoKTtcbiAgICAgIGxvZ1Byb2JlKGAo5o6i6ZKIKSDlt7Lku47pmJ/liJfkuK3np7vpmaQ6IFwiJHtwb3BwZWRJdGVtPy5wbGF5bGlzdElkfVwiYCk7XG5cbiAgICAgIFN0YXRlTWFuYWdlci51cGRhdGVRdWV1ZShjdXJyZW50UXVldWUpO1xuXG4gICAgICBsb2dQcm9iZSgnW0NlbnRyYWxDb21tYW5kXSAo5o+h5omLKSDmraPlnKjpgJrnn6UgU3RyYXRlZ3lNYW5hZ2VyIOmYn+WIl+W3suWPmOabtC4uLicpO1xuICAgICAgU3RyYXRlZ3lNYW5hZ2VyLm5vdGlmeVF1ZXVlQ2hhbmdlZCgpO1xuXG4gICAgICBjb25zdCBuZXdUb3BJdGVtID0gU3RhdGVNYW5hZ2VyLmdldFRvcFF1ZXVlSXRlbSgpO1xuICAgICAgaWYgKG5ld1RvcEl0ZW0pIHtcbiAgICAgICAgbG9nUHJvYmUoYCjlhrPnrZYpIOaWsOmYn+mmluS4uiBcIiR7bmV3VG9wSXRlbS5wbGF5bGlzdElkfVwi77yM5YeG5aSH6L+H5rih5Yiw5YW25b2T5YmN57Si5byVOiAke25ld1RvcEl0ZW0uY3VycmVudEluZGV4fWApO1xuICAgICAgICBuZWVkc0FzeW5jRWZmZWN0ID0gdHJ1ZTtcbiAgICAgICAgdGFyZ2V0SW5kZXggPSBuZXdUb3BJdGVtLmN1cnJlbnRJbmRleDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ1Byb2JlKCco5Yaz562WKSDpmJ/liJflt7LnqbrvvIzlgZzmraLmkq3mlL7jgIInKTtcbiAgICAgICAgU3RhdGVNYW5hZ2VyLnNldFBsYXlpbmcoZmFsc2UpO1xuICAgICAgICBuZWVkc0FzeW5jRWZmZWN0ID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNhc2UgJ0xvb3BSZXNldCc6IHtcbiAgICAgIGxvZ1Byb2JlKCdbQ2VudHJhbENvbW1hbmRdIOaMh+S7pDogTG9vcFJlc2V044CC5omn6KGM4oCc5oyH5oyl5a625qih5Z6L4oCdLi4uJywgJ3dhcm4nKTtcbiAgICAgIFN0YXRlTWFuYWdlci5yZXNldEN1cnJlbnRJdGVtRm9yTG9vcCgpO1xuICAgICAgY29uc3QgY3VycmVudE1vZGUgPSBTdGF0ZU1hbmFnZXIuZ2V0UGxheWJhY2tNb2RlKCk7XG4gICAgICBpZiAoY3VycmVudE1vZGUgPT09ICdyYW5kb20nKSB7XG4gICAgICAgIGxvZ1Byb2JlKCco5oyH5oylKSDmo4DmtYvliLDpmo/mnLrmqKHlvI/vvIzlkJHkvZzmm7LlrrbntKLopoHmlrDkuZDosLEuLi4nKTtcbiAgICAgICAgY29uc3QgZ2VuZXNpc1BsYW4gPSAoU3RyYXRlZ3lNYW5hZ2VyLmdldEN1cnJlbnRTdHJhdGVneSgpIGFzIFJhbmRvbVN0cmF0ZWd5KS5wcmVwYXJlR2VuZXNpcyhcbiAgICAgICAgICBTdGF0ZU1hbmFnZXIuZ2V0VG9wUXVldWVJdGVtKCksXG4gICAgICAgICk7XG4gICAgICAgIGlmIChnZW5lc2lzUGxhbikge1xuICAgICAgICAgIFN0YXRlTWFuYWdlci5jb21taXRHZW5lc2lzU3RhdGUoXG4gICAgICAgICAgICBnZW5lc2lzUGxhbi5uZXdDdXJyZW50SW5kZXgsXG4gICAgICAgICAgICBnZW5lc2lzUGxhbi5uZXdQbGF5YmFja1BsYW4sXG4gICAgICAgICAgICBnZW5lc2lzUGxhbi5uZXdQbGFuSW5kZXgsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZmluYWxTdGFydEluZGV4ID0gU3RhdGVNYW5hZ2VyLmdldFRvcFF1ZXVlSXRlbSgpPy5jdXJyZW50SW5kZXggPz8gMDtcbiAgICAgIGxvZ1Byb2JlKGAo5oyH5oylKSDmtYHnqIvlrozmiJDjgILmnIDnu4jnoa7lrprnmoTmlrDotbflp4vntKLlvJXkuLo6ICR7ZmluYWxTdGFydEluZGV4fWApO1xuICAgICAgbmVlZHNBc3luY0VmZmVjdCA9IHRydWU7XG4gICAgICB0YXJnZXRJbmRleCA9IGZpbmFsU3RhcnRJbmRleDtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNhc2UgJ1N0b3AnOiB7XG4gICAgICBsb2dQcm9iZSgnW0NlbnRyYWxDb21tYW5kXSDmjIfku6Q6IFN0b3DjgILlgZzmraLmkq3mlL7jgIInKTtcbiAgICAgIFN0YXRlTWFuYWdlci5zZXRQbGF5aW5nKGZhbHNlKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNhc2UgJ0RvTm90aGluZyc6XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ1Byb2JlKGBbQ2VudHJhbENvbW1hbmRdIOaMh+S7pDogRG9Ob3RoaW5n44CC5peg54q25oCB5Y+Y5pu044CCYCk7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGlmIChkZWNpc2lvbi5hY3Rpb24gIT09ICdSZW1vdmVUb3BBbmRBZHZhbmNlJykge1xuICAgIGJyb2FkY2FzdEZ1bGxTdGF0ZSgpO1xuICB9XG5cbiAgY29uc3QgZGlyZWN0aXZlID0geyBuZWVkc0FzeW5jRWZmZWN0LCB0YXJnZXRJbmRleCB9O1xuICBsb2dQcm9iZShcbiAgICBgW0NlbnRyYWxDb21tYW5kXSDlhrPnrZblupTnlKjlrozmiJDjgILov5Tlm57mjIfku6Q6IHsgbmVlZHNBc3luY0VmZmVjdDogJHtkaXJlY3RpdmUubmVlZHNBc3luY0VmZmVjdH0sIHRhcmdldEluZGV4OiAke2RpcmVjdGl2ZS50YXJnZXRJbmRleCA/PyAnTi9BJ30gfWAsXG4gICk7XG4gIGxvZ1Byb2JlKCcnLCAnZ3JvdXBFbmQnKTtcbiAgcmV0dXJuIGRpcmVjdGl2ZTtcbn1cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gW1Y5LjYg5YeA5YyWXSDph4rmlL7mlYjmnpzplIHlubblub/mkq3mnIDnu4jnirbmgIHjgIJcbiAqICAgICAgICAgICAgICDov5nmmK/miYDmnInlvILmraXmjqfliLblmaggZmluYWxseSDlnZfkuK3nmoTmoIflh4bigJzosKLluZXigJ3nqIvluo/jgIJcbiAqL1xuYXN5bmMgZnVuY3Rpb24gX3JlbGVhc2VFZmZlY3RMb2NrKCkge1xuICAvLyDmjqLpkog6IOiusOW9lemUgemHiuaUvueahOWKqOS9nO+8jOi/meWvueS6juiwg+ivlVVJ5Y2h5q276Zeu6aKY6Iez5YWz6YeN6KaBXG4gIGxvZ1Byb2JlKCdbTG9ja01hbmFnZXJdIOato+WcqOmHiuaUvuaViOaenOmUgeW5tuW5v+aSreacgOe7iOeKtuaAgS4uLicpO1xuXG4gIFN0YXRlTWFuYWdlci5zZXRQZXJmb3JtaW5nRWZmZWN0KGZhbHNlKTtcbiAgYnJvYWRjYXN0RnVsbFN0YXRlKCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9oYW5kbGVUcmFja0VuZGVkKCkge1xuICBsb2dQcm9iZSgnW0NvbnRyb2xsZXI6VHJhY2tFbmRdID09PSDlvIDlp4vlpITnkIbovajpgZPoh6rnhLbnu5PmnZ/kuovku7YgPT09JywgJ2dyb3VwJyk7XG4gIGlmIChTdGF0ZU1hbmFnZXIuaXNQZXJmb3JtaW5nRWZmZWN0KCkpIHtcbiAgICBsb2dQcm9iZSgnW0NvbnRyb2xsZXI6VHJhY2tFbmRdIOivt+axguiiq+aLkue7ne+8jOWboOS4uuaViOaenOato+WcqOaJp+ihjOOAgicsICd3YXJuJyk7XG4gICAgbG9nUHJvYmUoJycsICdncm91cEVuZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGN1cnJlbnRJdGVtID0gU3RhdGVNYW5hZ2VyLmdldFRvcFF1ZXVlSXRlbSgpO1xuICBpZiAoIWN1cnJlbnRJdGVtKSB7XG4gICAgbG9nUHJvYmUoJ1tDb250cm9sbGVyOlRyYWNrRW5kXSDor7fmsYLkuK3mraLvvJrpmJ/liJfkuLrnqbrjgIInKTtcbiAgICBsb2dQcm9iZSgnJywgJ2dyb3VwRW5kJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBTdGF0ZU1hbmFnZXIuc2V0UGVyZm9ybWluZ0VmZmVjdCh0cnVlKTtcbiAgICBicm9hZGNhc3RGdWxsU3RhdGUoKTtcblxuICAgIGNvbnN0IGRlY2lzaW9uID0gU3RyYXRlZ3lNYW5hZ2VyLmdldEN1cnJlbnRTdHJhdGVneSgpLm9uVHJhY2tFbmQoY3VycmVudEl0ZW0pO1xuICAgIGNvbnN0IGRpcmVjdGl2ZSA9IGF3YWl0IF9hcHBseU5hdmlnYXRpb25EZWNpc2lvbihkZWNpc2lvbik7XG5cbiAgICBpZiAoZGlyZWN0aXZlLm5lZWRzQXN5bmNFZmZlY3QgJiYgdHlwZW9mIGRpcmVjdGl2ZS50YXJnZXRJbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgIGF3YWl0IF9leGVjdXRlVHJhbnNpdGlvbihkaXJlY3RpdmUudGFyZ2V0SW5kZXgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dQcm9iZShgW0NvbnRyb2xsZXI6VHJhY2tFbmRdIOWcqOaJp+ihjOaViOaenOaXtuaNleiOt+WIsOmUmeivr++8jOWwhuWQr+WKqOiHquaEiOW+queOry4uLmAsICdlcnJvcicpO1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIGF3YWl0IF9leGVjdXRlU2VsZkhlYWxpbmdMb29wKCk7XG4gIH0gZmluYWxseSB7XG4gICAgYXdhaXQgX3JlbGVhc2VFZmZlY3RMb2NrKCk7XG4gICAgYXdhaXQgd3JpdGVTdGF0ZSgndHJhY2tFbmRlZCcpO1xuICAgIGxvZ1Byb2JlKCdbQ29udHJvbGxlcjpUcmFja0VuZF0gPT09IOi9qOmBk+e7k+adn+S6i+S7tuWkhOeQhuWujOavlSAo6ZSB5bey6YCa6L+H6LCD5bqm5Zmo6YeK5pS+KSA9PT0nLCAnZ3JvdXBFbmQnKTtcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gOC4g5YWo5bGAQVBJ5LiO5LqL5Lu257O757ufIChHbG9iYWwgQVBJICYgRXZlbnQgU3lzdGVtKVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuYXN5bmMgZnVuY3Rpb24gX2hhbmRsZU5hdmlnYXRpb24oZGlyZWN0aW9uOiAnbmV4dCcgfCAncHJldicpIHtcbiAgbG9nUHJvYmUoYFtDb250cm9sbGVyOk5hdl0gPT09IOW8gOWni+WkhOeQhueUqOaIt+WvvOiIquS6i+S7tiAo5pa55ZCROiAke2RpcmVjdGlvbn0pID09PWAsICdncm91cCcpO1xuICBpZiAoU3RhdGVNYW5hZ2VyLmlzUGVyZm9ybWluZ0VmZmVjdCgpKSB7XG4gICAgbG9nUHJvYmUoYFtDb250cm9sbGVyOk5hdl0g6K+35rGC6KKr5ouS57ud77yM5Zug5Li65pWI5p6c5q2j5Zyo5omn6KGM44CCYCwgJ3dhcm4nKTtcbiAgICBsb2dQcm9iZSgnJywgJ2dyb3VwRW5kJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgY3VycmVudEl0ZW0gPSBTdGF0ZU1hbmFnZXIuZ2V0VG9wUXVldWVJdGVtKCk7XG4gIGlmICghY3VycmVudEl0ZW0pIHtcbiAgICBsb2dQcm9iZShgW0NvbnRyb2xsZXI6TmF2XSDor7fmsYLkuK3mraLvvJrpmJ/liJfkuLrnqbrjgIJgKTtcbiAgICBsb2dQcm9iZSgnJywgJ2dyb3VwRW5kJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBTdGF0ZU1hbmFnZXIuc2V0UGVyZm9ybWluZ0VmZmVjdCh0cnVlKTtcbiAgICBicm9hZGNhc3RGdWxsU3RhdGUoKTtcblxuICAgIGNvbnN0IGRlY2lzaW9uID0gU3RyYXRlZ3lNYW5hZ2VyLmdldEN1cnJlbnRTdHJhdGVneSgpLmFkdmFuY2UoY3VycmVudEl0ZW0sIGRpcmVjdGlvbik7XG4gICAgY29uc3QgZGlyZWN0aXZlID0gYXdhaXQgX2FwcGx5TmF2aWdhdGlvbkRlY2lzaW9uKGRlY2lzaW9uKTtcblxuICAgIGxvZ1Byb2JlKFxuICAgICAgYFtDb250cm9sbGVyOk5hdl0gKOaOoumSiCkg5Y6f5aeL5Yaz562WOiAke2RlY2lzaW9uLmFjdGlvbn0sIOWkhOeQhuaMh+S7pDogbmVlZHNBc3luY0VmZmVjdD0ke2RpcmVjdGl2ZS5uZWVkc0FzeW5jRWZmZWN0fWAsXG4gICAgKTtcblxuICAgIGlmIChkZWNpc2lvbi5hY3Rpb24gPT09ICdSZXN0YXJ0Jykge1xuICAgICAgbG9nUHJvYmUoYFtDb250cm9sbGVyOk5hdl0g5qOA5rWL5YiwIFJlc3RhcnQg5Yaz562W77yM5omn6KGMIHNlZWsoMCkg5pWI5p6c44CCYCk7XG4gICAgICBjb25zdCBhY3RpdmVQbGF5ZXIgPSBQbGF5YmFja0VuZ2luZS5nZXRBY3RpdmVQbGF5ZXIoKTtcbiAgICAgIGlmIChhY3RpdmVQbGF5ZXIpIGFjdGl2ZVBsYXllci5jdXJyZW50VGltZSA9IDA7XG4gICAgICBpZiAoU3RhdGVNYW5hZ2VyLmdldFBsYXliYWNrTW9kZSgpICE9PSAnc2luZ2xlJykge1xuICAgICAgICB0b2FzdHIuaW5mbygn5bey5piv56ys5LiA6aaWJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkaXJlY3RpdmUubmVlZHNBc3luY0VmZmVjdCAmJiB0eXBlb2YgZGlyZWN0aXZlLnRhcmdldEluZGV4ID09PSAnbnVtYmVyJykge1xuICAgICAgYXdhaXQgX2V4ZWN1dGVUcmFuc2l0aW9uKGRpcmVjdGl2ZS50YXJnZXRJbmRleCk7XG4gICAgfSBlbHNlIGlmIChkZWNpc2lvbi5hY3Rpb24gPT09ICdEb05vdGhpbmcnKSB7XG4gICAgICB0b2FzdHIuaW5mbyhkaXJlY3Rpb24gPT09ICduZXh0JyA/ICflt7LmmK/mrYzljZXmnIDlkI7kuIDpppbjgIInIDogJ+W3suaYr+atjOWNleesrOS4gOmmluOAgicpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dQcm9iZShgW0NvbnRyb2xsZXI6TmF2XSDlnKjmiafooYzmlYjmnpzml7bmjZXojrfliLDplJnor6/vvIzlsIblkK/liqjoh6rmhIjlvqrnjq8uLi5gLCAnZXJyb3InKTtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICBhd2FpdCBfZXhlY3V0ZVNlbGZIZWFsaW5nTG9vcCgpO1xuICB9IGZpbmFsbHkge1xuICAgIGF3YWl0IF9yZWxlYXNlRWZmZWN0TG9jaygpO1xuICAgIGF3YWl0IHdyaXRlU3RhdGUoJ25hdmlnYXRpb24nKTtcbiAgICBsb2dQcm9iZShgW0NvbnRyb2xsZXI6TmF2XSA9PT0g55So5oi35a+86Iiq5LqL5Lu25aSE55CG5a6M5q+VICjplIHlt7LpgJrov4fosIPluqblmajph4rmlL4pID09PWAsICdncm91cEVuZCcpO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9oYW5kbGVHZW5lc2lzUGxheSgpIHtcbiAgaWYgKFN0YXRlTWFuYWdlci5pc1BlcmZvcm1pbmdFZmZlY3QoKSkge1xuICAgIGxvZ1Byb2JlKCdbQ29udHJvbGxlcjpHZW5lc2lzXSDor7fmsYLooqvmi5Lnu53vvIzlm6DkuLrmlYjmnpzmraPlnKjmiafooYzjgIInLCAnd2FybicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGN1cnJlbnRJdGVtID0gU3RhdGVNYW5hZ2VyLmdldFRvcFF1ZXVlSXRlbSgpO1xuICBpZiAoIWN1cnJlbnRJdGVtKSB7XG4gICAgbG9nUHJvYmUoJ1tDb250cm9sbGVyOkdlbmVzaXNdIOivt+axguS4reatou+8muaSreaUvuWIl+ihqOS4uuepuuOAgicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRyeSB7XG4gICAgU3RhdGVNYW5hZ2VyLnNldFBlcmZvcm1pbmdFZmZlY3QodHJ1ZSk7XG4gICAgbG9nUHJvYmUoYFtDb250cm9sbGVyOkdlbmVzaXNdID09PSDigJzliJvkuJbmkq3mlL7igJ3mlYjmnpzlvIDlp4sgKOebruagh+e0ouW8lTogJHtjdXJyZW50SXRlbS5jdXJyZW50SW5kZXh9KSA9PT1gLCAnZ3JvdXAnKTtcblxuICAgIFN0YXRlTWFuYWdlci5zZXRQbGF5aW5nKHRydWUpO1xuXG4gICAgYnJvYWRjYXN0RnVsbFN0YXRlKCk7XG5cbiAgICBhd2FpdCBfZXhlY3V0ZVRyYW5zaXRpb24oY3VycmVudEl0ZW0uY3VycmVudEluZGV4KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dQcm9iZShgW0NvbnRyb2xsZXI6R2VuZXNpc10g4oCc5Yib5LiW5pKt5pS+4oCd5pWI5p6c5omn6KGM5pe25Y+R55Sf5oSP5aSW6aG25bGC6ZSZ6K+vOiAke2Vycm9yfWAsICdlcnJvcicpO1xuICAgIFN0YXRlTWFuYWdlci5zZXRQbGF5aW5nKGZhbHNlKTtcbiAgICBicm9hZGNhc3RGdWxsU3RhdGUoKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBhd2FpdCBfcmVsZWFzZUVmZmVjdExvY2soKTtcbiAgICBhd2FpdCB3cml0ZVN0YXRlKCdnZW5lc2lzUGxheScpO1xuICAgIGxvZ1Byb2JlKGBbQ29udHJvbGxlcjpHZW5lc2lzXSA9PT0g4oCc5Yib5LiW5pKt5pS+4oCd5pWI5p6c57uT5p2fICjplIHlt7LpgJrov4fosIPluqblmajph4rmlL4pID09PWAsICdncm91cEVuZCcpO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9oYW5kbGVQbGF5SW5kZXgoaW5kZXg6IG51bWJlcikge1xuICBsb2dQcm9iZShgW0NvbnRyb2xsZXI6UGxheUluZGV4XSA9PT0g5byA5aeL5aSE55CG57Si5byV5pKt5pS+5LqL5Lu2ICjnm67moIc6ICR7aW5kZXh9KSA9PT1gLCAnZ3JvdXAnKTtcbiAgaWYgKFN0YXRlTWFuYWdlci5pc1BlcmZvcm1pbmdFZmZlY3QoKSkge1xuICAgIGxvZ1Byb2JlKGBbQ29udHJvbGxlcjpQbGF5SW5kZXhdIOivt+axguiiq+aLkue7ne+8jOWboOS4uuaViOaenOato+WcqOaJp+ihjOOAgmAsICd3YXJuJyk7XG4gICAgbG9nUHJvYmUoJycsICdncm91cEVuZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRyeSB7XG4gICAgU3RhdGVNYW5hZ2VyLnNldFBlcmZvcm1pbmdFZmZlY3QodHJ1ZSk7XG4gICAgYnJvYWRjYXN0RnVsbFN0YXRlKCk7XG5cbiAgICBjb25zdCBjdXJyZW50SXRlbSA9IFN0YXRlTWFuYWdlci5nZXRUb3BRdWV1ZUl0ZW0oKTtcbiAgICBjb25zdCBjdXJyZW50TW9kZSA9IFN0YXRlTWFuYWdlci5nZXRQbGF5YmFja01vZGUoKTtcblxuICAgIGlmIChjdXJyZW50SXRlbSAmJiBpbmRleCA9PT0gY3VycmVudEl0ZW0uY3VycmVudEluZGV4KSB7XG4gICAgICBsb2dQcm9iZShgW0NvbnRyb2xsZXI6UGxheUluZGV4XSAo5Yaz562WKSDnlKjmiLfngrnlh7vkuoblvZPliY3mrYzmm7LvvIzlsIbku47lpLTph43mkq3jgIJgKTtcbiAgICAgIGNvbnN0IGFjdGl2ZVBsYXllciA9IFBsYXliYWNrRW5naW5lLmdldEFjdGl2ZVBsYXllcigpO1xuICAgICAgaWYgKGFjdGl2ZVBsYXllcikgYWN0aXZlUGxheWVyLmN1cnJlbnRUaW1lID0gMDtcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRNb2RlID09PSAnbGlzdCcgfHwgY3VycmVudE1vZGUgPT09ICdzaW5nbGUnKSB7XG4gICAgICBsb2dQcm9iZShgW0NvbnRyb2xsZXI6UGxheUluZGV4XSAo5Yaz562WKSAke2N1cnJlbnRNb2RlfSDmqKHlvI/vvIzmiafooYzmoIflh4bot7PovawuLi5gKTtcbiAgICAgIFN0YXRlTWFuYWdlci5zZXRDdXJyZW50SW5kZXgoaW5kZXgpO1xuICAgICAgYXdhaXQgX2V4ZWN1dGVUcmFuc2l0aW9uKGluZGV4KTtcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRNb2RlID09PSAncmFuZG9tJykge1xuICAgICAgbG9nUHJvYmUoYFtDb250cm9sbGVyOlBsYXlJbmRleF0gKOWGs+etlikgcmFuZG9tIOaooeW8j++8jOaJp+ihjOKAnOeUqOaIt+i3s+i9rOKAnemrmOe6p+mAu+i+kS4uLmApO1xuICAgICAgU3RhdGVNYW5hZ2VyLnVzZXJJbml0aWF0ZWRKdW1wKGluZGV4KTtcbiAgICAgIGF3YWl0IF9leGVjdXRlVHJhbnNpdGlvbihpbmRleCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ1Byb2JlKGBbQ29udHJvbGxlcjpQbGF5SW5kZXhdIOWcqOaJp+ihjOaViOaenOaXtuaNleiOt+WIsOmUmeivr++8jOWwhuWQr+WKqOiHquaEiOW+queOry4uLmAsICdlcnJvcicpO1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIGF3YWl0IF9leGVjdXRlU2VsZkhlYWxpbmdMb29wKCk7XG4gIH0gZmluYWxseSB7XG4gICAgYXdhaXQgX3JlbGVhc2VFZmZlY3RMb2NrKCk7XG4gICAgYXdhaXQgd3JpdGVTdGF0ZSgncGxheUluZGV4Jyk7XG4gICAgbG9nUHJvYmUoYFtDb250cm9sbGVyOlBsYXlJbmRleF0gPT09IOe0ouW8leaSreaUvuS6i+S7tuWkhOeQhuWujOavlSAo6ZSB5bey6YCa6L+H6LCD5bqm5Zmo6YeK5pS+KSA9PT1gLCAnZ3JvdXBFbmQnKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiB0b2dnbGVQbGF5UGF1c2UoKSB7XG4gIGxvZ1Byb2JlKCdbQ29udHJvbGxlcjpUb2dnbGVdID09PSDlvIDlp4vlpITnkIbmkq3mlL4v5pqC5YGc5YiH5o2i5LqL5Lu2ID09PScsICdncm91cCcpO1xuICBpZiAoU3RhdGVNYW5hZ2VyLmlzUGVyZm9ybWluZ0VmZmVjdCgpKSB7XG4gICAgbG9nUHJvYmUoJ1tDb250cm9sbGVyOlRvZ2dsZV0g6K+35rGC6KKr5ouS57ud77yM5Zug5Li65pWI5p6c5q2j5Zyo5omn6KGM44CCJywgJ3dhcm4nKTtcbiAgICBsb2dQcm9iZSgnJywgJ2dyb3VwRW5kJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGN1cnJlbnRJdGVtID0gU3RhdGVNYW5hZ2VyLmdldFRvcFF1ZXVlSXRlbSgpO1xuICBpZiAoIWN1cnJlbnRJdGVtKSB7XG4gICAgbG9nUHJvYmUoJ1tDb250cm9sbGVyOlRvZ2dsZV0g6K+35rGC5Lit5q2i77ya5pKt5pS+5YiX6KGo5Li656m644CCJyk7XG4gICAgdG9hc3RyLmluZm8oJ+aSreaUvuWIl+ihqOS4uuepuicpO1xuICAgIGxvZ1Byb2JlKCcnLCAnZ3JvdXBFbmQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0cnkge1xuICAgIFN0YXRlTWFuYWdlci5zZXRQZXJmb3JtaW5nRWZmZWN0KHRydWUpO1xuICAgIGJyb2FkY2FzdEZ1bGxTdGF0ZSgpO1xuXG4gICAgbGV0IGRlY2lzaW9uOiB7IGFjdGlvbjogJ3BhdXNlJyB8ICdyZXN1bWUnIHwgJ3BsYXlOZXcnOyB0YXJnZXRJbmRleD86IG51bWJlciB9O1xuICAgIGNvbnN0IGFjdGl2ZVBsYXllciA9IFBsYXliYWNrRW5naW5lLmdldEFjdGl2ZVBsYXllcigpO1xuICAgIGNvbnN0IGxvZ2ljYWxJbmRleCA9IGN1cnJlbnRJdGVtLmN1cnJlbnRJbmRleDtcbiAgICBjb25zdCBwaHlzaWNhbFNyYyA9IGFjdGl2ZVBsYXllcj8uc3JjO1xuICAgIGNvbnN0IGxvZ2ljYWxTcmMgPSBjdXJyZW50SXRlbS5wbGF5bGlzdENvbnRlbnRbbG9naWNhbEluZGV4XT8udXJsO1xuXG4gICAgaWYgKFN0YXRlTWFuYWdlci5pc1BsYXlpbmcoKSkge1xuICAgICAgZGVjaXNpb24gPSB7IGFjdGlvbjogJ3BhdXNlJyB9O1xuICAgIH0gZWxzZSBpZiAoYWN0aXZlUGxheWVyICYmIHBoeXNpY2FsU3JjID09PSBsb2dpY2FsU3JjICYmIGFjdGl2ZVBsYXllci5jdXJyZW50VGltZSA+IDApIHtcbiAgICAgIGRlY2lzaW9uID0geyBhY3Rpb246ICdyZXN1bWUnIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlY2lzaW9uID0geyBhY3Rpb246ICdwbGF5TmV3JywgdGFyZ2V0SW5kZXg6IGxvZ2ljYWxJbmRleCB9O1xuICAgIH1cblxuICAgIGlmIChkZWNpc2lvbi5hY3Rpb24gIT09ICdwYXVzZScpIFN0YXRlTWFuYWdlci5zZXRQbGF5aW5nKHRydWUpO1xuICAgIGVsc2UgU3RhdGVNYW5hZ2VyLnNldFBsYXlpbmcoZmFsc2UpO1xuXG4gICAgYnJvYWRjYXN0RnVsbFN0YXRlKCk7XG5cbiAgICBzd2l0Y2ggKGRlY2lzaW9uLmFjdGlvbikge1xuICAgICAgY2FzZSAncGF1c2UnOlxuICAgICAgICBhd2FpdCBQbGF5YmFja0VuZ2luZS5mYWRlT3V0QW5kUGF1c2UoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZXN1bWUnOlxuICAgICAgICBhd2FpdCBQbGF5YmFja0VuZ2luZS5yZXN1bWVBbmRGYWRlSW4oU3RhdGVNYW5hZ2VyLmdldFZvbHVtZSgpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwbGF5TmV3JzpcbiAgICAgICAgaWYgKHR5cGVvZiBkZWNpc2lvbi50YXJnZXRJbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBhd2FpdCBfZXhlY3V0ZVRyYW5zaXRpb24oZGVjaXNpb24udGFyZ2V0SW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dQcm9iZShgW0NvbnRyb2xsZXI6VG9nZ2xlXSDlnKjmiafooYzmlYjmnpzml7bmjZXojrfliLDplJnor6/vvIzlsIblkK/liqjoh6rmhIjlvqrnjq8uLi5gLCAnZXJyb3InKTtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICBhd2FpdCBfZXhlY3V0ZVNlbGZIZWFsaW5nTG9vcCgpO1xuICB9IGZpbmFsbHkge1xuICAgIGF3YWl0IF9yZWxlYXNlRWZmZWN0TG9jaygpO1xuICAgIGF3YWl0IHdyaXRlU3RhdGUoJ3RvZ2dsZVBsYXlQYXVzZScpO1xuICAgIGxvZ1Byb2JlKCdbQ29udHJvbGxlcjpUb2dnbGVdID09PSDmkq3mlL4v5pqC5YGc5YiH5o2i5LqL5Lu25aSE55CG5a6M5q+VICjplIHlt7LpgJrov4fosIPluqblmajph4rmlL4pID09PScsICdncm91cEVuZCcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBsYXlOZXh0KCkge1xuICB2b2lkIF9oYW5kbGVOYXZpZ2F0aW9uKCduZXh0Jyk7XG59XG5cbmZ1bmN0aW9uIHBsYXlQcmV2KCkge1xuICB2b2lkIF9oYW5kbGVOYXZpZ2F0aW9uKCdwcmV2Jyk7XG59XG5cbmZ1bmN0aW9uIHNldHVwR2xvYmFsQVBJKCkge1xuICB3aW5kb3cubXVzaWNQbGF5ZXJBUEkgPSB7XG4gICAgcmVxdWVzdEluaXRpYWxpemF0aW9uOiAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICBpZiAoaXNJbml0aWFsaXplZEZvclRoaXNDaGF0KSB7XG4gICAgICAgIGxvZ1Byb2JlKCdbQVBJXSByZXF1ZXN0SW5pdGlhbGl6YXRpb24gKOW3suWujOaIkCk6IOS4gOS4qui/n+WIsOeahOeVjOmdouWPkeadpeivt+axgu+8jOeri+WNs+i/lOWbnuaIkOWKn+Wlkee6puOAgicpO1xuICAgICAgICBicm9hZGNhc3RGdWxsU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIV9pbml0aWFsaXphdGlvblByb21pc2UpIHtcbiAgICAgICAgbG9nUHJvYmUoJ1tBUEldIHJlcXVlc3RJbml0aWFsaXphdGlvbiAo6aaW5qyhKTog56ys5LiA5Liq55WM6Z2i6K+35rGC5Yiw6L6+77yM5q2j5Zyo5Yib5bu644CQ5YWx5Lqr55qE44CRUHJvbWlzZeWlkee6pi4uLicpO1xuICAgICAgICBfaW5pdGlhbGl6YXRpb25Qcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIF9pbml0aWFsaXphdGlvblByb21pc2VDb250cm9scyA9IHsgcmVzb2x2ZSwgcmVqZWN0IH07XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nUHJvYmUoJ1tBUEldIHJlcXVlc3RJbml0aWFsaXphdGlvbiAo5ZCO57utKTog5Y+I5LiA5Liq55WM6Z2i6K+35rGC5Yiw6L6+77yM6L+U5Zue44CQ5bey5a2Y5Zyo55qE44CR5YWx5Lqr5aWR57qm44CCJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfaW5pdGlhbGl6YXRpb25Qcm9taXNlO1xuICAgIH0sXG5cbiAgICB0b2dnbGVQbGF5UGF1c2U6ICgpID0+IHRvZ2dsZVBsYXlQYXVzZSgpLFxuICAgIHBsYXlOZXh0OiAoKSA9PiBwbGF5TmV4dCgpLFxuICAgIHBsYXlQcmV2OiAoKSA9PiBwbGF5UHJldigpLFxuICAgIHBsYXlJbmRleDogKGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRJdGVtID0gU3RhdGVNYW5hZ2VyLmdldFRvcFF1ZXVlSXRlbSgpO1xuICAgICAgaWYgKGN1cnJlbnRJdGVtICYmIGluZGV4ID49IDAgJiYgaW5kZXggPCBjdXJyZW50SXRlbS5wbGF5bGlzdENvbnRlbnQubGVuZ3RoKSB7XG4gICAgICAgIHZvaWQgX2hhbmRsZVBsYXlJbmRleChpbmRleCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBwZXJzaXN0Vm9sdW1lQW5kQnJvYWRjYXN0OiAodm9sdW1lOiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnN0IGZpbmFsVm9sdW1lID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgdm9sdW1lKSk7XG4gICAgICBjb25zdCBhY3RpdmVQbGF5ZXIgPSBQbGF5YmFja0VuZ2luZS5nZXRBY3RpdmVQbGF5ZXIoKTtcbiAgICAgIFN0YXRlTWFuYWdlci5zZXRWb2x1bWUoZmluYWxWb2x1bWUpO1xuICAgICAgaWYgKGFjdGl2ZVBsYXllciAmJiAhU3RhdGVNYW5hZ2VyLmlzUGVyZm9ybWluZ0VmZmVjdCgpKSBhY3RpdmVQbGF5ZXIudm9sdW1lID0gZmluYWxWb2x1bWU7XG4gICAgICB2b2lkIHdyaXRlU3RhdGUoJ3BlcnNpc3RWb2x1bWUnKTtcbiAgICAgIGJyb2FkY2FzdEZ1bGxTdGF0ZSgpO1xuICAgIH0sXG4gICAgc2V0TGl2ZVZvbHVtZTogKHZvbHVtZTogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCBhY3RpdmVQbGF5ZXIgPSBQbGF5YmFja0VuZ2luZS5nZXRBY3RpdmVQbGF5ZXIoKTtcbiAgICAgIGlmIChhY3RpdmVQbGF5ZXIgJiYgIVN0YXRlTWFuYWdlci5pc1BlcmZvcm1pbmdFZmZlY3QoKSkgYWN0aXZlUGxheWVyLnZvbHVtZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZvbHVtZSkpO1xuICAgIH0sXG5cbiAgICBzZXRQbGF5YmFja01vZGU6IChtb2RlOiBQbGF5YmFja01vZGUpID0+IHtcbiAgICAgIGxvZ1Byb2JlKGA9PT0g5byA5aeL5omn6KGM44CQ5qih5byP5YiH5o2i44CR5LqL5YqhICjor7fmsYI6ICR7bW9kZX0pID09PWAsICdncm91cCcpO1xuICAgICAgY29uc3Qgb2xkTW9kZSA9IFN0YXRlTWFuYWdlci5nZXRQbGF5YmFja01vZGUoKTtcbiAgICAgIGlmIChtb2RlID09PSBvbGRNb2RlKSB7XG4gICAgICAgIGxvZ1Byb2JlKGBbTW9kZVN3aXRjaF0g5qih5byP5pyq5Y+Y5pu0ICjku43kuLogJHttb2RlfSnvvIzkuovliqHmj5DliY3kuK3mraLjgIJgKTtcbiAgICAgICAgbG9nUHJvYmUoJycsICdncm91cEVuZCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIFN0YXRlTWFuYWdlci5zZXRQbGF5YmFja01vZGUobW9kZSk7XG4gICAgICBTdHJhdGVneU1hbmFnZXIuc2V0TW9kZShtb2RlKTtcblxuICAgICAgbG9nUHJvYmUoYFtNb2RlU3dpdGNoXSDnrZbnlaXlt7LliIfmjaLkuLo6ICR7U3RyYXRlZ3lNYW5hZ2VyLmdldEN1cnJlbnRTdHJhdGVneSgpLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG5cbiAgICAgIGlmIChvbGRNb2RlID09PSAncmFuZG9tJykge1xuICAgICAgICBsb2dQcm9iZSgnW01vZGVTd2l0Y2hdIOato+WcqOS4uuaXp+aooeW8jyBcInJhbmRvbVwiIOaJp+ihjOKAnOemu+W8gOKAneeUn+WRveWRqOacn+mSqeWtkC4uLicpO1xuICAgICAgICBTdGF0ZU1hbmFnZXIuY2xlYXJSYW5kb21Nb2RlUGxhbigpO1xuICAgICAgfVxuICAgICAgaWYgKG1vZGUgPT09ICdyYW5kb20nKSB7XG4gICAgICAgIGxvZ1Byb2JlKCdbTW9kZVN3aXRjaF0g5q2j5Zyo5Li65paw5qih5byPIFwicmFuZG9tXCIg5omn6KGM4oCc6L+b5YWl4oCd55Sf5ZG95ZGo5pyf6ZKp5a2QLi4uJyk7XG4gICAgICAgIFN0cmF0ZWd5TWFuYWdlci5ub3RpZnlRdWV1ZUNoYW5nZWQoKTtcbiAgICAgIH1cblxuICAgICAgdm9pZCB3cml0ZVN0YXRlKCdzZXRQbGF5YmFja01vZGUnKTtcbiAgICAgIGJyb2FkY2FzdEZ1bGxTdGF0ZSgpO1xuICAgICAgbG9nUHJvYmUoJz09PSDjgJDmqKHlvI/liIfmjaLjgJHkuovliqHmiafooYzlrozmr5UgPT09JywgJ2dyb3VwRW5kJyk7XG4gICAgfSxcbiAgICBzZWVrVG86IChwZXJjZW50YWdlOiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnN0IGFjdGl2ZVBsYXllciA9IFBsYXliYWNrRW5naW5lLmdldEFjdGl2ZVBsYXllcigpO1xuICAgICAgaWYgKGFjdGl2ZVBsYXllcj8uZHVyYXRpb24pIGFjdGl2ZVBsYXllci5jdXJyZW50VGltZSA9IGFjdGl2ZVBsYXllci5kdXJhdGlvbiAqIHBlcmNlbnRhZ2U7XG4gICAgfSxcbiAgICBnZXRDdXJyZW50U3RhdGU6ICgpOiBGdWxsU3RhdGVQYXlsb2FkID0+IHtcbiAgICAgIGNvbnN0IGkgPSBTdGF0ZU1hbmFnZXIuZ2V0VG9wUXVldWVJdGVtKCk7XG4gICAgICBjb25zdCBjID0gaT8ucGxheWxpc3RDb250ZW50ID8/IFtdO1xuICAgICAgY29uc3QgeCA9IGk/LmN1cnJlbnRJbmRleCA/PyAwO1xuICAgICAgY29uc3Qgc3RhdGVUb1JldHVybjogRnVsbFN0YXRlUGF5bG9hZCA9IHtcbiAgICAgICAgY3VycmVudEl0ZW06IGNbeF0gPyB7IHRpdGxlOiBjW3hdLuatjOWQjSwgYXJ0aXN0OiBjW3hdLuatjOaJiywgY292ZXI6IGNbeF0u5bCB6Z2iIH0gOiBudWxsLFxuICAgICAgICBpc1BsYXlpbmc6IFN0YXRlTWFuYWdlci5pc1BsYXlpbmcoKSxcbiAgICAgICAgcGxheWJhY2tNb2RlOiBTdGF0ZU1hbmFnZXIuZ2V0UGxheWJhY2tNb2RlKCksXG4gICAgICAgIG1hc3RlclZvbHVtZTogU3RhdGVNYW5hZ2VyLmdldFZvbHVtZSgpLFxuICAgICAgICBwbGF5bGlzdDogYy5tYXAodCA9PiAoeyB0aXRsZTogdC7mrYzlkI0sIGFydGlzdDogdC7mrYzmiYssIGNvdmVyOiB0LuWwgemdoiB9KSksXG4gICAgICAgIGlzVHJhbnNpdGlvbmluZzogU3RhdGVNYW5hZ2VyLmlzUGVyZm9ybWluZ0VmZmVjdCgpLFxuICAgICAgfTtcbiAgICAgIGxvZ1Byb2JlKCdb5o6i6ZKIIEJdIOWJjeerr+S4u+WKqOiwg+eUqCBnZXRDdXJyZW50U3RhdGUg6I635Y+W5Yid5aeL54q25oCB77yM5ZCO5Y+w6L+U5Zue55qE5pWw5o2u5aaC5LiLOicsICd3YXJuJyk7XG4gICAgICBjb25zb2xlLmRpcihzdGF0ZVRvUmV0dXJuKTtcbiAgICAgIHJldHVybiBzdGF0ZVRvUmV0dXJuO1xuICAgIH0sXG4gICAgb25GdWxsU3RhdGVVcGRhdGU6IChjOiAocGF5bG9hZDogRnVsbFN0YXRlUGF5bG9hZCkgPT4gdm9pZCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBjID09PSAnZnVuY3Rpb24nKSBmdWxsU3RhdGVVcGRhdGVDYWxsYmFja3MucHVzaChjKTtcbiAgICB9LFxuICAgIG9uVGltZVVwZGF0ZTogKGM6IChwYXlsb2FkOiBUaW1lVXBkYXRlUGF5bG9hZCkgPT4gdm9pZCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBjID09PSAnZnVuY3Rpb24nKSB0aW1lVXBkYXRlQ2FsbGJhY2tzLnB1c2goYyk7XG4gICAgfSxcbiAgfTtcbiAgaW5pdGlhbGl6ZUdsb2JhbCgnbXVzaWNQbGF5ZXJBUEknLCB3aW5kb3cubXVzaWNQbGF5ZXJBUEkpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gOS4g6YWS6aaG6ZuG5oiQ5LiO5Li75omn6KGM5Yy6IChUYXZlcm4gSW50ZWdyYXRpb24gJiBNYWluIEV4ZWN1dGlvbilcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGV4ZWN1dGVIYXJkUmVzZXQoKSB7XG4gIGxvZ1Byb2JlKCdbSGFyZFJlc2V0XSDigJzkvJjpm4XlgZzmnLrigJ3ljY/orq7lkK/liqguLi4nLCAnd2FybicpO1xuXG4gIGlzU2NyaXB0QWN0aXZlID0gZmFsc2U7XG5cbiAgUGxheWJhY2tFbmdpbmUuZ2V0QWN0aXZlUGxheWVyKCk/LnBhdXNlKCk7XG4gIGxvZ1Byb2JlKCdbSGFyZFJlc2V0XSDpn7PpopHlt7LmmoLlgZzjgIInKTtcblxuICBsb2dQcm9iZSgnW0hhcmRSZXNldF0g5Y2z5bCG6LCD55SoIHJlbG9hZElmcmFtZSgp44CCJyk7XG4gIHJlbG9hZElmcmFtZSgpO1xufVxuXG5hc3luYyBmdW5jdGlvbiB0cnlJbml0aWFsaXplKCkge1xuICBpZiAoaXNJbml0aWFsaXplZEZvclRoaXNDaGF0KSByZXR1cm47XG5cbiAgY29uc3QgY3VycmVudENoYXRJZCA9IFNpbGx5VGF2ZXJuLmdldEN1cnJlbnRDaGF0SWQgPyBTaWxseVRhdmVybi5nZXRDdXJyZW50Q2hhdElkKCkgOiBudWxsO1xuXG4gIGlmIChTaWxseVRhdmVybi5jaGF0Lmxlbmd0aCA+IDAgJiYgY3VycmVudENoYXRJZCAhPT0gbnVsbCkge1xuICAgIC8vIFvljp/liJk6IFNSUF0gaXNJbml0aWFsaXplZEZvclRoaXNDaGF0IOagh+W/l+eOsOWcqOaYr+i/meS4quWHveaVsOeahOKAnOWuiOWNq+KAne+8jOehruS/neWIneWni+WMluWPquaJp+ihjOS4gOasoeOAglxuICAgIGlzSW5pdGlhbGl6ZWRGb3JUaGlzQ2hhdCA9IHRydWU7XG4gICAgX2N1cnJlbnRDaGF0SWQgPSBjdXJyZW50Q2hhdElkO1xuXG4gICAgbG9nUHJvYmUoYOOAkOWIneWni+WMluaMh+aMpeWumCBWOS4444CR6ZSB5a6aSUQ6ICR7X2N1cnJlbnRDaGF0SWR977yM5byA5aeL5omn6KGM4oCc5YiG5rWBLeetieW+hS3miafooYzigJ3ljY/orq4uLi5gLCAnZ3JvdXAnKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0g5q2l6aqk5LiA77ya5qOA5rWLIChEZXRlY3QpIC0tLVxuICAgICAgLy8gW+WOn+WImTogU1NvVF0g5Yid5aeL5YyW5rWB56iL55qE56ys5LiA5Liq5Yqo5L2c77yM5bCx5piv6I635Y+W4oCc5LiW55WM5Lmm4oCd6L+Z5Liq5ZSv5LiA5LqL5a6e5p2l5rqQ44CCXG4gICAgICBjb25zdCBjb25maWcgPSBhd2FpdCBwYXJzZVdvcmxkYm9va0NvbmZpZygpO1xuICAgICAgaWYgKCFjb25maWcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfml6Dms5Xop6PmnpDkuJbnlYzkuabphY3nva7vvIzliJ3lp4vljJbkuK3mraLjgIInKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaXNNdnVDYXJkID0gY29uZmlnLnRyaWdnZXJzICYmIEFycmF5LmlzQXJyYXkoY29uZmlnLnRyaWdnZXJzKSAmJiBjb25maWcudHJpZ2dlcnMubGVuZ3RoID4gMDtcbiAgICAgIGxvZ1Byb2JlKGAo5o6i6ZKILeWGs+etlikg5L2c6ICF5oSP5Zu+5Yik5patIC0+IOaYr01WVeWNoeWQlz8gJHtpc012dUNhcmR9YCk7XG5cbiAgICAgIC8vIC0tLSDmraXpqqTkuozvvJrliIbmtYEgKEJyYW5jaCkgJiDnrYnlvoUgKFdhaXQpIC0tLVxuICAgICAgaWYgKGlzTXZ1Q2FyZCkge1xuICAgICAgICBsb2dQcm9iZSgn44CQ5oyH5oyl5a6Y44CRKOi3r+W+hOmAieaLqSkg5qOA5rWL5YiwTVZV5Y2h77yM6L+b5YWl4oCc5a6J5YWo6Lev5b6E4oCd77yM5byA5aeL562J5b6FTVZV5bCx57uqLi4uJyk7XG4gICAgICAgIC8vIFvljp/liJk6IENRU10gX3dhaXRGb3JNdnVHZW5lc2lzIOaYr+S4gOS4quKAnOafpeivouKAne+8jOWug+ivoumXruWklumDqOeOr+Wig+eKtuaAge+8jOebtOWIsOa7oei2s+adoeS7tuOAglxuICAgICAgICBjb25zdCBtdnVJc1JlYWR5ID0gYXdhaXQgX3dhaXRGb3JNdnVHZW5lc2lzKCk7XG4gICAgICAgIGlmICghbXZ1SXNSZWFkeSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTVZV6ZuG5oiQ5Yid5aeL5YyW5aSx6LSl5oiW6LaF5pe277yM6YOo5YiG5Yqf6IO95bCG5LiN5Y+v55So44CCJyk7XG4gICAgICAgIH1cbiAgICAgICAgbG9nUHJvYmUoJ+OAkOaMh+aMpeWumOOAkU1WVeW3suWujOWFqOWwsee7qu+8jOWPr+S7peWuieWFqOe7p+e7reOAgicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nUHJvYmUoJ+OAkOaMh+aMpeWumOOAkSjot6/lvoTpgInmi6kpIOajgOa1i+WIsOe6r+aWh+Wtl+WNoe+8jOi/m+WFpeKAnOW/q+mAn+i3r+W+hOKAneOAgicpO1xuICAgICAgfVxuXG4gICAgICAvLyAtLS0g5q2l6aqk5LiJ77ya5omn6KGMIChFeGVjdXRlKSAtLS1cbiAgICAgIGxvZ1Byb2JlKCfjgJDmjIfmjKXlrpjjgJHmiYDmnInliY3nva7mnaHku7bmu6HotrPvvIzlvIDlp4vmiafooYzmkq3mlL7lmajmoLjlv4PliJ3lp4vljJYuLi4nKTtcblxuICAgICAgbGV0IGF1dGhvcml0YXRpdmVTdGF0ZSA9IG51bGw7XG4gICAgICBpZiAoaXNNdnVDYXJkKSB7XG4gICAgICAgIGxvZ1Byb2JlKCfjgJDmjIfmjKXlrpjjgJEo5p+l6K+iKSDmraPlnKjkuLpNVlXljaHmn6Xmib7mnYPlqIHnirbmgIEuLi4nKTtcbiAgICAgICAgYXV0aG9yaXRhdGl2ZVN0YXRlID0gYXdhaXQgX2ZpbmRMYXRlc3RBdXRob3JpdGF0aXZlTXZ1U3RhdGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ1Byb2JlKCfjgJDmjIfmjKXlrpjjgJEo6Lez6L+HKSDnuq/mloflrZfljaHvvIzml6DpnIDmn6Xmib5NVlXnirbmgIHjgIInKTtcbiAgICAgIH1cblxuICAgICAgYXdhaXQgaW5pdGlhbGl6ZVBsYXllckZvckNoYXQoY29uZmlnLCBhdXRob3JpdGF0aXZlU3RhdGUpO1xuXG4gICAgICBfcmVnaXN0ZXJDb250ZXh0dWFsRXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgICAgaWYgKF9pbml0aWFsaXphdGlvblByb21pc2VDb250cm9scykge1xuICAgICAgICBsb2dQcm9iZSgn44CQ5oyH5oyl5a6Y44CRKOaOoumSiCkg5ZCO5Y+w5Yid5aeL5YyW5oiQ5Yqf77yM5YWR546wIFByb21pc2Ug5aWR57qm77yM5ZSk6YaS5YmN56uv44CCJyk7XG4gICAgICAgIF9pbml0aWFsaXphdGlvblByb21pc2VDb250cm9scy5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ1Byb2JlKGDjgJDmjIfmjKXlrpjjgJHlnKjliJ3lp4vljJbkuLvmtYHnqIvkuK3lj5HnlJ/kuKXph43plJnor686ICR7ZXJyb3J9YCwgJ2Vycm9yJyk7XG4gICAgICAvLyDlpoLmnpzlj5HnlJ/ku7vkvZXplJnor6/vvIzpg73opoHpgJrnn6XliY3nq6/vvIzorqnlroPmmL7npLrplJnor6/kv6Hmga9cbiAgICAgIGlmIChfaW5pdGlhbGl6YXRpb25Qcm9taXNlQ29udHJvbHMpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuICAgICAgICBfaW5pdGlhbGl6YXRpb25Qcm9taXNlQ29udHJvbHMucmVqZWN0KGVycm9yTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIF9pbml0aWFsaXphdGlvblByb21pc2VDb250cm9scyA9IG51bGw7XG4gICAgICBsb2dQcm9iZSgn44CQ5Yid5aeL5YyW5oyH5oyl5a6YIFY5LjjjgJHljY/orq7miafooYzlrozmr5XjgIInLCAnZ3JvdXBFbmQnKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gX3JlZ2lzdGVyTXZ1RXZlbnRMaXN0ZW5lcnMoKSB7XG4gIGxvZ1Byb2JlKCdbRXZlbnREaXNwYXRjaGVyXSDmraPlnKjms6jlhozjgJDov5DooYzml7bjgJFNVlUg5LqL5Lu255uR5ZCs5ZmoLi4uJyk7XG5cbiAgY29uc3QgY3JlYXRlUmVjb25jaWxlSGFuZGxlciA9IChldmVudE5hbWU6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiAoZXZlbnRQYXlsb2FkPzogYW55KSA9PiB7XG4gICAgICBpZiAoIWlzTXZ1SW50ZWdyYXRpb25BY3RpdmUgfHwgIWlzQ29yZVBsYXllckluaXRpYWxpemVkKSB7XG4gICAgICAgIGxvZ1Byb2JlKGBbR2F0ZWtlZXBlcl0g5o2V6I635YiwTVZV5LqL5Lu2ICgke2V2ZW50TmFtZX0p77yM5L2G57O757uf5pyq5bCx57uq77yM5bey5b+955Wl44CCYCwgJ3dhcm4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9nUHJvYmUoYFtFdmVudF0g5o2V6I635YiwTVZV5LqL5Lu2OiAke2V2ZW50TmFtZX3vvIzljbPlsIbllKTphpLmoKHlh4blrpguLi5gKTtcbiAgICAgIC8vIChTU29U5Y6f5YiZKSDlsIbkuovku7bovb3ojbfov5nkuKrigJzkuovlrp7igJ3nm7TmjqXkvKDpgJLnu5nmoKHlh4blrphcbiAgICAgIHZvaWQgX3JlY29uY2lsZVBsYXlsaXN0UXVldWUoZXZlbnRQYXlsb2FkKTtcbiAgICB9O1xuICB9O1xuXG4gIGV2ZW50T24oTXZ1LmV2ZW50cy5WQVJJQUJMRV9VUERBVEVfRU5ERUQsIGNyZWF0ZVJlY29uY2lsZUhhbmRsZXIoJ1ZBUklBQkxFX1VQREFURV9FTkRFRCcpKTtcbiAgZXZlbnRPbih0YXZlcm5fZXZlbnRzLk1FU1NBR0VfREVMRVRFRCwgY3JlYXRlUmVjb25jaWxlSGFuZGxlcignTUVTU0FHRV9ERUxFVEVEJykpO1xuXG4gIGxvZ1Byb2JlKCdbRXZlbnREaXNwYXRjaGVyXSBNVlXnm5HlkKzlmajpg6jnvbLlrozmr5XjgIInKTtcbn1cblxuLyoqXG4gKiBbVjkuMSDmoLjlv4PlpITnkIblmahdIOe7n+S4gOWkhOeQhuaJgOacieWvvOiHtOKAnOi/kOihjOaXtuWOhuWPsuKAneWPmOabtOeahOS6i+S7tuOAglxuICog6IGM6LSj77ya6YeN5paw5p+l5om+5p2D5aiB54q25oCB77yM54S25ZCO6LCD55So5qCh5YeG5a6Y6L+b6KGM54q25oCB5ZCM5q2l44CCXG4gKiBAcGFyYW0gZXZlbnROYW1lIC0g6Kem5Y+R5q2k5aSE55CG5Zmo55qE5LqL5Lu25ZCN77yM55So5LqO5pel5b+X6K6w5b2V44CCXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIF9oYW5kbGVIaXN0b3J5Q2hhbmdlRXZlbnQoZXZlbnROYW1lOiBzdHJpbmcsIG9wdGlvbnM/OiB7IHRyYW5zaXRpb25FZmZlY3Q/OiAnaGFyZCcgfCAnc21vb3RoJyB9KSB7XG4gIGxvZ1Byb2JlKGBbSGlzdG9yeUNoYW5nZV0g5qOA5rWL5Yiw5Y6G5Y+y5Y+Y5pu05LqL5Lu2OiAke2V2ZW50TmFtZX3jgIJgKTtcbiAgaWYgKCFpc0NvcmVQbGF5ZXJJbml0aWFsaXplZCkgcmV0dXJuO1xuXG4gIGxvZ1Byb2JlKGBbSGlzdG9yeUNoYW5nZS1Qcm9iZV0g5q2j5Zyo5p+l6K+i5pyA5paw55qE5p2D5aiBTVZV54q25oCBLi4uYCk7XG4gIGNvbnN0IGF1dGhvcml0YXRpdmVTdGF0ZSA9IGF3YWl0IF9maW5kTGF0ZXN0QXV0aG9yaXRhdGl2ZU12dVN0YXRlKCk7XG5cbiAgaWYgKCFhdXRob3JpdGF0aXZlU3RhdGU/Lm12dURhdGEpIHtcbiAgICBsb2dQcm9iZSgnW0hpc3RvcnlDaGFuZ2VdICjlrojpl6jlkZgpIOacquaJvuWIsOacieaViOeahOadg+WogeeKtuaAgeOAgui/meWcqEFJ6YeN5paw55Sf5oiQ5pyf6Ze05piv5q2j5bi4546w6LGh44CCJywgJ3dhcm4nKTtcbiAgICBsb2dQcm9iZSgnW0hpc3RvcnlDaGFuZ2VdICjlrojpl6jlkZgpIOmHh+WPluKAnOmdmem7mOetieW+heKAneetlueVpe+8jOacrOasoeagoeWHhuW3sui3s+i/h+OAgicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnNvbGUubG9nKGBbSGlzdG9yeUNoYW5nZS1Qcm9iZV0g5p+l6K+i5a6M5q+V77yM6L+Z5piv5om+5Yiw55qE5p2D5aiB54q25oCB5pWw5o2u77yM6K+35oKo5a6h5p+l77yaYCk7XG4gIGNvbnNvbGUuZGlyKF8uY2xvbmVEZWVwKGF1dGhvcml0YXRpdmVTdGF0ZT8ubXZ1RGF0YSkpO1xuXG4gIGF3YWl0IF9yZWNvbmNpbGVQbGF5bGlzdFF1ZXVlKGF1dGhvcml0YXRpdmVTdGF0ZT8ubXZ1RGF0YSwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogW1Y5Ljkg5qC45b+D5L+u5q2jXSDlpITnkIbmlrBBSea2iOaBr+a4suafk+S6i+S7tueahOS4k+eUqOWkhOeQhuWZqOOAglxuICog5a6D55qE6IGM6LSj5piv5qOA5p+l5bm256uL5Y2z5rOo5YWlIDxwbGF5bXVzaWMvPiDmoIfnrb7vvIzku6Xkv67lpI3liLfmlrDnq57mgIHmnaHku7ZCVUfjgIJcbiAqIChTUlA6IFNpbmdsZSBSZXNwb25zaWJpbGl0eSBQcmluY2lwbGUpXG4gKiBAcGFyYW0gbWVzc2FnZUlkIC0g55Sx5LqL5Lu25Lyg5p2l55qE5raI5oGvSUTjgIJcbiAqL1xuYXN5bmMgZnVuY3Rpb24gX2hhbmRsZU5ld0Fzc2lzdGFudE1lc3NhZ2UobWVzc2FnZUlkOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgbG9nUHJvYmUoYFtJbmplY3Rvcl0g5o2V6I635YiwIENIQVJBQ1RFUl9NRVNTQUdFX1JFTkRFUkVEIOS6i+S7tu+8jG1lc3NhZ2VfaWQ6ICR7bWVzc2FnZUlkfWApO1xuXG4gIGlmIChtZXNzYWdlSWQgPT09IDApIHtcbiAgICBsb2dQcm9iZShgW0luamVjdG9yXSAo5o6i6ZKIKSDmk43kvZzkuK3mraLvvJptZXNzYWdlX2lkIOS4uiAwICjlvIDlnLrnmb0p77yM5peg6ZyA5rOo5YWl44CCYCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2V0Q2hhdE1lc3NhZ2VzKG1lc3NhZ2VJZCk/LlswXTtcblxuICAgIGlmIChtZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50JyAmJiAhbWVzc2FnZS5tZXNzYWdlLmluY2x1ZGVzKCc8cGxheW11c2ljLz4nKSkge1xuICAgICAgbG9nUHJvYmUoYFtJbmplY3Rvcl0gKOaOoumSiCkg5p2h5Lu25ruh6Laz77yM56uL5Y2z5Li6IG1lc3NhZ2VfaWQ6ICR7bWVzc2FnZUlkfSDmiafooYzms6jlhaUuLi5gKTtcblxuICAgICAgYXdhaXQgc2V0Q2hhdE1lc3NhZ2VzKFt7IG1lc3NhZ2VfaWQ6IG1lc3NhZ2VJZCwgbWVzc2FnZTogYCR7bWVzc2FnZS5tZXNzYWdlfVxcbjxwbGF5bXVzaWMvPmAgfV0pO1xuXG4gICAgICBsb2dQcm9iZShgW0luamVjdG9yXSAo5o6i6ZKIKSDms6jlhaXmiJDlip/jgIJgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nUHJvYmUoYFtJbmplY3Rvcl0gKOaOoumSiCkg5pON5L2c6Lez6L+H77ya5raI5oGv5LiN5ruh6Laz5rOo5YWl5p2h5Lu2ICjlj6/og73kuI3mmK9BSea2iOaBr++8jOaIluW3suWMheWQq+agh+etvinjgIJgKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nUHJvYmUoYFtJbmplY3Rvcl0g5Li6IG1lc3NhZ2VfaWQ6ICR7bWVzc2FnZUlkfSDms6jlhaXmoIfnrb7ml7blj5HnlJ/kuKXph43plJnor686YCwgJ2Vycm9yJyk7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gIH1cbn1cblxuLyoqXG4gKiBbVjkuMCDmoLjlv4NdIOaJp+ihjOS4gOasoeKAnOi9r+mHjee9ruKAneOAglxuICog6L+Z5bCG5Zyo5LiN5Yi35paw5pW05Liq6aG16Z2i55qE5oOF5Ya15LiL77yM6YeN5paw5omn6KGM5a6M5pW055qE5Yid5aeL5YyW5rWB56iL44CCXG4gKiDnlKjkuo7lk43lupTigJzlvIDlnLrnmb3mu5HliqjigJ3nrYnmoLnmnKzmgKfnmoTkuIrkuIvmloflj5jmm7TjgIJcbiAqL1xuYXN5bmMgZnVuY3Rpb24gX2V4ZWN1dGVTb2Z0UmVzZXQob3B0aW9ucz86IHsgYXV0b1BsYXlJZldhc1BsYXlpbmc/OiBib29sZWFuIH0pIHtcbiAgbG9nUHJvYmUoJ1tTb2Z0UmVzZXRdIOajgOa1i+WIsOagueacrOaAp+S4iuS4i+aWh+WPmOabtO+8jOWQr+WKqOKAnOi9r+mHjee9ruKAneWNj+iuri4uLicsICd3YXJuJyk7XG4gIHRyeSB7XG4gICAgY29uc3QgY29uZmlnID0gYXdhaXQgcGFyc2VXb3JsZGJvb2tDb25maWcoKTtcblxuICAgIGxvZ1Byb2JlKCdbU29mdFJlc2V0XSDmraPlnKjkuLrmlrDnmoTlvIDlnLrnmb3mn6Xmib7mnYPlqIFNVlXnirbmgIEuLi4nKTtcbiAgICBjb25zdCBhdXRob3JpdGF0aXZlU3RhdGUgPSBhd2FpdCBfZmluZExhdGVzdEF1dGhvcml0YXRpdmVNdnVTdGF0ZSgpO1xuXG4gICAgYXdhaXQgaW5pdGlhbGl6ZVBsYXllckZvckNoYXQoY29uZmlnLCBhdXRob3JpdGF0aXZlU3RhdGUsIG9wdGlvbnMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ1Byb2JlKCdbU29mdFJlc2V0XSDova/ph43nva7ov4fnqIvkuK3lj5HnlJ/kuKXph43plJnor6/jgIInLCAnZXJyb3InKTtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfcmVnaXN0ZXJDb250ZXh0dWFsRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIGxvZ1Byb2JlKCdbRXZlbnREaXNwYXRjaGVyXSDmraPlnKjms6jlhozigJzkuIrkuIvmlofkuJPlsZ7igJ3kuovku7bnm5HlkKzlmaguLi4nKTtcblxuICBldmVudE9uKHRhdmVybl9ldmVudHMuQ0hBUkFDVEVSX01FU1NBR0VfUkVOREVSRUQsIChpZDogbnVtYmVyKSA9PiB7XG4gICAgdm9pZCBfaGFuZGxlTmV3QXNzaXN0YW50TWVzc2FnZShpZCk7XG4gIH0pO1xuXG4gIGV2ZW50T24odGF2ZXJuX2V2ZW50cy5NRVNTQUdFX1NXSVBFRCwgKGlkOiBudW1iZXIpID0+IHtcbiAgICBsb2dQcm9iZShgW0V2ZW50XSDmjZXojrfliLDmu5Hliqjkuovku7YgKG1lc3NhZ2VfaWQ6ICR7aWR9KeOAgmApO1xuICAgIGlmICghaXNDb3JlUGxheWVySW5pdGlhbGl6ZWQpIHJldHVybjtcblxuICAgIGlmIChpZCA9PT0gMCkge1xuICAgICAgbG9nUHJvYmUoJ1tFdmVudC1Td2lwZV0g5Yik5pat5Li65byA5Zy655m95ruR5Yqo77yM5omn6KGM6L2v6YeN572uLi4uJyk7XG4gICAgICBjb25zdCB3YXNQbGF5aW5nID0gU3RhdGVNYW5hZ2VyLmlzUGxheWluZygpO1xuICAgICAgbG9nUHJvYmUoYFtFdmVudC1Td2lwZV0gKOaOoumSiCkg6L2v6YeN572u5YmN55qE5pKt5pS+54q25oCBOiAke3dhc1BsYXlpbmd9YCk7XG4gICAgICB2b2lkIF9leGVjdXRlU29mdFJlc2V0KHsgYXV0b1BsYXlJZldhc1BsYXlpbmc6IHdhc1BsYXlpbmcgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ1Byb2JlKCdbRXZlbnQtU3dpcGVdIOWIpOaWreS4uuWOhuWPsua2iOaBr+a7keWKqO+8jOaJp+ihjOWOhuWPsuWPmOabtOWkhOeQhi4uLicpO1xuICAgICAgdm9pZCBfaGFuZGxlSGlzdG9yeUNoYW5nZUV2ZW50KCdNRVNTQUdFX1NXSVBFRCcsIHsgdHJhbnNpdGlvbkVmZmVjdDogJ2hhcmQnIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgbG9nUHJvYmUoJ1tFdmVudERpc3BhdGNoZXJdIOKAnOS4iuS4i+aWh+S4k+WxnuKAneS6i+S7tuebkeWQrOWZqOazqOWGjOWujOavleOAgicpO1xufVxuXG4vKipcbiAqIFvljp/liJk6IFNSUF0g6L+Z5Liq5Ye95pWw55qE5Y2V5LiA6IGM6LSj5piv77ya5L2c5Li65LiA5Liq6L+U5ZueIFByb21pc2Ug55qE4oCc6KeC5a+f5ZOo4oCd77yMXG4gKiDlroPlj6rotJ/otKPigJznrYnlvoVNVlXliJvkuJblrozmiJDigJ3ov5nkuIDku7bkuovjgILmiJDlip/liJkgcmVzb2x2ZSh0cnVlKe+8jOWksei0peaIlui2heaXtuWImSByZXNvbHZlKGZhbHNlKeOAglxuICog5omA5pyJ5ZCO57ut5pON5L2c77yI5aaC5rOo5YaM5LqL5Lu277yJ6YO95L2c5Li65oiQ5Yqf5ZCO55qE4oCc5Ymv5L2c55So4oCd5Zyo5YaF6YOo5omn6KGM44CCXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIF93YWl0Rm9yTXZ1R2VuZXNpcygpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgbG9nUHJvYmUoJ+OAkOWuieWFqOinguWvn+WTqOOAkeW3suS4iuWyl++8jOW8gOWni+aJp+ihjE1WVeWwsee7quajgOafpS4uLicsICdncm91cCcpO1xuXG4gIHRyeSB7XG4gICAgLy8gW+aOoumSiF0g6Zi25q615LiA77ya562J5b6FIE1WVSDmoYbmnrbmnKzouqvlh7rnjrBcbiAgICBhd2FpdCB3YWl0R2xvYmFsSW5pdGlhbGl6ZWQoJ012dScpO1xuICAgIGxvZ1Byb2JlKCfjgJDop4Llr5/lk6jjgJEo5o6i6ZKIKSDpmLbmrrXkuIDmiJDlip/vvJpNVlUg5qGG5p625bey5Yqg6L2944CCJyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dQcm9iZShg44CQ6KeC5a+f5ZOo44CRKOaOoumSiCkg6Zi25q615LiA5aSx6LSlOiAke2V944CCYCwgJ3dhcm4nKTtcbiAgICBsb2dQcm9iZSgn44CQ5a6J5YWo6KeC5a+f5ZOo44CR5Lu75Yqh5aSx6LSl44CCJywgJ2dyb3VwRW5kJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gW+aOoumSiF0g6Zi25q615LqM77ya6L2u6K+i6KeC5a+f77yM562J5b6FIE1WVSDlsIbliJ3lp4vmlbDmja7lhpnlhaXmtojmga/mpbzlsYJcbiAgY29uc3QgV0FUQ0hFUl9USU1FT1VUID0gMTAwMDA7XG4gIGNvbnN0IFdBVENIRVJfSU5URVJWQUwgPSAyNTA7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gIGxldCBpc0dlbmVzaXNDb21wbGV0ZSA9IGZhbHNlO1xuXG4gIGxvZ1Byb2JlKCfjgJDop4Llr5/lk6jjgJEo5o6i6ZKIKSDpmLbmrrXkuozlvIDlp4vvvJrmraPlnKjkuKXlr4bnm5Hop4YgbWVzc2FnZV9pZDogMCDnmoTliJvkuJbmlbDmja4uLi4nKTtcbiAgd2hpbGUgKERhdGUubm93KCkgLSBzdGFydFRpbWUgPCBXQVRDSEVSX1RJTUVPVVQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbXZ1RGF0YTogYW55ID0gYXdhaXQgTXZ1LmdldE12dURhdGEoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6IDAgfSk7XG4gICAgICBpZiAobXZ1RGF0YSAmJiAobXZ1RGF0YS5zd2lwZXNfZGF0YSB8fCBtdnVEYXRhLnN0YXRfZGF0YSkpIHtcbiAgICAgICAgbG9nUHJvYmUoJ+OAkOinguWvn+WTqOOAkSjmjqLpkogpIOmYtuauteS6jOaIkOWKn++8muWcqOa2iOaBr+alvOWxguS4reehruiupOWIsOWIm+S4luaVsOaNru+8gScpO1xuICAgICAgICBpc0dlbmVzaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvKiDlnKhNVlXlkK/liqjliJ3mnJ/vvIzmn6Xor6LlpLHotKXmmK/mraPluLjnjrDosaHvvIzpnZnpu5jlpITnkIYgKi9cbiAgICB9XG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIFdBVENIRVJfSU5URVJWQUwpKTtcbiAgfVxuXG4gIGlmICghaXNHZW5lc2lzQ29tcGxldGUpIHtcbiAgICBsb2dQcm9iZSgn44CQ6KeC5a+f5ZOo44CRKOaOoumSiCkg6Zi25q615LqM5aSx6LSl77ya6KeC5a+f6LaF5pe277yBJywgJ2Vycm9yJyk7XG4gICAgbG9nUHJvYmUoJ+OAkOWuieWFqOinguWvn+WTqOOAkeS7u+WKoeWksei0peOAgicsICdncm91cEVuZCcpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFvmjqLpkohdIOmYtuauteS4ie+8muaJgOacieadoeS7tua7oei2s++8jOaJp+ihjOa/gOa0u+W6j+WIl1xuICBsb2dQcm9iZSgn44CQ6KeC5a+f5ZOo44CRKOaOoumSiCkg6Zi25q615LiJ5byA5aeL77ya5omn6KGMTVZV6ZuG5oiQ5r+A5rS75bqP5YiXLi4uJyk7XG4gIHRyeSB7XG4gICAgX3JlZ2lzdGVyTXZ1RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICBpc012dUludGVncmF0aW9uQWN0aXZlID0gdHJ1ZTtcbiAgICBsb2dQcm9iZSgn44CQ6KeC5a+f5ZOo44CRKOaOoumSiCkg6Zi25q615LiJ5oiQ5Yqf77yaTVZV6ZuG5oiQ5bey5a6M5YWo5r+A5rS744CCJyk7XG4gICAgbG9nUHJvYmUoJ+OAkOWuieWFqOinguWvn+WTqOOAkeS7u+WKoeaIkOWKn+WujOaIkO+8gScsICdncm91cEVuZCcpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ1Byb2JlKGDjgJDop4Llr5/lk6jjgJEo5o6i6ZKIKSDpmLbmrrXkuInlpLHotKXvvJrmv4DmtLvluo/liJflj5HnlJ/mhI/lpJbltKnmuoM6ICR7ZXJyb3J9YCwgJ2Vycm9yJyk7XG4gICAgaXNNdnVJbnRlZ3JhdGlvbkFjdGl2ZSA9IGZhbHNlO1xuICAgIGxvZ1Byb2JlKCfjgJDlronlhajop4Llr5/lk6jjgJHku7vliqHlpLHotKXjgIInLCAnZ3JvdXBFbmQnKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuJCgoKSA9PiB7XG4gIGxvZ1Byb2JlKCfpn7PkuZDmkq3mlL7lmajohJrmnKwgVjguNCDigJzkuIrkuIvmlofmhJ/nn6XigJ0g5ZCv5YqoJyk7XG4gIFBsYXliYWNrRW5naW5lLmluaXRpYWxpemUoKTtcbiAgc2V0dXBHbG9iYWxBUEkoKTtcblxuICBldmVudE9uKHRhdmVybl9ldmVudHMuQ0hBVF9DSEFOR0VELCAoKSA9PiB7XG4gICAgbG9nUHJvYmUoYFvnoazph43nva5dIENIQVRfQ0hBTkdFRCDkuovku7bop6blj5HvvIzmo4DmtYvliLDogYrlpKnkuIrkuIvmloflj5jmm7TjgILljbPlsIbmiafooYzigJzkvJjpm4XlgZzmnLrigJ3ljY/orq7jgIJgLCAnd2FybicpO1xuICAgIGV4ZWN1dGVIYXJkUmVzZXQoKTtcbiAgfSk7XG5cbiAgY29uc3Qgb2JzZXJ2ZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICB2b2lkIHRyeUluaXRpYWxpemUoKTtcbiAgICBpZiAoaXNJbml0aWFsaXplZEZvclRoaXNDaGF0KSB7XG4gICAgICBjbGVhckludGVydmFsKG9ic2VydmVySW50ZXJ2YWwpO1xuICAgICAgbG9nUHJvYmUoJ+OAkOinguWvn+iAheaooeWei+OAkeWIneWni+WMluaIkOWKn++8jOinguWvn+iAheW3sumUgOavgeOAgicpO1xuICAgIH1cbiAgfSwgMjUwKTtcblxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpZiAoIWlzSW5pdGlhbGl6ZWRGb3JUaGlzQ2hhdCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChvYnNlcnZlckludGVydmFsKTtcbiAgICAgIGxvZ1Byb2JlKCfjgJDop4Llr5/ogIXmqKHlnovjgJHliJ3lp4vljJbotoXml7bvvIEnLCAnZXJyb3InKTtcblxuICAgICAgaWYgKF9pbml0aWFsaXphdGlvblByb21pc2VDb250cm9scykge1xuICAgICAgICBfaW5pdGlhbGl6YXRpb25Qcm9taXNlQ29udHJvbHMucmVqZWN0KCdJbml0aWFsaXphdGlvbiB0aW1lZCBvdXQgYWZ0ZXIgNSBzZWNvbmRzLicpO1xuICAgICAgICBfaW5pdGlhbGl6YXRpb25Qcm9taXNlQ29udHJvbHMgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfSwgNTAwMCk7XG5cbiAgJCh3aW5kb3cpLm9uKCdwYWdlaGlkZScsICgpID0+IHtcbiAgICBsb2dQcm9iZSgnUEFHRUhJREUg5LqL5Lu26Kem5Y+R77yBJywgJ3dhcm4nKTtcblxuICAgIFBsYXliYWNrRW5naW5lLmdldEFjdGl2ZVBsYXllcigpPy5wYXVzZSgpO1xuICAgIGxvZ1Byb2JlKCfpn7PpopHlt7LmmoLlgZzjgIInKTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/musicplayer/index.ts\n\n}");
  },
  zod: 
  /*!********************!*\
  !*** external "z" ***!
  \********************/ module => {
    module.exports = z;
  }
};

var __webpack_module_cache__ = {};

function __webpack_require__(moduleId) {
  var cachedModule = __webpack_module_cache__[moduleId];
  if (cachedModule !== undefined) {
    return cachedModule.exports;
  }
  var module = __webpack_module_cache__[moduleId] = {
    exports: {}
  };
  __webpack_modules__[moduleId](module, module.exports, __webpack_require__);
  return module.exports;
}

(() => {
  __webpack_require__.n = module => {
    var getter = module && module.__esModule ? () => module["default"] : () => module;
    __webpack_require__.d(getter, {
      a: getter
    });
    return getter;
  };
})();

(() => {
  __webpack_require__.d = (exports, definition) => {
    for (var key in definition) {
      if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
        Object.defineProperty(exports, key, {
          enumerable: true,
          get: definition[key]
        });
      }
    }
  };
})();

(() => {
  __webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);
})();

(() => {
  __webpack_require__.r = exports => {
    if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
      Object.defineProperty(exports, Symbol.toStringTag, {
        value: "Module"
      });
    }
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
  };
})();

var __webpack_exports__ = __webpack_require__("./src/musicplayer/index.ts");

const __webpack_exports__ZodPersistedState = __webpack_exports__.ZodPersistedState;

const __webpack_exports__ZodPlaylistConfig = __webpack_exports__.ZodPlaylistConfig;

const __webpack_exports__ZodQueueItemState = __webpack_exports__.ZodQueueItemState;

const __webpack_exports__ZodSingleCondition = __webpack_exports__.ZodSingleCondition;

const __webpack_exports__ZodTrackConfig = __webpack_exports__.ZodTrackConfig;

const __webpack_exports__ZodTriggerConfig = __webpack_exports__.ZodTriggerConfig;

const __webpack_exports__ZodWorldbookConfig = __webpack_exports__.ZodWorldbookConfig;

export { __webpack_exports__ZodPersistedState as ZodPersistedState, __webpack_exports__ZodPlaylistConfig as ZodPlaylistConfig, __webpack_exports__ZodQueueItemState as ZodQueueItemState, __webpack_exports__ZodSingleCondition as ZodSingleCondition, __webpack_exports__ZodTrackConfig as ZodTrackConfig, __webpack_exports__ZodTriggerConfig as ZodTriggerConfig, __webpack_exports__ZodWorldbookConfig as ZodWorldbookConfig };