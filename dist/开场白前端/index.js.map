{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_53ff6257bd8fdf8315af10a81f7e3da1/node_modules/vue-loader/dist/exportHelper.js","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/src/开场白前端/utils/id-generator.ts","webpack://tavern_helper_template/./src/开场白前端/components/TrackInput.vue?1bf6","webpack://tavern_helper_template/src/开场白前端/components/TrackInput.vue?870c","webpack://tavern_helper_template/./src/开场白前端/components/PlaylistEditor.vue?7fcc","webpack://tavern_helper_template/src/开场白前端/components/PlaylistEditor.vue?52b9","src://tavern_helper_template/src/开场白前端/utils/prompt-generator.ts","src://tavern_helper_template/src/开场白前端/utils/validator.ts","webpack://tavern_helper_template/./src/开场白前端/views/Dashboard.vue?e62e","webpack://tavern_helper_template/src/开场白前端/views/Dashboard.vue?5cd8","webpack://tavern_helper_template/./src/开场白前端/views/Home.vue?dffb","webpack://tavern_helper_template/src/开场白前端/views/Home.vue?3e6a","webpack://tavern_helper_template/./src/开场白前端/views/Setup.vue?9668","webpack://tavern_helper_template/src/开场白前端/views/Setup.vue?3347","webpack://tavern_helper_template/./src/开场白前端/app.vue?99b8","webpack://tavern_helper_template/src/开场白前端/app.vue?673b","src://tavern_helper_template/src/开场白前端/index.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","/**\n * 生成简单的唯一标识符\n * 用于 Vue 的 :key 绑定和内部数据追踪\n */\nexport function generateUUID(): string {\n  // 生成 16 字符的随机字符串 (类似 Mongo ObjectId 或简易 UUID)\n  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  let autoId = '';\n  for (let i = 0; i < 16; i++) {\n    autoId += chars.charAt(Math.floor(Math.random() * chars.length));\n  }\n  return autoId;\n}\n","import { useModel as _useModel, defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives, vShow as _vShow, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, TransitionGroup as _TransitionGroup, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = { class: \"w-full space-y-6\" };\nconst _hoisted_2 = { class: \"flex w-full rounded-2xl bg-stone-100 p-1.5 dark:bg-stone-800\" };\nconst _hoisted_3 = { class: \"relative w-full\" };\nconst _hoisted_4 = { class: \"w-full space-y-6\" };\nconst _hoisted_5 = {\n    key: 0,\n    class: \"flex flex-col items-center justify-center rounded-3xl border-2 border-dashed border-stone-200 py-12 text-center dark:border-stone-700\"\n};\nconst _hoisted_6 = { class: \"space-y-6\" };\nconst _hoisted_7 = { class: \"absolute -top-3 -left-3 z-10 flex h-10 w-10 items-center justify-center rounded-full bg-white text-base font-bold text-stone-400 shadow-sm ring-4 ring-[#FDFCF8] dark:bg-stone-700 dark:text-stone-500 dark:ring-[#1c1917]\" };\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = { class: \"grid gap-6 pt-2\" };\nconst _hoisted_10 = [\"onUpdate:modelValue\"];\nconst _hoisted_11 = { class: \"grid grid-cols-2 gap-6\" };\nconst _hoisted_12 = [\"onUpdate:modelValue\"];\nconst _hoisted_13 = [\"onUpdate:modelValue\"];\nconst _hoisted_14 = [\"onUpdate:modelValue\"];\nimport { generateUUID } from '../utils/id-generator';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'TrackInput',\n    props: {\n        \"mode\": { required: true },\n        \"modeModifiers\": {},\n        \"raw\": { required: true },\n        \"rawModifiers\": {},\n        \"structured\": { required: true },\n        \"structuredModifiers\": {},\n    },\n    emits: [\"update:mode\", \"update:raw\", \"update:structured\"],\n    setup(__props) {\n        const mode = _useModel(__props, 'mode');\n        const rawText = _useModel(__props, 'raw');\n        const structuredList = _useModel(__props, 'structured');\n        const addTrack = () => {\n            structuredList.value.push({\n                id: generateUUID(),\n                url: '',\n                title: '',\n                artist: '',\n                cover: '',\n            });\n        };\n        const removeTrack = (index) => {\n            structuredList.value.splice(index, 1);\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createCommentVNode(\" 1. 模式切换 (Clean Segmented Control) \"),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"button\", {\n                        type: \"button\",\n                        class: _normalizeClass([\"flex-1 rounded-xl py-3 text-base font-bold transition-all\",\n                            mode.value === 'raw'\n                                ? 'bg-white text-stone-800 shadow-sm dark:bg-stone-700 dark:text-stone-100'\n                                : 'text-stone-500 hover:text-stone-700 dark:text-stone-400'\n                        ]),\n                        onClick: _cache[0] || (_cache[0] = ($event) => (mode.value = 'raw'))\n                    }, [...(_cache[3] || (_cache[3] = [\n                            _createElementVNode(\"i\", { class: \"fas fa-magic mr-2\" }, null, -1 /* CACHED */),\n                            _createTextVNode(\" 直接粘贴 \", -1 /* CACHED */)\n                        ]))], 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        type: \"button\",\n                        class: _normalizeClass([\"flex-1 rounded-xl py-3 text-base font-bold transition-all\",\n                            mode.value === 'structured'\n                                ? 'bg-white text-stone-800 shadow-sm dark:bg-stone-700 dark:text-stone-100'\n                                : 'text-stone-500 hover:text-stone-700 dark:text-stone-400'\n                        ]),\n                        onClick: _cache[1] || (_cache[1] = ($event) => (mode.value = 'structured'))\n                    }, [...(_cache[4] || (_cache[4] = [\n                            _createElementVNode(\"i\", { class: \"fas fa-list-ul mr-2\" }, null, -1 /* CACHED */),\n                            _createTextVNode(\" 手动录入 \", -1 /* CACHED */)\n                        ]))], 2 /* CLASS */)\n                ]),\n                _createCommentVNode(\" 2. 模式 A: Raw 文本输入 \"),\n                _withDirectives(_createElementVNode(\"div\", _hoisted_3, [\n                    _withDirectives(_createElementVNode(\"textarea\", {\n                        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => ((rawText).value = $event)),\n                        class: \"min-h-[240px] w-full appearance-none rounded-2xl bg-stone-100 p-5 font-mono text-base text-stone-700 shadow-sm transition-all outline-none placeholder:text-stone-400 focus:bg-white focus:ring-4 focus:ring-[#5C7F67]/20 dark:bg-stone-800 dark:text-stone-200 dark:focus:bg-stone-800 dark:focus:ring-[#5C7F67]/30\",\n                        placeholder: \"请直接粘贴歌曲信息，希望展示的信息完整即可，届时AI会处理内容。\\n例如：\\n1. 歌名 - 歌手 (https://example.com/1.mp3)\\n2. 歌名 https://example.com/2.mp3\"\n                    }, null, 512 /* NEED_PATCH */), [\n                        [_vModelText, rawText.value]\n                    ]),\n                    _cache[5] || (_cache[5] = _createElementVNode(\"div\", { class: \"pointer-events-none absolute right-5 bottom-5 text-sm text-stone-400\" }, \"纯文本模式\", -1 /* CACHED */))\n                ], 512 /* NEED_PATCH */), [\n                    [_vShow, mode.value === 'raw']\n                ]),\n                _createCommentVNode(\" 3. 模式 B: 结构化表单 \"),\n                _withDirectives(_createElementVNode(\"div\", _hoisted_4, [\n                    _createCommentVNode(\" 空状态 \"),\n                    (structuredList.value.length === 0)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                            _cache[7] || (_cache[7] = _createElementVNode(\"p\", { class: \"mb-4 text-lg font-medium text-stone-500 dark:text-stone-400\" }, \"暂无歌曲\", -1 /* CACHED */)),\n                            _createElementVNode(\"button\", {\n                                type: \"button\",\n                                class: \"rounded-full bg-stone-100 px-8 py-3 text-base font-bold text-stone-600 transition-all hover:-translate-y-0.5 hover:bg-[#5C7F67] hover:text-white hover:shadow-lg dark:bg-stone-800 dark:text-stone-300 dark:hover:bg-[#5C7F67]\",\n                                onClick: addTrack\n                            }, [...(_cache[6] || (_cache[6] = [\n                                    _createElementVNode(\"i\", { class: \"fas fa-plus mr-2\" }, null, -1 /* CACHED */),\n                                    _createTextVNode(\" 添加第一首歌 \", -1 /* CACHED */)\n                                ]))])\n                        ]))\n                        : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                            _createCommentVNode(\" 列表 \"),\n                            _createElementVNode(\"div\", _hoisted_6, [\n                                _createVNode(_TransitionGroup, { name: \"list\" }, {\n                                    default: _withCtx(() => [\n                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(structuredList.value, (track, index) => {\n                                            return (_openBlock(), _createElementBlock(\"div\", {\n                                                key: track.id,\n                                                class: \"group relative w-full rounded-3xl bg-white p-6 shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] transition-all dark:bg-stone-800\"\n                                            }, [\n                                                _createCommentVNode(\" 序号 \"),\n                                                _createElementVNode(\"div\", _hoisted_7, _toDisplayString(index + 1), 1 /* TEXT */),\n                                                _createCommentVNode(\" 删除按钮 \"),\n                                                _createElementVNode(\"button\", {\n                                                    type: \"button\",\n                                                    class: \"absolute top-4 right-4 rounded-full p-2 text-stone-300 opacity-0 transition-all group-hover:opacity-100 hover:bg-rose-50 hover:text-rose-500 dark:hover:bg-rose-900/20\",\n                                                    onClick: ($event) => (removeTrack(index))\n                                                }, [...(_cache[8] || (_cache[8] = [\n                                                        _createElementVNode(\"i\", { class: \"fas fa-trash-alt text-lg\" }, null, -1 /* CACHED */)\n                                                    ]))], 8 /* PROPS */, _hoisted_8),\n                                                _createElementVNode(\"div\", _hoisted_9, [\n                                                    _createCommentVNode(\" URL \"),\n                                                    _createElementVNode(\"div\", null, [\n                                                        _cache[9] || (_cache[9] = _createElementVNode(\"label\", { class: \"mb-2 block text-sm font-bold text-stone-600 dark:text-stone-300\" }, [\n                                                            _createTextVNode(\" 音频直链 \"),\n                                                            _createElementVNode(\"span\", { class: \"text-rose-400\" }, \"*\")\n                                                        ], -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": ($event) => ((track.url) = $event),\n                                                            type: \"text\",\n                                                            class: \"w-full appearance-none rounded-2xl bg-stone-50 px-5 py-4 text-base text-stone-800 transition-all outline-none placeholder:text-stone-400 focus:bg-white focus:ring-4 focus:ring-[#5C7F67]/20 dark:bg-stone-900 dark:text-stone-200 dark:focus:ring-[#5C7F67]/30\",\n                                                            placeholder: \"https://...\"\n                                                        }, null, 8 /* PROPS */, _hoisted_10), [\n                                                            [_vModelText, track.url]\n                                                        ])\n                                                    ]),\n                                                    _createCommentVNode(\" Title & Artist \"),\n                                                    _createElementVNode(\"div\", _hoisted_11, [\n                                                        _createElementVNode(\"div\", null, [\n                                                            _cache[10] || (_cache[10] = _createElementVNode(\"label\", { class: \"mb-2 block text-sm font-bold text-stone-600 dark:text-stone-300\" }, \"歌名\", -1 /* CACHED */)),\n                                                            _withDirectives(_createElementVNode(\"input\", {\n                                                                \"onUpdate:modelValue\": ($event) => ((track.title) = $event),\n                                                                type: \"text\",\n                                                                class: \"w-full appearance-none rounded-2xl bg-stone-50 px-5 py-4 text-base text-stone-800 transition-all outline-none placeholder:text-stone-400 focus:bg-white focus:ring-4 focus:ring-[#5C7F67]/20 dark:bg-stone-900 dark:text-stone-200 dark:focus:ring-[#5C7F67]/30\",\n                                                                placeholder: \"选填\"\n                                                            }, null, 8 /* PROPS */, _hoisted_12), [\n                                                                [_vModelText, track.title]\n                                                            ])\n                                                        ]),\n                                                        _createElementVNode(\"div\", null, [\n                                                            _cache[11] || (_cache[11] = _createElementVNode(\"label\", { class: \"mb-2 block text-sm font-bold text-stone-600 dark:text-stone-300\" }, \"歌手\", -1 /* CACHED */)),\n                                                            _withDirectives(_createElementVNode(\"input\", {\n                                                                \"onUpdate:modelValue\": ($event) => ((track.artist) = $event),\n                                                                type: \"text\",\n                                                                class: \"w-full appearance-none rounded-2xl bg-stone-50 px-5 py-4 text-base text-stone-800 transition-all outline-none placeholder:text-stone-400 focus:bg-white focus:ring-4 focus:ring-[#5C7F67]/20 dark:bg-stone-900 dark:text-stone-200 dark:focus:ring-[#5C7F67]/30\",\n                                                                placeholder: \"选填\"\n                                                            }, null, 8 /* PROPS */, _hoisted_13), [\n                                                                [_vModelText, track.artist]\n                                                            ])\n                                                        ])\n                                                    ]),\n                                                    _createCommentVNode(\" Cover \"),\n                                                    _createElementVNode(\"div\", null, [\n                                                        _cache[12] || (_cache[12] = _createElementVNode(\"label\", { class: \"mb-2 block text-sm font-bold text-stone-600 dark:text-stone-300\" }, \"封面图片链接\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": ($event) => ((track.cover) = $event),\n                                                            type: \"text\",\n                                                            class: \"w-full appearance-none rounded-2xl bg-stone-50 px-5 py-4 text-base text-stone-800 transition-all outline-none placeholder:text-stone-400 focus:bg-white focus:ring-4 focus:ring-[#5C7F67]/20 dark:bg-stone-900 dark:text-stone-200 dark:focus:ring-[#5C7F67]/30\",\n                                                            placeholder: \"https://... (选填)\"\n                                                        }, null, 8 /* PROPS */, _hoisted_14), [\n                                                            [_vModelText, track.cover]\n                                                        ])\n                                                    ])\n                                                ])\n                                            ]));\n                                        }), 128 /* KEYED_FRAGMENT */))\n                                    ]),\n                                    _: 1 /* STABLE */\n                                }),\n                                _createCommentVNode(\" 继续添加按钮 \"),\n                                _createElementVNode(\"button\", {\n                                    type: \"button\",\n                                    class: \"flex w-full items-center justify-center gap-3 rounded-3xl border-2 border-dashed border-stone-200 py-5 text-base font-bold text-stone-400 transition-all hover:border-[#5C7F67]/50 hover:bg-[#5C7F67]/5 hover:text-[#5C7F67] dark:border-stone-700 dark:hover:border-[#5C7F67] dark:hover:bg-[#5C7F67]/10 dark:hover:text-[#5C7F67]\",\n                                    onClick: addTrack\n                                }, [...(_cache[13] || (_cache[13] = [\n                                        _createElementVNode(\"i\", { class: \"fas fa-plus\" }, null, -1 /* CACHED */),\n                                        _createTextVNode(\" 继续添加 \", -1 /* CACHED */)\n                                    ]))])\n                            ])\n                        ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                ], 512 /* NEED_PATCH */), [\n                    [_vShow, mode.value === 'structured']\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./TrackInput.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TrackInput.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TrackInput.vue?vue&type=style&index=0&id=18cc96eb&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_53ff6257bd8fdf8315af10a81f7e3da1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-18cc96eb\"]])\n\nexport default __exports__","import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, normalizeClass as _normalizeClass, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect, Transition as _Transition, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = { class: \"flex h-full w-full flex-col bg-[#FDFCF8] px-6 pb-32 dark:bg-[#1c1917]\" };\nconst _hoisted_2 = { class: \"flex w-full items-center py-6\" };\nconst _hoisted_3 = { class: \"mx-auto w-full max-w-2xl space-y-12\" };\nconst _hoisted_4 = { class: \"text-3xl font-bold text-stone-800 dark:text-stone-100\" };\nconst _hoisted_5 = { class: \"flex w-full rounded-2xl bg-stone-100 p-1.5 dark:bg-stone-800\" };\nconst _hoisted_6 = { class: \"mt-3 text-base text-stone-500\" };\nconst _hoisted_7 = { class: \"flex w-full max-w-md rounded-2xl bg-stone-100 p-1.5 dark:bg-stone-800\" };\nconst _hoisted_8 = {\n    key: 0,\n    class: \"overflow-hidden\"\n};\nconst _hoisted_9 = { class: \"rounded-3xl border border-stone-200 bg-stone-50/50 p-6 dark:border-stone-700 dark:bg-stone-800/30\" };\nconst _hoisted_10 = {\n    key: 0,\n    class: \"space-y-8\"\n};\nconst _hoisted_11 = { class: \"flex items-center gap-4\" };\nconst _hoisted_12 = { class: \"space-y-3\" };\nconst _hoisted_13 = [\"onUpdate:modelValue\"];\nconst _hoisted_14 = { class: \"relative\" };\nconst _hoisted_15 = [\"onUpdate:modelValue\"];\nconst _hoisted_16 = [\"onUpdate:modelValue\"];\nconst _hoisted_17 = [\"onClick\"];\nconst _hoisted_18 = { class: \"space-y-4\" };\nconst _hoisted_19 = { class: \"mt-12 flex justify-center pb-8\" };\nimport { computed, watch } from 'vue';\nimport { generateUUID } from '../utils/id-generator';\nimport TrackInput from './TrackInput.vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'PlaylistEditor',\n    props: /*@__PURE__*/ _mergeModels({\n        targetType: {},\n        errors: {}\n    }, {\n        \"modelValue\": { required: true },\n        \"modelModifiers\": {},\n    }),\n    emits: /*@__PURE__*/ _mergeModels([\"back\"], [\"update:modelValue\"]),\n    setup(__props) {\n        const playlist = _useModel(__props, \"modelValue\");\n        // --- Computed ---\n        const currentType = computed(() => playlist.value.mvuConfig.type);\n        // --- Methods ---\n        const setPlaylistType = (type) => {\n            playlist.value.mvuConfig.type = type;\n        };\n        const addMvuCondition = () => {\n            playlist.value.mvuConfig.conditions.push({\n                id: generateUUID(),\n                path: '',\n                operator: '等于',\n                value: '',\n            });\n        };\n        const removeMvuCondition = (index) => {\n            playlist.value.mvuConfig.conditions.splice(index, 1);\n        };\n        // --- Watchers ---\n        // 当切换到 'scene' 且没有条件时，自动添加一条空条件\n        watch(() => playlist.value.mvuConfig.type, newType => {\n            if (newType === 'scene' && playlist.value.mvuConfig.conditions.length === 0) {\n                addMvuCondition();\n            }\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createCommentVNode(\" 1. 顶部导航 \"),\n                _createElementVNode(\"header\", _hoisted_2, [\n                    _createElementVNode(\"button\", {\n                        type: \"button\",\n                        class: \"group flex items-center text-lg font-bold text-stone-500 transition-colors hover:text-stone-800 dark:text-stone-400 dark:hover:text-stone-200\",\n                        onClick: _cache[0] || (_cache[0] = ($event) => (_ctx.$emit('back')))\n                    }, [...(_cache[13] || (_cache[13] = [\n                            _createElementVNode(\"div\", { class: \"mr-3 flex h-10 w-10 items-center justify-center rounded-full bg-stone-100 transition-colors group-hover:bg-stone-200 dark:bg-stone-800 dark:group-hover:bg-stone-700\" }, [\n                                _createElementVNode(\"i\", { class: \"fas fa-arrow-left text-sm\" })\n                            ], -1 /* CACHED */),\n                            _createElementVNode(\"span\", null, \"保存并返回\", -1 /* CACHED */)\n                        ]))])\n                ]),\n                _createCommentVNode(\" 2. 主表单流 \"),\n                _createElementVNode(\"main\", _hoisted_3, [\n                    _createCommentVNode(\" 标题区 \"),\n                    _createElementVNode(\"h1\", _hoisted_4, _toDisplayString(playlist.value.id || '编辑歌单'), 1 /* TEXT */),\n                    _createCommentVNode(\" Field 1: ID \"),\n                    _createElementVNode(\"div\", null, [\n                        _cache[14] || (_cache[14] = _createElementVNode(\"label\", { class: \"mb-3 block text-lg font-bold text-stone-700 dark:text-stone-200\" }, [\n                            _createTextVNode(\" 歌单 ID \"),\n                            _createElementVNode(\"span\", { class: \"text-rose-400\" }, \"*\")\n                        ], -1 /* CACHED */)),\n                        _withDirectives(_createElementVNode(\"input\", {\n                            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => ((playlist.value.id) = $event)),\n                            type: \"text\",\n                            class: \"w-full appearance-none rounded-2xl bg-stone-100 px-5 py-4 text-lg text-stone-800 transition-all outline-none placeholder:text-stone-400 focus:bg-white focus:ring-4 focus:ring-[#5C7F67]/20 dark:bg-stone-800 dark:text-stone-200 dark:focus:bg-stone-800 dark:focus:ring-[#5C7F67]/30\",\n                            placeholder: \"例如: battle_theme\"\n                        }, null, 512 /* NEED_PATCH */), [\n                            [_vModelText, playlist.value.id]\n                        ]),\n                        _cache[15] || (_cache[15] = _createElementVNode(\"p\", { class: \"mt-2 text-base text-stone-400\" }, \"唯一标识符，不可重复。\", -1 /* CACHED */))\n                    ]),\n                    _createCommentVNode(\" Field 2: 歌单类型 \"),\n                    _createElementVNode(\"div\", null, [\n                        _cache[16] || (_cache[16] = _createElementVNode(\"label\", { class: \"mb-3 block text-lg font-bold text-stone-700 dark:text-stone-200\" }, \" 歌单类型 \", -1 /* CACHED */)),\n                        _createElementVNode(\"div\", _hoisted_5, [\n                            _createElementVNode(\"button\", {\n                                type: \"button\",\n                                class: _normalizeClass([\"flex-1 rounded-xl py-3 text-base font-bold transition-all\",\n                                    currentType.value === 'base'\n                                        ? 'bg-white text-stone-800 shadow-sm dark:bg-stone-700 dark:text-stone-100'\n                                        : 'text-stone-500 hover:text-stone-700 dark:text-stone-400'\n                                ]),\n                                onClick: _cache[2] || (_cache[2] = ($event) => (setPlaylistType('base')))\n                            }, \" 基础歌单 \", 2 /* CLASS */),\n                            _createElementVNode(\"button\", {\n                                type: \"button\",\n                                class: _normalizeClass([\"flex-1 rounded-xl py-3 text-base font-bold transition-all\",\n                                    currentType.value === 'scene'\n                                        ? 'bg-white text-stone-800 shadow-sm dark:bg-stone-700 dark:text-stone-100'\n                                        : 'text-stone-500 hover:text-stone-700 dark:text-stone-400'\n                                ]),\n                                onClick: _cache[3] || (_cache[3] = ($event) => (setPlaylistType('scene')))\n                            }, \" 场景歌单 \", 2 /* CLASS */)\n                        ]),\n                        _createElementVNode(\"p\", _hoisted_6, _toDisplayString(currentType.value === 'base'\n                            ? '从开场白开始无条件播放的歌单，可作为默认背景音乐。'\n                            : '根据特定条件触发的歌单（如下雨、战斗、进入特定地点）。'), 1 /* TEXT */)\n                    ]),\n                    _createCommentVNode(\" Field 3: 播放模式 \"),\n                    _createElementVNode(\"div\", null, [\n                        _cache[17] || (_cache[17] = _createElementVNode(\"label\", { class: \"mb-3 block text-lg font-bold text-stone-700 dark:text-stone-200\" }, \" 播放模式 \", -1 /* CACHED */)),\n                        _createElementVNode(\"div\", _hoisted_7, [\n                            _createElementVNode(\"button\", {\n                                type: \"button\",\n                                class: _normalizeClass([\"flex-1 rounded-xl py-3 text-base font-bold transition-all\",\n                                    playlist.value.onFinishRule === 'loop'\n                                        ? 'bg-white text-stone-800 shadow-sm dark:bg-stone-700 dark:text-stone-100'\n                                        : 'text-stone-500 hover:text-stone-700 dark:text-stone-400'\n                                ]),\n                                onClick: _cache[4] || (_cache[4] = ($event) => (playlist.value.onFinishRule = 'loop'))\n                            }, \" Loop (循环) \", 2 /* CLASS */),\n                            _createElementVNode(\"button\", {\n                                type: \"button\",\n                                class: _normalizeClass([\"flex-1 rounded-xl py-3 text-base font-bold transition-all\",\n                                    playlist.value.onFinishRule === 'pop'\n                                        ? 'bg-white text-stone-800 shadow-sm dark:bg-stone-700 dark:text-stone-100'\n                                        : 'text-stone-500 hover:text-stone-700 dark:text-stone-400'\n                                ]),\n                                onClick: _cache[5] || (_cache[5] = ($event) => (playlist.value.onFinishRule = 'pop'))\n                            }, \" Pop (播完即焚) \", 2 /* CLASS */)\n                        ])\n                    ]),\n                    _createCommentVNode(\" Field 4: 歌曲列表 \"),\n                    _createElementVNode(\"div\", null, [\n                        _cache[18] || (_cache[18] = _createElementVNode(\"label\", { class: \"mb-3 block text-lg font-bold text-stone-700 dark:text-stone-200\" }, \" 歌曲列表 \", -1 /* CACHED */)),\n                        _createVNode(TrackInput, {\n                            mode: playlist.value.trackInputMode,\n                            \"onUpdate:mode\": _cache[6] || (_cache[6] = ($event) => ((playlist.value.trackInputMode) = $event)),\n                            raw: playlist.value.tracksRaw,\n                            \"onUpdate:raw\": _cache[7] || (_cache[7] = ($event) => ((playlist.value.tracksRaw) = $event)),\n                            structured: playlist.value.tracksStructured,\n                            \"onUpdate:structured\": _cache[8] || (_cache[8] = ($event) => ((playlist.value.tracksStructured) = $event))\n                        }, null, 8 /* PROPS */, [\"mode\", \"raw\", \"structured\"])\n                    ]),\n                    _createCommentVNode(\" Field 5: 场景触发配置 (仅 Scene 显示) \"),\n                    _createVNode(_Transition, { name: \"slide-down\" }, {\n                        default: _withCtx(() => [\n                            (currentType.value === 'scene')\n                                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                                    _createCommentVNode(\" 容器：淡雅外框 (Bg Stone 50 + Border Stone 200) \"),\n                                    _createElementVNode(\"div\", _hoisted_9, [\n                                        _cache[27] || (_cache[27] = _createElementVNode(\"h3\", { class: \"mb-6 flex items-center text-xl font-bold text-[#5C7F67] dark:text-[#5C7F67]\" }, [\n                                            _createElementVNode(\"i\", { class: \"fas fa-bolt mr-2\" }),\n                                            _createTextVNode(\" 触发配置 \")\n                                        ], -1 /* CACHED */)),\n                                        _createCommentVNode(\" A. MVU 模式 \"),\n                                        (__props.targetType === 'mvu')\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n                                                _createCommentVNode(\" 优先级 \"),\n                                                _createElementVNode(\"div\", null, [\n                                                    _cache[20] || (_cache[20] = _createElementVNode(\"label\", { class: \"mb-3 block text-base font-bold text-stone-700 dark:text-stone-300\" }, \" 优先级 (Priority) \", -1 /* CACHED */)),\n                                                    _createElementVNode(\"div\", _hoisted_11, [\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event) => ((playlist.value.mvuConfig.priority) = $event)),\n                                                            type: \"number\",\n                                                            class: \"w-28 appearance-none rounded-2xl bg-white px-4 py-3 text-center text-lg font-bold text-stone-800 shadow-sm transition-all outline-none focus:ring-2 focus:ring-[#5C7F67]/30 dark:bg-stone-900 dark:text-stone-100\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [\n                                                                _vModelText,\n                                                                playlist.value.mvuConfig.priority,\n                                                                void 0,\n                                                                { number: true }\n                                                            ]\n                                                        ]),\n                                                        _cache[19] || (_cache[19] = _createElementVNode(\"span\", { class: \"text-base text-stone-500\" }, \"场景歌单的优先级。多个场景歌单满足条件时，播放优先级最高的歌曲。数字越大，优先级越高。\", -1 /* CACHED */))\n                                                    ])\n                                                ]),\n                                                _createCommentVNode(\" 触发条件列表 \"),\n                                                _createElementVNode(\"div\", null, [\n                                                    _createElementVNode(\"div\", { class: \"mb-4 flex items-center justify-between\" }, [\n                                                        _cache[21] || (_cache[21] = _createElementVNode(\"label\", { class: \"text-base font-bold text-stone-700 dark:text-stone-300\" }, \" 条件列表 (AND) \", -1 /* CACHED */)),\n                                                        _createElementVNode(\"button\", {\n                                                            type: \"button\",\n                                                            class: \"rounded-lg px-3 py-1 text-sm font-bold text-[#5C7F67] hover:bg-[#5C7F67]/10 dark:hover:bg-[#5C7F67]/20\",\n                                                            onClick: addMvuCondition\n                                                        }, \" + 添加条件 \")\n                                                    ]),\n                                                    _createElementVNode(\"div\", _hoisted_12, [\n                                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(playlist.value.mvuConfig.conditions, (cond, idx) => {\n                                                            return (_openBlock(), _createElementBlock(\"div\", {\n                                                                key: cond.id,\n                                                                class: \"flex flex-wrap items-center gap-3 rounded-2xl bg-white p-3 shadow-sm transition-all hover:shadow-md dark:bg-stone-900\"\n                                                            }, [\n                                                                _createCommentVNode(\" 变量路径 \"),\n                                                                _withDirectives(_createElementVNode(\"input\", {\n                                                                    \"onUpdate:modelValue\": ($event) => ((cond.path) = $event),\n                                                                    type: \"text\",\n                                                                    placeholder: \"变量路径\",\n                                                                    class: \"min-w-[140px] flex-1 appearance-none rounded-xl bg-stone-50 px-4 py-3 text-base text-stone-800 outline-none placeholder:text-stone-400 focus:bg-white focus:ring-2 focus:ring-[#5C7F67]/30 dark:bg-stone-800 dark:text-stone-200\"\n                                                                }, null, 8 /* PROPS */, _hoisted_13), [\n                                                                    [_vModelText, cond.path]\n                                                                ]),\n                                                                _createCommentVNode(\" 操作符 (带自定义下拉图标) \"),\n                                                                _createElementVNode(\"div\", _hoisted_14, [\n                                                                    _withDirectives(_createElementVNode(\"select\", {\n                                                                        \"onUpdate:modelValue\": ($event) => ((cond.operator) = $event),\n                                                                        class: \"appearance-none rounded-xl bg-stone-50 py-3 pr-10 pl-4 text-base font-medium text-stone-800 outline-none focus:bg-white focus:ring-2 focus:ring-[#5C7F67]/30 dark:bg-stone-800 dark:text-stone-200\"\n                                                                    }, [...(_cache[22] || (_cache[22] = [\n                                                                            _createElementVNode(\"option\", null, \"等于\", -1 /* CACHED */),\n                                                                            _createElementVNode(\"option\", null, \"大于\", -1 /* CACHED */),\n                                                                            _createElementVNode(\"option\", null, \"大于等于\", -1 /* CACHED */),\n                                                                            _createElementVNode(\"option\", null, \"小于\", -1 /* CACHED */),\n                                                                            _createElementVNode(\"option\", null, \"小于等于\", -1 /* CACHED */),\n                                                                            _createElementVNode(\"option\", null, \"它的文字包含\", -1 /* CACHED */),\n                                                                            _createElementVNode(\"option\", null, \"时间范围是\", -1 /* CACHED */)\n                                                                        ]))], 8 /* PROPS */, _hoisted_15), [\n                                                                        [_vModelSelect, cond.operator]\n                                                                    ]),\n                                                                    _cache[23] || (_cache[23] = _createElementVNode(\"div\", { class: \"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-stone-400\" }, [\n                                                                        _createElementVNode(\"i\", { class: \"fas fa-chevron-down text-xs\" })\n                                                                    ], -1 /* CACHED */))\n                                                                ]),\n                                                                _createCommentVNode(\" 值 \"),\n                                                                _withDirectives(_createElementVNode(\"input\", {\n                                                                    \"onUpdate:modelValue\": ($event) => ((cond.value) = $event),\n                                                                    type: \"text\",\n                                                                    placeholder: \"值\",\n                                                                    class: \"min-w-[100px] flex-1 appearance-none rounded-xl bg-stone-50 px-4 py-3 text-base text-stone-800 outline-none placeholder:text-stone-400 focus:bg-white focus:ring-2 focus:ring-[#5C7F67]/30 dark:bg-stone-800 dark:text-stone-200\"\n                                                                }, null, 8 /* PROPS */, _hoisted_16), [\n                                                                    [_vModelText, cond.value]\n                                                                ]),\n                                                                _createCommentVNode(\" 删除 \"),\n                                                                _createElementVNode(\"button\", {\n                                                                    type: \"button\",\n                                                                    class: \"px-3 text-stone-300 transition-colors hover:text-rose-400\",\n                                                                    onClick: ($event) => (removeMvuCondition(idx))\n                                                                }, [...(_cache[24] || (_cache[24] = [\n                                                                        _createElementVNode(\"i\", { class: \"fas fa-times text-lg\" }, null, -1 /* CACHED */)\n                                                                    ]))], 8 /* PROPS */, _hoisted_17)\n                                                            ]));\n                                                        }), 128 /* KEYED_FRAGMENT */))\n                                                    ])\n                                                ]),\n                                                _createCommentVNode(\" InitVar (参考) \"),\n                                                _createElementVNode(\"div\", null, [\n                                                    _cache[25] || (_cache[25] = _createElementVNode(\"label\", { class: \"mb-3 block text-base font-bold text-stone-700 dark:text-stone-300\" }, \" InitVar 参考 (选填) \", -1 /* CACHED */)),\n                                                    _withDirectives(_createElementVNode(\"textarea\", {\n                                                        \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event) => ((playlist.value.mvuConfig.initVarRaw) = $event)),\n                                                        rows: \"3\",\n                                                        class: \"w-full appearance-none rounded-2xl bg-white px-5 py-4 text-base text-stone-600 shadow-sm transition-all outline-none placeholder:text-stone-300 focus:ring-2 focus:ring-[#5C7F67]/30 dark:bg-stone-900 dark:text-stone-300\",\n                                                        placeholder: \"在此粘贴 InitVar 内容，帮助 AI 理解变量结构...\"\n                                                    }, null, 512 /* NEED_PATCH */), [\n                                                        [_vModelText, playlist.value.mvuConfig.initVarRaw]\n                                                    ])\n                                                ])\n                                            ]))\n                                            : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                                _createCommentVNode(\" B. Text 模式 \"),\n                                                _createElementVNode(\"div\", _hoisted_18, [\n                                                    _createElementVNode(\"div\", null, [\n                                                        _cache[26] || (_cache[26] = _createElementVNode(\"label\", { class: \"mb-3 block text-xl font-bold text-stone-700 dark:text-stone-200\" }, [\n                                                            _createTextVNode(\" 场景歌单播放条件 \"),\n                                                            _createElementVNode(\"span\", { class: \"text-rose-400\" }, \"*\")\n                                                        ], -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"textarea\", {\n                                                            \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event) => ((playlist.value.textConfig.sceneDescription) = $event)),\n                                                            rows: \"4\",\n                                                            class: \"w-full appearance-none rounded-2xl bg-white px-5 py-4 text-lg text-stone-700 shadow-sm transition-all outline-none placeholder:text-stone-300 focus:ring-2 focus:ring-[#5C7F67]/30 dark:bg-stone-900 dark:text-stone-200\",\n                                                            placeholder: \"例如：<user>进入/位于家中时。条件最好清晰、明确，不和其他歌单重叠。\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelText, playlist.value.textConfig.sceneDescription]\n                                                        ])\n                                                    ])\n                                                ])\n                                            ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                                    ])\n                                ]))\n                                : _createCommentVNode(\"v-if\", true)\n                        ]),\n                        _: 1 /* STABLE */\n                    }),\n                    _createCommentVNode(\" 底部保存按钮 \"),\n                    _createElementVNode(\"div\", _hoisted_19, [\n                        _createElementVNode(\"button\", {\n                            type: \"button\",\n                            class: \"flex items-center rounded-full bg-[#6B8E78] px-10 py-3 text-lg font-bold text-white shadow-md transition-all hover:-translate-y-1 hover:bg-[#5C7F67] hover:shadow-lg active:translate-y-0 active:scale-95\",\n                            onClick: _cache[12] || (_cache[12] = ($event) => (_ctx.$emit('back')))\n                        }, [...(_cache[28] || (_cache[28] = [\n                                _createElementVNode(\"i\", { class: \"fas fa-check mr-3\" }, null, -1 /* CACHED */),\n                                _createTextVNode(\" 保存 \", -1 /* CACHED */)\n                            ]))])\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./PlaylistEditor.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PlaylistEditor.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PlaylistEditor.vue?vue&type=style&index=0&id=82741b0a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_53ff6257bd8fdf8315af10a81f7e3da1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-82741b0a\"]])\n\nexport default __exports__","import { ProjectState, Playlist, StructuredTrack, MvuOperator } from '../types';\n\n/**\n * 映射表：前端中文操作符 -> 后端 YAML 键名\n */\nconst OPERATOR_MAP: Record<MvuOperator, string> = {\n  等于: 'value',\n  大于: 'greater_than',\n  大于等于: 'greater_than_or_equal_to',\n  小于: 'less_than',\n  小于等于: 'less_than_or_equal_to',\n  它的文字包含: 'value_contains',\n  时间范围是: 'time_in_range',\n};\n\n/**\n * 辅助函数：生成缩进\n */\nconst indent = (level: number) => '  '.repeat(level);\n\n/**\n * 格式化结构化歌曲列表为 YAML\n */\nfunction formatStructuredTracks(tracks: StructuredTrack[]): string {\n  if (tracks.length === 0) return '[]';\n\n  let yaml = 'tracks:\\n';\n  tracks.forEach(t => {\n    yaml += indent(1) + `- url: \"${t.url.trim()}\"\\n`;\n    if (t.title.trim()) yaml += indent(2) + `歌名: \"${t.title.trim()}\"\\n`;\n    if (t.artist.trim()) yaml += indent(2) + `歌手: \"${t.artist.trim()}\"\\n`;\n    if (t.cover.trim()) yaml += indent(2) + `封面: \"${t.cover.trim()}\"\\n`;\n  });\n  return yaml;\n}\n\n/**\n * 格式化 MVU 触发器为 YAML\n */\nfunction formatMvuConfig(playlist: Playlist): string {\n  const { priority, conditions } = playlist.mvuConfig;\n\n  // 过滤无效条件\n  const validConditions = conditions.filter(c => c.path.trim() && c.value.trim());\n\n  // 如果没有有效条件，但它是场景歌单，AI 依然需要知道它是场景歌单，只是条件为空\n  if (validConditions.length === 0) return '# (警告: 用户未设置有效触发条件)\\n';\n\n  let yaml = `[触发器配置 (已格式化-请直接采纳)]\\n`;\n  // 修正点1：补全 type 字段\n  yaml += `- type: mvu_variable\\n`;\n  // 修正点2：playlist_id 增加缩进以对齐\n  yaml += indent(1) + `playlist_id: ${playlist.id}\\n`;\n  yaml += indent(1) + `priority: ${priority}\\n`;\n  yaml += indent(1) + `conditions:\\n`;\n\n  validConditions.forEach(c => {\n    const yamlKey = OPERATOR_MAP[c.operator];\n    let val = c.value.trim();\n\n    // 修正点3：增加布尔值检测，true/false 也不加引号\n    const isNumber = /^-?\\d+(\\.\\d+)?$/.test(val);\n    const isBoolean = val === 'true' || val === 'false';\n    // 只有既不是数字，也不是布尔值，或者操作符特殊时，才加引号\n    const needsQuote = (!isNumber && !isBoolean) || c.operator === '它的文字包含' || c.operator === '时间范围是';\n\n    if (needsQuote) val = `\"${val}\"`;\n\n    yaml += indent(2) + `- variable_path: \"${c.path.trim()}\"\\n`;\n    yaml += indent(3) + `${yamlKey}: ${val}\\n`;\n  });\n\n  return yaml;\n}\n\n/**\n * 核心生成函数\n */\nexport function generatePrompt(state: ProjectState): string {\n  const { playlists, targetType, defaultPlaylistId } = state;\n  const isMvu = targetType === 'mvu';\n\n  // 1. Header\n  let prompt = `以下是用户的歌单配置信息。请你检查完整性，解析未格式化的歌曲文本，并输出最终的 YAML [MusicConfig] 配置。\\n\\n`;\n\n  // 2. Global Block\n  prompt += `(全局块)\\n`;\n  prompt += `运行模式: [is_mvu: ${isMvu}]\\n`;\n\n  // 只有在 ID 有效且属于当前列表时才写入\n  // 且必须是 Base 类型 (防止逻辑错误)\n  const defaultPlaylist = playlists.find(p => p.id === defaultPlaylistId);\n  const isValidDefault = defaultPlaylist && (!isMvu || defaultPlaylist.mvuConfig.type === 'base');\n\n  if (isValidDefault && defaultPlaylistId) {\n    prompt += `默认基础歌单ID: ${defaultPlaylistId}\\n`;\n  } else {\n    // 显式告诉 AI 没有默认歌单，防止它幻觉补全\n    prompt += `默认基础歌单ID: (无) - 用户未指定，请勿自动设置任何默认歌单\\n`;\n  }\n  prompt += `\\n`;\n\n  // 3. Playlists Block\n\n  playlists.forEach((p, index) => {\n    prompt += `=========================\\n`;\n    prompt += `【歌单 ${index + 1} 数据】\\n`;\n    prompt += `ID: ${p.id}\\n`;\n    prompt += `结束规则: ${p.onFinishRule}\\n`;\n\n    // A. 歌曲部分\n    if (p.trackInputMode === 'structured') {\n      prompt += `\\n[歌曲列表 (已格式化-请直接采纳)]\\n`;\n      prompt += formatStructuredTracks(p.tracksStructured);\n    } else {\n      prompt += `\\n[歌曲列表 (原始文本-请解析为YAML)]\\n`;\n      prompt += (p.tracksRaw || '').trim() + `\\n`;\n    }\n\n    // B. 触发逻辑部分\n    if (isMvu) {\n      if (p.mvuConfig.type === 'base') {\n        prompt += `\\n[类型]: 基础歌单 (无需触发器，作为背景音乐候选项)\\n`;\n      } else {\n        prompt += `\\n[类型]: 场景歌单 (条件触发)\\n`;\n\n        // MVU Scene: 如果有 InitVar，先输出\n        if (p.mvuConfig.initVarRaw && p.mvuConfig.initVarRaw.trim()) {\n          prompt += `\\n[InitVar (仅供参考变量结构)]\\n`;\n          prompt += p.mvuConfig.initVarRaw.trim() + `\\n`;\n        }\n\n        // 输出触发器\n        prompt += `\\n` + formatMvuConfig(p);\n      }\n    } else {\n      // Text Mode\n      prompt += `\\n[情景描述]\\n`;\n      prompt += (p.textConfig.sceneDescription || '').trim() + `\\n`;\n    }\n  });\n\n  prompt += `=========================\\n`;\n\n  return prompt;\n}\n","import { Playlist, TargetType, ValidationResult } from '../types';\n\n/**\n * 1. 基础格式校验 (实时反馈用)\n * 检查必填项是否为空，ID 格式是否正确\n */\nexport function validatePlaylistBasic(\n  playlist: Playlist,\n  existingIds: string[] = [], // 用于 ID 查重\n): ValidationResult {\n  const errors: Record<string, string> = {};\n\n  // ID 校验\n  if (!playlist.id || !playlist.id.trim()) {\n    errors['id'] = 'ID 不能为空';\n  } else if (existingIds.includes(playlist.id)) {\n    errors['id'] = 'ID 已被使用，请更换';\n  }\n\n  // 歌曲内容校验\n  if (playlist.trackInputMode === 'raw') {\n    if (!playlist.tracksRaw || !playlist.tracksRaw.trim()) {\n      errors['tracks'] = '请粘贴歌曲信息';\n    }\n  } else if (playlist.tracksStructured.length === 0) {\n    // 修正：合并 else { if } -> else if\n    errors['tracks'] = '请至少添加一首歌曲';\n  } else {\n    const hasEmptyUrl = playlist.tracksStructured.some(t => !t.url.trim());\n    if (hasEmptyUrl) {\n      errors['tracks'] = '存在未填写音频链接的歌曲';\n    }\n  }\n\n  return { isValid: Object.keys(errors).length === 0, errors };\n}\n\n/**\n * 2. 业务逻辑校验 (提交拦截用)\n * 检查场景配置是否完整\n */\nexport function validatePlaylistLogic(playlist: Playlist, targetType: TargetType): string[] {\n  const logicErrors: string[] = [];\n  const baseLabel = `歌单 \"${playlist.id || '未命名'}\"`;\n  const isScene = playlist.mvuConfig.type === 'scene';\n\n  if (isScene) {\n    if (targetType === 'mvu') {\n      // MVU 场景：必须有触发条件\n      const validConditions = playlist.mvuConfig.conditions.filter(c => c.path.trim() && c.value.trim());\n      if (validConditions.length === 0) {\n        logicErrors.push(`${baseLabel}: 作为 MVU 场景歌单，必须设置至少一个完整的触发条件`);\n      }\n    } else if (!playlist.textConfig.sceneDescription.trim()) {\n      // 修正：合并 else { if } -> else if\n      // Text 场景：必须有情景描述\n      logicErrors.push(`${baseLabel}: 作为场景歌单，必须填写“场景歌单播放条件”`);\n    }\n  }\n\n  // 基础歌单 (Base) 无需额外逻辑校验\n  return logicErrors;\n}\n\n/**\n * 3. 全局一致性校验 (最终生成前调用)\n */\nexport function validateGlobalState(\n  playlists: Playlist[],\n  targetType: TargetType,\n  defaultPlaylistId: string | null,\n): { passed: boolean; messages: string[] } {\n  const messages: string[] = [];\n\n  // A. 数量检查\n  if (playlists.length === 0) {\n    return { passed: false, messages: ['请至少创建一个歌单'] };\n  }\n\n  // B. 逐条检查\n  const allIds = playlists.map(p => p.id);\n\n  playlists.forEach(p => {\n    // 1. 基础格式 (排除自身的 ID 查重)\n    const otherIds = allIds.filter(id => id !== p.id);\n    const basic = validatePlaylistBasic(p, otherIds);\n\n    if (!basic.isValid) {\n      const errFields = Object.values(basic.errors).join('、');\n      messages.push(`歌单 \"${p.id || '未命名'}\" 格式错误: ${errFields}`);\n    }\n\n    // 2. 业务逻辑\n    const logicErrors = validatePlaylistLogic(p, targetType);\n    messages.push(...logicErrors);\n  });\n\n  // C. 默认歌单规则检查\n  if (defaultPlaylistId) {\n    const target = playlists.find(p => p.id === defaultPlaylistId);\n\n    if (!target) {\n      // 理论上 UI 不会允许选不存在的 ID，但防万一\n      messages.push(`设置的默认歌单 \"${defaultPlaylistId}\" 不存在`);\n    } else if (target.mvuConfig.type !== 'base') {\n      // 修正：合并 else { if } -> else if\n      // 强制规则：默认歌单必须是 Base 类型\n      messages.push(\n        `默认歌单 \"${target.id}\" 是场景歌单。只有“基础歌单”才能被设为默认背景音乐，请修改其类型或取消默认设置。`,\n      );\n    }\n  }\n\n  return {\n    passed: messages.length === 0,\n    messages,\n  };\n}\n","import { defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, withModifiers as _withModifiers, TransitionGroup as _TransitionGroup, withCtx as _withCtx, createVNode as _createVNode, Transition as _Transition } from \"vue\";\nconst _hoisted_1 = { class: \"flex h-full w-full flex-col bg-[#FDFCF8] p-6 pb-20 dark:bg-[#1c1917]\" };\nconst _hoisted_2 = { class: \"flex w-full items-center justify-between py-4\" };\nconst _hoisted_3 = { class: \"flex items-center gap-4\" };\nconst _hoisted_4 = { class: \"hidden flex-col text-right sm:flex\" };\nconst _hoisted_5 = { class: \"text-sm font-bold text-[#5C7F67] dark:text-[#5C7F67]\" };\nconst _hoisted_6 = { class: \"flex w-full flex-1 flex-col\" };\nconst _hoisted_7 = { class: \"mx-auto flex w-full max-w-3xl flex-1 flex-col\" };\nconst _hoisted_8 = {\n    key: \"empty\",\n    class: \"flex flex-1 flex-col items-center justify-center py-20\"\n};\nconst _hoisted_9 = {\n    key: \"list\",\n    class: \"flex flex-col\"\n};\nconst _hoisted_10 = { class: \"mb-6 ml-2 text-2xl font-bold text-stone-700 dark:text-stone-200\" };\nconst _hoisted_11 = { class: \"ml-2 text-base font-normal text-stone-400\" };\nconst _hoisted_12 = { class: \"space-y-4\" };\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = { class: \"flex items-center gap-5\" };\nconst _hoisted_15 = { class: \"flex flex-col\" };\nconst _hoisted_16 = { class: \"text-lg font-bold text-stone-700 dark:text-stone-200\" };\nconst _hoisted_17 = { class: \"text-sm text-stone-400\" };\nconst _hoisted_18 = [\"onClick\"];\nconst _hoisted_19 = { class: \"mt-32 flex flex-col items-center\" };\nconst _hoisted_20 = { class: \"mb-8 w-full rounded-3xl bg-white p-8 shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] dark:bg-stone-800/50\" };\nconst _hoisted_21 = { class: \"mb-4 flex items-center gap-2\" };\nconst _hoisted_22 = { class: \"relative w-full max-w-md\" };\nconst _hoisted_23 = [\"value\"];\nconst _hoisted_24 = [\"value\"];\nconst _hoisted_25 = { class: \"w-full max-w-md scale-100 rounded-3xl bg-white p-8 shadow-2xl transition-all dark:bg-stone-800\" };\nconst _hoisted_26 = { class: \"flex justify-end\" };\nconst _hoisted_27 = { class: \"relative w-full max-w-md scale-100 rounded-3xl bg-white p-8 shadow-2xl transition-all dark:bg-stone-800\" };\nconst _hoisted_28 = { class: \"flex flex-col items-center text-center\" };\nimport { computed, ref } from 'vue';\nimport { generatePrompt } from '../utils/prompt-generator';\nimport { validateGlobalState } from '../utils/validator';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'Dashboard',\n    props: {\n        state: {}\n    },\n    emits: [\"navigate\", \"create\", \"edit\", \"delete\", \"update:default-playlist\"],\n    setup(__props, { emit: __emit }) {\n        const props = __props;\n        const emit = __emit;\n        // --- Local State ---\n        const showHelpModal = ref(false);\n        const showTipModal = ref(false);\n        // --- Computed ---\n        const isMvu = computed(() => props.state.targetType === 'mvu');\n        // --- Helpers ---\n        const getIconContainerClass = (playlist) => {\n            if (playlist.id === props.state.defaultPlaylistId) {\n                return 'bg-[#5C7F67]/10 text-[#5C7F67] dark:bg-[#5C7F67]/20';\n            }\n            return 'bg-stone-100 text-stone-400 dark:bg-stone-700 dark:text-stone-500';\n        };\n        const getIconClass = (playlist) => {\n            if (playlist.id === props.state.defaultPlaylistId)\n                return 'fa-home';\n            if (isMvu.value && playlist.mvuConfig.type === 'scene')\n                return 'fa-bolt';\n            return 'fa-music';\n        };\n        const getPlaylistTypeLabel = (playlist) => {\n            if (isMvu.value) {\n                return playlist.mvuConfig.type === 'base' ? '基础歌单' : '场景歌单';\n            }\n            return '普通歌单';\n        };\n        // --- Handlers ---\n        const onDefaultPlaylistChange = (event) => {\n            const val = event.target.value;\n            emit('update:default-playlist', val || null);\n        };\n        const handleSwitchMode = () => {\n            if (confirm('切换模式将清空所有‘场景歌单’的触发条件配置（歌曲列表会保留）。是否继续？')) {\n                emit('navigate', 'setup');\n            }\n        };\n        const handleGenerate = () => {\n            const result = validateGlobalState(props.state.playlists, props.state.targetType, props.state.defaultPlaylistId);\n            if (!result.passed) {\n                const errorMsg = `配置检查未通过：\\n\\n${result.messages.join('\\n')}`;\n                if (typeof toastr !== 'undefined')\n                    toastr.error('配置存在问题', '发送失败');\n                alert(errorMsg);\n                return;\n            }\n            const promptText = generatePrompt(props.state);\n            try {\n                const command = `/send ${promptText} | /trigger`;\n                if (typeof triggerSlash === 'function') {\n                    triggerSlash(command);\n                    // 显示提示弹窗\n                    showTipModal.value = true;\n                    if (typeof toastr !== 'undefined') {\n                        toastr.success(`已将 ${props.state.playlists.length} 个歌单配置发送给 AI`, '发送成功');\n                    }\n                }\n                else {\n                    console.error('triggerSlash not found');\n                    alert('环境错误：无法调用 triggerSlash。');\n                }\n            }\n            catch (e) {\n                console.error(e);\n                alert('发送指令时发生意外错误。');\n            }\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createCommentVNode(\" 1. 顶部导航 \"),\n                _createElementVNode(\"header\", _hoisted_2, [\n                    _createCommentVNode(\" 左侧：返回首页 (样式与 Setup 统一) \"),\n                    _createElementVNode(\"button\", {\n                        type: \"button\",\n                        class: \"group flex items-center rounded-full px-4 py-2 text-sm font-bold text-stone-500 transition-all hover:bg-stone-100 hover:text-stone-800 dark:text-stone-400 dark:hover:bg-stone-800 dark:hover:text-stone-200\",\n                        onClick: _cache[0] || (_cache[0] = ($event) => (_ctx.$emit('navigate', 'home')))\n                    }, [...(_cache[9] || (_cache[9] = [\n                            _createElementVNode(\"div\", { class: \"mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-stone-200 transition-colors group-hover:bg-stone-300 dark:bg-stone-700 dark:group-hover:bg-stone-600\" }, [\n                                _createElementVNode(\"i\", { class: \"fas fa-chevron-left text-[10px]\" })\n                            ], -1 /* CACHED */),\n                            _createTextVNode(\" 返回首页 \", -1 /* CACHED */)\n                        ]))]),\n                    _createCommentVNode(\" 右侧：模式切换 \"),\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _createCommentVNode(\" 当前模式指示 \"),\n                        _createElementVNode(\"div\", _hoisted_4, [\n                            _cache[10] || (_cache[10] = _createElementVNode(\"span\", { class: \"text-xs font-bold tracking-wider text-stone-400 uppercase\" }, \"Current Mode\", -1 /* CACHED */)),\n                            _createElementVNode(\"span\", _hoisted_5, _toDisplayString(isMvu.value ? 'MVU 变量卡' : '纯文字 / 传统卡'), 1 /* TEXT */)\n                        ]),\n                        _createElementVNode(\"button\", {\n                            type: \"button\",\n                            class: \"flex items-center rounded-full bg-white px-4 py-2 text-sm font-bold text-stone-600 shadow-sm transition-all hover:bg-stone-50 hover:text-stone-900 active:scale-95 dark:bg-stone-800 dark:text-stone-300 dark:hover:bg-stone-700\",\n                            onClick: handleSwitchMode\n                        }, [...(_cache[11] || (_cache[11] = [\n                                _createElementVNode(\"i\", { class: \"fas fa-exchange-alt mr-2 text-xs\" }, null, -1 /* CACHED */),\n                                _createTextVNode(\" 切换模式 \", -1 /* CACHED */)\n                            ]))])\n                    ])\n                ]),\n                _createCommentVNode(\" 2. 主内容区 (转场容器) \"),\n                _createElementVNode(\"main\", _hoisted_6, [\n                    _createElementVNode(\"div\", _hoisted_7, [\n                        _createVNode(_Transition, {\n                            name: \"fade-slide\",\n                            mode: \"out-in\"\n                        }, {\n                            default: _withCtx(() => [\n                                (__props.state.playlists.length === 0)\n                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                                        _cache[13] || (_cache[13] = _createElementVNode(\"div\", { class: \"mb-6 flex h-24 w-24 items-center justify-center rounded-full bg-[#5C7F67]/10 text-4xl text-[#5C7F67] dark:bg-[#5C7F67]/20\" }, [\n                                            _createElementVNode(\"i\", { class: \"fas fa-music\" })\n                                        ], -1 /* CACHED */)),\n                                        _cache[14] || (_cache[14] = _createElementVNode(\"p\", { class: \"mb-8 text-lg font-medium text-stone-500 dark:text-stone-400\" }, \"这里还很安静，开始添加乐章吧\", -1 /* CACHED */)),\n                                        _createElementVNode(\"button\", {\n                                            type: \"button\",\n                                            class: \"flex items-center justify-center rounded-full bg-[#5C7F67] px-8 py-4 text-base font-bold text-white shadow-[0_10px_30px_-10px_rgba(92,127,103,0.4)] transition-all hover:-translate-y-1 hover:bg-[#4A6852] hover:shadow-[0_20px_40px_-10px_rgba(92,127,103,0.5)] active:translate-y-0 active:scale-95\",\n                                            onClick: _cache[1] || (_cache[1] = ($event) => (_ctx.$emit('create')))\n                                        }, [...(_cache[12] || (_cache[12] = [\n                                                _createElementVNode(\"i\", { class: \"fas fa-plus mr-2\" }, null, -1 /* CACHED */),\n                                                _createTextVNode(\" 新建第一个歌单 \", -1 /* CACHED */)\n                                            ]))])\n                                    ]))\n                                    : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n                                        _createCommentVNode(\" 标题 \"),\n                                        _createElementVNode(\"h2\", _hoisted_10, [\n                                            _cache[15] || (_cache[15] = _createTextVNode(\" 歌单列表 \", -1 /* CACHED */)),\n                                            _createElementVNode(\"span\", _hoisted_11, \"(\" + _toDisplayString(__props.state.playlists.length) + \")\", 1 /* TEXT */)\n                                        ]),\n                                        _createCommentVNode(\" 歌单列表 \"),\n                                        _createElementVNode(\"div\", _hoisted_12, [\n                                            _createVNode(_TransitionGroup, { name: \"list\" }, {\n                                                default: _withCtx(() => [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.state.playlists, (playlist) => {\n                                                        return (_openBlock(), _createElementBlock(\"div\", {\n                                                            key: playlist._uuid,\n                                                            class: \"group relative flex w-full cursor-pointer items-center justify-between rounded-3xl bg-white p-5 shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] transition-all dark:hover:bg-stone-750 hover:-translate-y-1 hover:shadow-[0_15px_30px_-5px_rgba(0,0,0,0.08)] dark:bg-stone-800 dark:shadow-none\",\n                                                            onClick: ($event) => (_ctx.$emit('edit', playlist._uuid))\n                                                        }, [\n                                                            _createCommentVNode(\" 左侧信息 \"),\n                                                            _createElementVNode(\"div\", _hoisted_14, [\n                                                                _createElementVNode(\"div\", {\n                                                                    class: _normalizeClass([\"flex h-12 w-12 items-center justify-center rounded-full transition-colors\", getIconContainerClass(playlist)])\n                                                                }, [\n                                                                    _createElementVNode(\"i\", {\n                                                                        class: _normalizeClass(['fas', getIconClass(playlist)])\n                                                                    }, null, 2 /* CLASS */)\n                                                                ], 2 /* CLASS */),\n                                                                _createElementVNode(\"div\", _hoisted_15, [\n                                                                    _createElementVNode(\"span\", _hoisted_16, _toDisplayString(playlist.id || '未命名歌单'), 1 /* TEXT */),\n                                                                    _createElementVNode(\"span\", _hoisted_17, _toDisplayString(getPlaylistTypeLabel(playlist)), 1 /* TEXT */)\n                                                                ])\n                                                            ]),\n                                                            _createCommentVNode(\" 右侧删除 \"),\n                                                            _createElementVNode(\"button\", {\n                                                                type: \"button\",\n                                                                class: \"rounded-full p-3 text-stone-300 opacity-0 transition-all group-hover:opacity-100 hover:bg-rose-50 hover:text-rose-500 dark:hover:bg-rose-900/20\",\n                                                                onClick: _withModifiers(($event) => (_ctx.$emit('delete', playlist._uuid)), [\"stop\"])\n                                                            }, [...(_cache[16] || (_cache[16] = [\n                                                                    _createElementVNode(\"i\", { class: \"fas fa-trash-alt\" }, null, -1 /* CACHED */)\n                                                                ]))], 8 /* PROPS */, _hoisted_18)\n                                                        ], 8 /* PROPS */, _hoisted_13));\n                                                    }), 128 /* KEYED_FRAGMENT */)),\n                                                    _createCommentVNode(\" 列表末尾的新建按钮 \"),\n                                                    _createElementVNode(\"button\", {\n                                                        key: \"create-btn\",\n                                                        type: \"button\",\n                                                        class: \"flex w-full items-center justify-center rounded-3xl border-2 border-dashed border-stone-200 bg-transparent py-4 text-base font-bold text-stone-400 transition-all hover:border-[#5C7F67]/50 hover:bg-[#5C7F67]/5 hover:text-[#5C7F67] dark:border-stone-700 dark:hover:border-[#5C7F67] dark:hover:bg-[#5C7F67]/10 dark:hover:text-[#5C7F67]\",\n                                                        onClick: _cache[2] || (_cache[2] = ($event) => (_ctx.$emit('create')))\n                                                    }, [...(_cache[17] || (_cache[17] = [\n                                                            _createElementVNode(\"i\", { class: \"fas fa-plus mr-2\" }, null, -1 /* CACHED */),\n                                                            _createTextVNode(\" 新建歌单 \", -1 /* CACHED */)\n                                                        ]))])\n                                                ]),\n                                                _: 1 /* STABLE */\n                                            })\n                                        ]),\n                                        _createCommentVNode(\" C. 全局配置与生成 (强隔离，仅在列表存在时显示) \"),\n                                        _createCommentVNode(\" 使用 mt-32 拉开巨大间距，引导视线 \"),\n                                        _createElementVNode(\"div\", _hoisted_19, [\n                                            _createCommentVNode(\" 全局配置卡片 \"),\n                                            _createElementVNode(\"div\", _hoisted_20, [\n                                                _createElementVNode(\"div\", _hoisted_21, [\n                                                    _cache[19] || (_cache[19] = _createElementVNode(\"label\", { class: \"text-lg font-bold text-stone-700 dark:text-stone-200\" }, \" 默认背景音乐 (Default Playlist) \", -1 /* CACHED */)),\n                                                    _createElementVNode(\"button\", {\n                                                        type: \"button\",\n                                                        class: \"text-stone-400 transition-colors hover:text-[#5C7F67]\",\n                                                        onClick: _cache[3] || (_cache[3] = ($event) => (showHelpModal.value = true))\n                                                    }, [...(_cache[18] || (_cache[18] = [\n                                                            _createElementVNode(\"i\", { class: \"fas fa-question-circle text-lg\" }, null, -1 /* CACHED */)\n                                                        ]))])\n                                                ]),\n                                                _createElementVNode(\"div\", _hoisted_22, [\n                                                    _createElementVNode(\"select\", {\n                                                        value: __props.state.defaultPlaylistId || '',\n                                                        class: \"w-full appearance-none rounded-2xl bg-stone-50 px-5 py-4 text-base text-stone-700 ring-1 ring-stone-200 transition-all outline-none focus:bg-white focus:ring-2 focus:ring-[#5C7F67]/30 dark:bg-stone-800 dark:text-stone-200 dark:ring-stone-700\",\n                                                        onChange: onDefaultPlaylistChange\n                                                    }, [\n                                                        _cache[20] || (_cache[20] = _createElementVNode(\"option\", { value: \"\" }, \"(无)\", -1 /* CACHED */)),\n                                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.state.playlists, (p) => {\n                                                            return (_openBlock(), _createElementBlock(\"option\", {\n                                                                key: p._uuid,\n                                                                value: p.id\n                                                            }, _toDisplayString(p.id || '未命名歌单'), 9 /* TEXT, PROPS */, _hoisted_24));\n                                                        }), 128 /* KEYED_FRAGMENT */))\n                                                    ], 40 /* PROPS, NEED_HYDRATION */, _hoisted_23),\n                                                    _cache[21] || (_cache[21] = _createElementVNode(\"div\", { class: \"pointer-events-none absolute inset-y-0 right-0 flex items-center px-5 text-stone-400\" }, [\n                                                        _createElementVNode(\"i\", { class: \"fas fa-chevron-down text-xs\" })\n                                                    ], -1 /* CACHED */))\n                                                ]),\n                                                _cache[22] || (_cache[22] = _createElementVNode(\"p\", { class: \"mt-3 text-sm text-stone-500\" }, \"基础歌单才可以作为默认歌单。\", -1 /* CACHED */))\n                                            ]),\n                                            _createCommentVNode(\" 生成按钮 \"),\n                                            _createElementVNode(\"button\", {\n                                                type: \"button\",\n                                                class: \"w-fit rounded-full bg-[#5C7F67] px-16 py-4 text-xl font-bold text-white shadow-[0_10px_30px_-5px_rgba(92,127,103,0.4)] transition-all hover:-translate-y-1 hover:bg-[#4A6852] hover:shadow-[0_20px_40px_-5px_rgba(92,127,103,0.5)] active:translate-y-0 active:scale-95\",\n                                                onClick: handleGenerate\n                                            }, [...(_cache[23] || (_cache[23] = [\n                                                    _createTextVNode(\" 生成并发送给 AI \", -1 /* CACHED */),\n                                                    _createElementVNode(\"i\", { class: \"fas fa-paper-plane ml-3\" }, null, -1 /* CACHED */)\n                                                ]))])\n                                        ])\n                                    ]))\n                            ]),\n                            _: 1 /* STABLE */\n                        })\n                    ])\n                ]),\n                _createCommentVNode(\" 3. 帮助模态窗 (Modal) \"),\n                _createVNode(_Transition, { name: \"fade\" }, {\n                    default: _withCtx(() => [\n                        (showHelpModal.value)\n                            ? (_openBlock(), _createElementBlock(\"div\", {\n                                key: 0,\n                                class: \"fixed inset-0 z-50 flex items-center justify-center bg-stone-900/30 p-6 backdrop-blur-sm\",\n                                onClick: _cache[5] || (_cache[5] = _withModifiers(($event) => (showHelpModal.value = false), [\"self\"]))\n                            }, [\n                                _createElementVNode(\"div\", _hoisted_25, [\n                                    _cache[24] || (_cache[24] = _createElementVNode(\"h3\", { class: \"mb-4 text-xl font-bold text-stone-800 dark:text-stone-100\" }, \"关于默认背景音乐\", -1 /* CACHED */)),\n                                    _cache[25] || (_cache[25] = _createElementVNode(\"p\", { class: \"mb-8 text-base leading-relaxed text-stone-600 dark:text-stone-300\" }, \" 快速给所有开场白指定默认基础歌单，可在特定开场白使用<playlist:...>标签使用特定歌单取代默认歌单。 \", -1 /* CACHED */)),\n                                    _createElementVNode(\"div\", _hoisted_26, [\n                                        _createElementVNode(\"button\", {\n                                            type: \"button\",\n                                            class: \"rounded-full bg-[#5C7F67]/10 px-6 py-2 text-sm font-bold text-[#5C7F67] hover:bg-[#5C7F67]/20 dark:bg-[#5C7F67]/20 dark:text-[#5C7F67]\",\n                                            onClick: _cache[4] || (_cache[4] = ($event) => (showHelpModal.value = false))\n                                        }, \" 我知道了 \")\n                                    ])\n                                ])\n                            ]))\n                            : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _: 1 /* STABLE */\n                }),\n                _createCommentVNode(\" 4. 发送提示模态窗 (Tip Modal) \"),\n                _createVNode(_Transition, { name: \"fade\" }, {\n                    default: _withCtx(() => [\n                        (showTipModal.value)\n                            ? (_openBlock(), _createElementBlock(\"div\", {\n                                key: 0,\n                                class: \"fixed inset-0 z-[60] flex items-center justify-center bg-stone-900/30 p-6 backdrop-blur-sm\",\n                                onClick: _cache[8] || (_cache[8] = _withModifiers(($event) => (showTipModal.value = false), [\"self\"]))\n                            }, [\n                                _createElementVNode(\"div\", _hoisted_27, [\n                                    _createCommentVNode(\" 关闭按钮 (右上角小 X) \"),\n                                    _createElementVNode(\"button\", {\n                                        type: \"button\",\n                                        class: \"absolute top-4 right-4 p-2 text-stone-400 hover:text-stone-600 dark:hover:text-stone-200\",\n                                        onClick: _cache[6] || (_cache[6] = ($event) => (showTipModal.value = false))\n                                    }, [...(_cache[26] || (_cache[26] = [\n                                            _createElementVNode(\"i\", { class: \"fas fa-times\" }, null, -1 /* CACHED */)\n                                        ]))]),\n                                    _createCommentVNode(\" 内容 \"),\n                                    _createElementVNode(\"div\", _hoisted_28, [\n                                        _cache[27] || (_cache[27] = _createElementVNode(\"div\", { class: \"mb-5 flex h-16 w-16 items-center justify-center rounded-full bg-[#5C7F67]/10 text-2xl text-[#5C7F67]\" }, [\n                                            _createElementVNode(\"i\", { class: \"fas fa-paper-plane\" })\n                                        ], -1 /* CACHED */)),\n                                        _cache[28] || (_cache[28] = _createElementVNode(\"h3\", { class: \"mb-4 text-xl font-bold text-stone-800 dark:text-stone-100\" }, \"歌单配置已发送\", -1 /* CACHED */)),\n                                        _cache[29] || (_cache[29] = _createElementVNode(\"p\", { class: \"mb-6 text-base leading-relaxed text-stone-600 dark:text-stone-300\" }, [\n                                            _createTextVNode(\" 请等待 AI 回复和指导后续操作。\"),\n                                            _createElementVNode(\"br\"),\n                                            _createElementVNode(\"br\"),\n                                            _createElementVNode(\"span\", { class: \"text-sm text-stone-500\" }, [\n                                                _createTextVNode(\" 💡 建议使用 \"),\n                                                _createElementVNode(\"span\", { class: \"font-bold text-[#5C7F67]\" }, \"Default\"),\n                                                _createTextVNode(\" 预设，并关掉不相关的世界书，否则可能挤占 AI 注意力导致生成配置出错哦。 \")\n                                            ])\n                                        ], -1 /* CACHED */)),\n                                        _createElementVNode(\"button\", {\n                                            type: \"button\",\n                                            class: \"rounded-full bg-[#5C7F67] px-8 py-2.5 text-sm font-bold text-white shadow-md transition-transform hover:scale-105 active:scale-95\",\n                                            onClick: _cache[7] || (_cache[7] = ($event) => (showTipModal.value = false))\n                                        }, \" 我知道了 \")\n                                    ])\n                                ])\n                            ]))\n                            : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _: 1 /* STABLE */\n                })\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./Dashboard.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Dashboard.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Dashboard.vue?vue&type=style&index=0&id=29490dd8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_53ff6257bd8fdf8315af10a81f7e3da1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-29490dd8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"flex h-full w-full flex-col items-center bg-[#FDFCF8] p-6 transition-colors duration-500 dark:bg-[#1c1917]\" };\nconst _hoisted_2 = { class: \"flex w-full max-w-md flex-1 flex-col items-center justify-center\" };\nconst _hoisted_3 = { class: \"flex w-full flex-col gap-4\" };\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'Home',\n    emits: [\"start\"],\n    setup(__props) {\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createCommentVNode(\" 1. 核心内容区 (垂直居中，避免顶头) \"),\n                _createElementVNode(\"main\", _hoisted_2, [\n                    _createCommentVNode(\" 星球图标 (悬浮动画，无底色) \"),\n                    _cache[4] || (_cache[4] = _createElementVNode(\"div\", { class: \"animate-float mb-8 text-7xl select-none\" }, \" 🪐 \", -1 /* CACHED */)),\n                    _createCommentVNode(\" 标题组 \"),\n                    _cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n                        class: \"fade-in-up mb-12 text-center\",\n                        style: { \"animation-delay\": \"100ms\" }\n                    }, [\n                        _createElementVNode(\"h1\", { class: \"mb-3 text-3xl font-bold tracking-tight text-stone-700 dark:text-stone-200\" }, \" 欢迎降落黑棘星 \"),\n                        _createElementVNode(\"p\", { class: \"text-base text-stone-400 dark:text-stone-500\" }, [\n                            _createTextVNode(\" 为你的角色卡打造沉浸式听觉体验。\"),\n                            _createElementVNode(\"br\"),\n                            _createTextVNode(\" 请选择一种方式开始你的旅程。 \")\n                        ])\n                    ], -1 /* CACHED */)),\n                    _createCommentVNode(\" 功能入口卡片组 (Action Tiles) \"),\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _createCommentVNode(\" 卡片 1: 简单开始 \"),\n                        _cache[2] || (_cache[2] = _createStaticVNode(\"<button type=\\\"button\\\" class=\\\"fade-in-up group relative flex w-full items-center gap-5 rounded-2xl bg-white p-5 text-left shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] transition-all hover:-translate-y-1 hover:shadow-[0_10px_30px_-4px_rgba(92,127,103,0.15)] dark:bg-stone-800 dark:shadow-none\\\" style=\\\"animation-delay:200ms;\\\" title=\\\"该功能即将上线\\\" data-v-735c9c6a><!-- 图标容器 --><div class=\\\"flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-[#5C7F67]/10 text-[#5C7F67] transition-transform group-hover:scale-110 dark:bg-[#5C7F67]/20\\\" data-v-735c9c6a><i class=\\\"fas fa-magic text-lg\\\" data-v-735c9c6a></i></div><!-- 文字 --><div class=\\\"flex flex-col\\\" data-v-735c9c6a><span class=\\\"text-base font-bold text-stone-700 group-hover:text-[#5C7F67] dark:text-stone-200 dark:group-hover:text-[#5C7F67]\\\" data-v-735c9c6a> 简单开始第一步 </span><span class=\\\"text-xs text-stone-400\\\" data-v-735c9c6a> 了解功能和你的需求，制作第一个歌单 </span></div><!-- 箭头 --><div class=\\\"ml-auto text-stone-300 transition-transform group-hover:translate-x-1 group-hover:text-[#5C7F67]\\\" data-v-735c9c6a><i class=\\\"fas fa-chevron-right\\\" data-v-735c9c6a></i></div></button>\", 1)),\n                        _createCommentVNode(\" 卡片 2: 批量配置 (原 Dashboard) \"),\n                        _createElementVNode(\"button\", {\n                            type: \"button\",\n                            class: \"fade-in-up group relative flex w-full items-center gap-5 rounded-2xl bg-white p-5 text-left shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] transition-all hover:-translate-y-1 hover:shadow-[0_10px_30px_-4px_rgba(92,127,103,0.15)] dark:bg-stone-800 dark:shadow-none\",\n                            style: { \"animation-delay\": \"300ms\" },\n                            onClick: _cache[0] || (_cache[0] = ($event) => (_ctx.$emit('start')))\n                        }, [...(_cache[1] || (_cache[1] = [\n                                _createStaticVNode(\"<div class=\\\"flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-[#5C7F67]/10 text-[#5C7F67] transition-transform group-hover:scale-110 dark:bg-[#5C7F67]/20\\\" data-v-735c9c6a><i class=\\\"fas fa-layer-group text-lg\\\" data-v-735c9c6a></i></div><div class=\\\"flex flex-col\\\" data-v-735c9c6a><span class=\\\"text-base font-bold text-stone-700 group-hover:text-[#5C7F67] dark:text-stone-200 dark:group-hover:text-[#5C7F67]\\\" data-v-735c9c6a> 制作多个歌单 </span><span class=\\\"text-xs text-stone-400\\\" data-v-735c9c6a> 清楚自身需求后，更快捷方便地制作歌单 </span></div><div class=\\\"ml-auto text-stone-300 transition-transform group-hover:translate-x-1 group-hover:text-[#5C7F67]\\\" data-v-735c9c6a><i class=\\\"fas fa-chevron-right\\\" data-v-735c9c6a></i></div>\", 3)\n                            ]))]),\n                        _createCommentVNode(\" 卡片 3: 皮肤制作 \"),\n                        _cache[3] || (_cache[3] = _createStaticVNode(\"<button type=\\\"button\\\" class=\\\"fade-in-up group relative flex w-full items-center gap-5 rounded-2xl bg-white p-5 text-left shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] transition-all hover:-translate-y-1 hover:shadow-[0_10px_30px_-4px_rgba(92,127,103,0.15)] dark:bg-stone-800 dark:shadow-none\\\" style=\\\"animation-delay:400ms;\\\" title=\\\"该功能即将上线\\\" data-v-735c9c6a><div class=\\\"flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-[#5C7F67]/10 text-[#5C7F67] transition-transform group-hover:scale-110 dark:bg-[#5C7F67]/20\\\" data-v-735c9c6a><i class=\\\"fas fa-paint-brush text-lg\\\" data-v-735c9c6a></i></div><div class=\\\"flex flex-col\\\" data-v-735c9c6a><span class=\\\"text-base font-bold text-stone-700 group-hover:text-[#5C7F67] dark:text-stone-200 dark:group-hover:text-[#5C7F67]\\\" data-v-735c9c6a> 制作播放器皮肤 </span><span class=\\\"text-xs text-stone-400\\\" data-v-735c9c6a> 定制角色的专属播放器 </span></div><div class=\\\"ml-auto text-stone-300 transition-transform group-hover:translate-x-1 group-hover:text-[#5C7F67]\\\" data-v-735c9c6a><i class=\\\"fas fa-chevron-right\\\" data-v-735c9c6a></i></div></button>\", 1))\n                    ])\n                ]),\n                _createCommentVNode(\" 2. 底部版权 (沉底，不重叠) \"),\n                _cache[6] || (_cache[6] = _createElementVNode(\"footer\", {\n                    class: \"fade-in-up mt-auto pt-10 pb-2 text-center\",\n                    style: { \"animation-delay\": \"600ms\" }\n                }, [\n                    _createElementVNode(\"p\", { class: \"text-[10px] font-medium tracking-[0.2em] text-stone-300 uppercase dark:text-stone-700\" }, \" Copyright © 荒行 \")\n                ], -1 /* CACHED */))\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./Home.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=735c9c6a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_53ff6257bd8fdf8315af10a81f7e3da1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-735c9c6a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"flex h-full w-full flex-col bg-[#FDFCF8] p-6 transition-colors duration-500 dark:bg-[#1c1917]\" };\nconst _hoisted_2 = {\n    class: \"fade-in-up w-full py-4\",\n    style: { \"animation-delay\": \"0ms\" }\n};\nconst _hoisted_3 = { class: \"flex w-full flex-1 flex-col items-center justify-center pb-20\" };\nconst _hoisted_4 = { class: \"grid w-full max-w-4xl gap-8 md:grid-cols-2\" };\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'Setup',\n    emits: [\"back\", \"select\"],\n    setup(__props) {\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createCommentVNode(\" 1. 顶部导航 \"),\n                _createElementVNode(\"header\", _hoisted_2, [\n                    _createElementVNode(\"button\", {\n                        type: \"button\",\n                        class: \"group flex items-center rounded-full px-4 py-2 text-sm font-bold text-stone-500 transition-all hover:bg-stone-100 hover:text-stone-800 dark:text-stone-400 dark:hover:bg-stone-800 dark:hover:text-stone-200\",\n                        onClick: _cache[0] || (_cache[0] = ($event) => (_ctx.$emit('back')))\n                    }, [...(_cache[3] || (_cache[3] = [\n                            _createElementVNode(\"div\", { class: \"mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-stone-200 transition-colors group-hover:bg-stone-300 dark:bg-stone-700 dark:group-hover:bg-stone-600\" }, [\n                                _createElementVNode(\"i\", { class: \"fas fa-chevron-left text-[10px]\" })\n                            ], -1 /* CACHED */),\n                            _createTextVNode(\" 返回 \", -1 /* CACHED */)\n                        ]))])\n                ]),\n                _createCommentVNode(\" 2. 核心选择区 \"),\n                _createElementVNode(\"main\", _hoisted_3, [\n                    _createCommentVNode(\" 标题组 \"),\n                    _cache[12] || (_cache[12] = _createElementVNode(\"div\", {\n                        class: \"fade-in-up mb-12 text-center\",\n                        style: { \"animation-delay\": \"100ms\" }\n                    }, [\n                        _createElementVNode(\"h2\", { class: \"mb-3 text-2xl font-bold tracking-tight text-stone-700 dark:text-stone-200\" }, \" 选择你的角色卡类型 \"),\n                        _createElementVNode(\"p\", { class: \"text-base text-stone-400 dark:text-stone-500\" }, \" 我们将根据卡片类型，为你提供最合适的配置工具。 \")\n                    ], -1 /* CACHED */)),\n                    _createCommentVNode(\" 卡片网格 \"),\n                    _createElementVNode(\"div\", _hoisted_4, [\n                        _createCommentVNode(\" 选项 A: MVU 卡 \"),\n                        _createElementVNode(\"button\", {\n                            type: \"button\",\n                            class: \"fade-in-up group relative flex w-full flex-col items-center rounded-3xl bg-white p-10 text-center shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] transition-all hover:-translate-y-2 hover:shadow-[0_20px_40px_-4px_rgba(92,127,103,0.15)] dark:bg-stone-800 dark:shadow-none\",\n                            style: { \"animation-delay\": \"200ms\" },\n                            onClick: _cache[1] || (_cache[1] = ($event) => (_ctx.$emit('select', 'mvu')))\n                        }, [\n                            _createCommentVNode(\" 图标容器 \"),\n                            _cache[4] || (_cache[4] = _createElementVNode(\"div\", { class: \"mb-8 flex h-24 w-24 items-center justify-center rounded-full bg-[#5C7F67]/10 text-4xl text-[#5C7F67] transition-transform duration-500 group-hover:scale-110 group-hover:rotate-6 dark:bg-[#5C7F67]/20\" }, [\n                                _createElementVNode(\"i\", { class: \"fas fa-bolt\" })\n                            ], -1 /* CACHED */)),\n                            _createCommentVNode(\" 文本 \"),\n                            _cache[5] || (_cache[5] = _createElementVNode(\"h3\", { class: \"mb-3 text-xl font-bold text-stone-700 group-hover:text-[#5C7F67] dark:text-stone-200 dark:group-hover:text-[#5C7F67]\" }, \" MVU 卡 \", -1 /* CACHED */)),\n                            _cache[6] || (_cache[6] = _createElementVNode(\"p\", { class: \"leading-relaxed text-stone-400 dark:text-stone-500\" }, [\n                                _createTextVNode(\" 不涉及 AI 判断\"),\n                                _createElementVNode(\"br\"),\n                                _createTextVNode(\" 可根据变量变化切换歌单 \")\n                            ], -1 /* CACHED */)),\n                            _createCommentVNode(\" 底部装饰条 (Hover时显现) \"),\n                            _cache[7] || (_cache[7] = _createElementVNode(\"div\", { class: \"absolute bottom-0 h-1.5 w-1/3 rounded-t-full bg-[#5C7F67] opacity-0 transition-opacity duration-300 group-hover:opacity-100\" }, null, -1 /* CACHED */))\n                        ]),\n                        _createCommentVNode(\" 选项 B: 非 MVU 卡 \"),\n                        _createElementVNode(\"button\", {\n                            type: \"button\",\n                            class: \"fade-in-up group relative flex w-full flex-col items-center rounded-3xl bg-white p-10 text-center shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] transition-all hover:-translate-y-2 hover:shadow-[0_20px_40px_-4px_rgba(92,127,103,0.15)] dark:bg-stone-800 dark:shadow-none\",\n                            style: { \"animation-delay\": \"300ms\" },\n                            onClick: _cache[2] || (_cache[2] = ($event) => (_ctx.$emit('select', 'text')))\n                        }, [\n                            _createCommentVNode(\" 图标容器 \"),\n                            _cache[8] || (_cache[8] = _createElementVNode(\"div\", { class: \"mb-8 flex h-24 w-24 items-center justify-center rounded-full bg-[#5C7F67]/10 text-4xl text-[#5C7F67] transition-transform duration-500 group-hover:scale-110 group-hover:-rotate-3 dark:bg-[#5C7F67]/20\" }, [\n                                _createElementVNode(\"i\", { class: \"fas fa-book-open\" })\n                            ], -1 /* CACHED */)),\n                            _createCommentVNode(\" 文本 \"),\n                            _cache[9] || (_cache[9] = _createElementVNode(\"h3\", { class: \"mb-3 text-xl font-bold text-stone-700 group-hover:text-[#5C7F67] dark:text-stone-200 dark:group-hover:text-[#5C7F67]\" }, \" 非 MVU 卡 \", -1 /* CACHED */)),\n                            _cache[10] || (_cache[10] = _createElementVNode(\"p\", { class: \"leading-relaxed text-stone-400 dark:text-stone-500\" }, [\n                                _createTextVNode(\" 适合自然语言\"),\n                                _createElementVNode(\"br\"),\n                                _createTextVNode(\" 由 AI 判断切换歌单 \")\n                            ], -1 /* CACHED */)),\n                            _createCommentVNode(\" 底部装饰条 (Hover时显现) \"),\n                            _cache[11] || (_cache[11] = _createElementVNode(\"div\", { class: \"absolute bottom-0 h-1.5 w-1/3 rounded-t-full bg-[#5C7F67] opacity-0 transition-opacity duration-300 group-hover:opacity-100\" }, null, -1 /* CACHED */))\n                        ])\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./Setup.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Setup.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Setup.vue?vue&type=style&index=0&id=039ed7be&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_53ff6257bd8fdf8315af10a81f7e3da1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-039ed7be\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, openBlock as _openBlock, createBlock as _createBlock, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"flex min-h-[600px] w-full flex-col bg-[#FDFCF8] font-sans text-stone-600 transition-colors duration-500 dark:bg-[#1c1917] dark:text-stone-300\" };\nimport { computed, reactive, nextTick } from 'vue';\nimport { generateUUID } from './utils/id-generator';\nimport PlaylistEditor from './components/PlaylistEditor.vue';\nimport Dashboard from './views/Dashboard.vue';\nimport Home from './views/Home.vue';\nimport Setup from './views/Setup.vue';\n// --- 全局状态初始化 ---\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'app',\n    setup(__props) {\n        const state = reactive({\n            currentView: 'home',\n            activePlaylistUuid: null,\n            targetType: 'mvu',\n            defaultPlaylistId: null,\n            playlists: [],\n        });\n        // --- Computed ---\n        const activePlaylist = computed({\n            get: () => state.playlists.find(p => p._uuid === state.activePlaylistUuid),\n            set: newVal => {\n                if (!newVal)\n                    return;\n                const idx = state.playlists.findIndex(p => p._uuid === newVal._uuid);\n                if (idx !== -1)\n                    state.playlists[idx] = newVal;\n            },\n        });\n        // --- Actions ---\n        const navigate = async (view) => {\n            // 1. 切换视图\n            state.currentView = view;\n            if (view !== 'editor')\n                state.activePlaylistUuid = null;\n            // 2. 滚动条复位\n            // 使用 nextTick 确保 DOM 已经切换为新页面后再执行滚动\n            await nextTick();\n            // 强制瞬间回顶，移除 smooth 以避免长短页面切换时的视觉残留\n            window.scrollTo(0, 0);\n        };\n        const handleSetupComplete = (type) => {\n            state.targetType = type;\n            // 移除自动创建逻辑，允许空列表\n            navigate('dashboard');\n        };\n        const enterEditor = (uuid) => {\n            state.activePlaylistUuid = uuid;\n            navigate('editor');\n        };\n        const createPlaylist = () => {\n            const newPlaylist = {\n                _uuid: generateUUID(),\n                id: '',\n                onFinishRule: 'loop',\n                trackInputMode: 'raw',\n                tracksRaw: '',\n                tracksStructured: [],\n                // 默认类型修正为 'base'\n                mvuConfig: { type: 'base', priority: 10, initVarRaw: '', conditions: [] },\n                textConfig: { sceneDescription: '' },\n            };\n            state.playlists.push(newPlaylist);\n        };\n        const deletePlaylist = (uuid) => {\n            const idx = state.playlists.findIndex(p => p._uuid === uuid);\n            if (idx !== -1) {\n                if (state.playlists[idx].id === state.defaultPlaylistId)\n                    state.defaultPlaylistId = null;\n                state.playlists.splice(idx, 1);\n            }\n        };\n        const updateDefaultPlaylist = (id) => {\n            state.defaultPlaylistId = id;\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createCommentVNode(\" 页面转场容器 \"),\n                _createVNode(_Transition, {\n                    name: \"page\",\n                    mode: \"out-in\"\n                }, {\n                    default: _withCtx(() => [\n                        (state.currentView === 'home')\n                            ? (_openBlock(), _createBlock(Home, {\n                                key: \"home\",\n                                onStart: _cache[0] || (_cache[0] = ($event) => (navigate('setup')))\n                            }))\n                            : (state.currentView === 'setup')\n                                ? (_openBlock(), _createBlock(Setup, {\n                                    key: \"setup\",\n                                    onBack: _cache[1] || (_cache[1] = ($event) => (navigate('home'))),\n                                    onSelect: handleSetupComplete\n                                }))\n                                : (state.currentView === 'dashboard')\n                                    ? (_openBlock(), _createBlock(Dashboard, {\n                                        key: \"dashboard\",\n                                        state: state,\n                                        onNavigate: navigate,\n                                        onCreate: createPlaylist,\n                                        onEdit: enterEditor,\n                                        onDelete: deletePlaylist,\n                                        \"onUpdate:defaultPlaylist\": updateDefaultPlaylist\n                                    }, null, 8 /* PROPS */, [\"state\"]))\n                                    : (state.currentView === 'editor')\n                                        ? (_openBlock(), _createBlock(PlaylistEditor, {\n                                            key: \"editor\",\n                                            modelValue: activePlaylist.value,\n                                            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => ((activePlaylist).value = $event)),\n                                            \"target-type\": state.targetType,\n                                            errors: {},\n                                            onBack: _cache[3] || (_cache[3] = ($event) => (navigate('dashboard')))\n                                        }, null, 8 /* PROPS */, [\"modelValue\", \"target-type\"]))\n                                        : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _: 1 /* STABLE */\n                })\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./app.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./app.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./app.vue?vue&type=style&index=0&id=4e1a0dca&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from 'vue';\nimport app from './app.vue';\n\n$(() => {\n  createApp(app).mount('#app');\n});\n"],"names":["exports","sfc","props","target","__vccOpts","key","val","__webpack_module_cache__","Vue","generateUUID","chars","autoId","i","charAt","Math","floor","random","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","__name","required","emits","setup","__props","mode","rawText","structuredList","addTrack","value","push","id","url","title","artist","cover","_ctx","_cache","type","onClick","$event","placeholder","length","name","default","track","index","splice","_","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","targetType","errors","playlist","currentType","computed","mvuConfig","setPlaylistType","addMvuCondition","conditions","path","operator","watch","newType","$emit","onFinishRule","TrackInput","trackInputMode","raw","tracksRaw","structured","tracksStructured","priority","number","cond","idx","rows","initVarRaw","textConfig","sceneDescription","OPERATOR_MAP","indent","level","repeat","generatePrompt","state","playlists","defaultPlaylistId","isMvu","prompt","defaultPlaylist","find","p","isValidDefault","forEach","tracks","yaml","t","trim","formatStructuredTracks","validConditions","filter","c","yamlKey","test","formatMvuConfig","validateGlobalState","messages","passed","allIds","map","otherIds","basic","existingIds","includes","some","isValid","Object","keys","validatePlaylistBasic","errFields","values","join","logicErrors","baseLabel","validatePlaylistLogic","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","emit","__emit","showHelpModal","ref","showTipModal","getIconContainerClass","getIconClass","getPlaylistTypeLabel","onDefaultPlaylistChange","event","handleSwitchMode","confirm","handleGenerate","result","errorMsg","toastr","error","alert","promptText","command","triggerSlash","success","e","_uuid","onChange","style","reactive","currentView","activePlaylistUuid","activePlaylist","get","set","newVal","findIndex","navigate","async","view","nextTick","window","scrollTo","handleSetupComplete","enterEditor","uuid","createPlaylist","newPlaylist","deletePlaylist","updateDefaultPlaylist","Home","onStart","Setup","onBack","onSelect","Dashboard","onNavigate","onCreate","onEdit","onDelete","PlaylistEditor","modelValue","$","createApp","app","mount"],"ignoreList":[],"sourceRoot":""}